function aE(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function lE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tf={exports:{}},nl={},nf={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function uE(){if(cy)return Ae;cy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function k(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function F(L,H,me){this.props=L,this.context=H,this.refs=O,this.updater=me||V}F.prototype.isReactComponent={},F.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=F.prototype;function te(L,H,me){this.props=L,this.context=H,this.refs=O,this.updater=me||V}var X=te.prototype=new W;X.constructor=te,M(X,F.prototype),X.isPureReactComponent=!0;var K=Array.isArray,se=Object.prototype.hasOwnProperty,re={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(L,H,me){var Ie,ke={},be=null,Be=null;if(H!=null)for(Ie in H.ref!==void 0&&(Be=H.ref),H.key!==void 0&&(be=""+H.key),H)se.call(H,Ie)&&!P.hasOwnProperty(Ie)&&(ke[Ie]=H[Ie]);var je=arguments.length-2;if(je===1)ke.children=me;else if(1<je){for(var Ye=Array(je),Pt=0;Pt<je;Pt++)Ye[Pt]=arguments[Pt+2];ke.children=Ye}if(L&&L.defaultProps)for(Ie in je=L.defaultProps,je)ke[Ie]===void 0&&(ke[Ie]=je[Ie]);return{$$typeof:n,type:L,key:be,ref:Be,props:ke,_owner:re.current}}function b(L,H){return{$$typeof:n,type:L.type,key:H,ref:L.ref,props:L.props,_owner:L._owner}}function _(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function R(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(me){return H[me]})}var N=/\/+/g;function A(L,H){return typeof L=="object"&&L!==null&&L.key!=null?R(""+L.key):H.toString(36)}function Ce(L,H,me,Ie,ke){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Be=!1;if(L===null)Be=!0;else switch(be){case"string":case"number":Be=!0;break;case"object":switch(L.$$typeof){case n:case e:Be=!0}}if(Be)return Be=L,ke=ke(Be),L=Ie===""?"."+A(Be,0):Ie,K(ke)?(me="",L!=null&&(me=L.replace(N,"$&/")+"/"),Ce(ke,H,me,"",function(Pt){return Pt})):ke!=null&&(_(ke)&&(ke=b(ke,me+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(N,"$&/")+"/")+L)),H.push(ke)),1;if(Be=0,Ie=Ie===""?".":Ie+":",K(L))for(var je=0;je<L.length;je++){be=L[je];var Ye=Ie+A(be,je);Be+=Ce(be,H,me,Ye,ke)}else if(Ye=k(L),typeof Ye=="function")for(L=Ye.call(L),je=0;!(be=L.next()).done;)be=be.value,Ye=Ie+A(be,je++),Be+=Ce(be,H,me,Ye,ke);else if(be==="object")throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Be}function He(L,H,me){if(L==null)return L;var Ie=[],ke=0;return Ce(L,Ie,"","",function(be){return H.call(me,be,ke++)}),Ie}function lt(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(me){(L._status===0||L._status===-1)&&(L._status=1,L._result=me)},function(me){(L._status===0||L._status===-1)&&(L._status=2,L._result=me)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var Ue={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ie,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:He,forEach:function(L,H,me){He(L,function(){H.apply(this,arguments)},me)},count:function(L){var H=0;return He(L,function(){H++}),H},toArray:function(L){return He(L,function(H){return H})||[]},only:function(L){if(!_(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=F,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=te,Ae.StrictMode=i,Ae.Suspense=m,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=le,Ae.cloneElement=function(L,H,me){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ie=M({},L.props),ke=L.key,be=L.ref,Be=L._owner;if(H!=null){if(H.ref!==void 0&&(be=H.ref,Be=re.current),H.key!==void 0&&(ke=""+H.key),L.type&&L.type.defaultProps)var je=L.type.defaultProps;for(Ye in H)se.call(H,Ye)&&!P.hasOwnProperty(Ye)&&(Ie[Ye]=H[Ye]===void 0&&je!==void 0?je[Ye]:H[Ye])}var Ye=arguments.length-2;if(Ye===1)Ie.children=me;else if(1<Ye){je=Array(Ye);for(var Pt=0;Pt<Ye;Pt++)je[Pt]=arguments[Pt+2];Ie.children=je}return{$$typeof:n,type:L.type,key:ke,ref:be,props:Ie,_owner:Be}},Ae.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ae.createElement=I,Ae.createFactory=function(L){var H=I.bind(null,L);return H.type=L,H},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:d,render:L}},Ae.isValidElement=_,Ae.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:lt}},Ae.memo=function(L,H){return{$$typeof:y,type:L,compare:H===void 0?null:H}},Ae.startTransition=function(L){var H=ie.transition;ie.transition={};try{L()}finally{ie.transition=H}},Ae.unstable_act=le,Ae.useCallback=function(L,H){return Ue.current.useCallback(L,H)},Ae.useContext=function(L){return Ue.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return Ue.current.useDeferredValue(L)},Ae.useEffect=function(L,H){return Ue.current.useEffect(L,H)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(L,H,me){return Ue.current.useImperativeHandle(L,H,me)},Ae.useInsertionEffect=function(L,H){return Ue.current.useInsertionEffect(L,H)},Ae.useLayoutEffect=function(L,H){return Ue.current.useLayoutEffect(L,H)},Ae.useMemo=function(L,H){return Ue.current.useMemo(L,H)},Ae.useReducer=function(L,H,me){return Ue.current.useReducer(L,H,me)},Ae.useRef=function(L){return Ue.current.useRef(L)},Ae.useState=function(L){return Ue.current.useState(L)},Ae.useSyncExternalStore=function(L,H,me){return Ue.current.useSyncExternalStore(L,H,me)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var hy;function sp(){return hy||(hy=1,nf.exports=uE()),nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function cE(){if(dy)return nl;dy=1;var n=sp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,m,y){var E,S={},k=null,V=null;y!==void 0&&(k=""+y),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(V=m.ref);for(E in m)i.call(m,E)&&!l.hasOwnProperty(E)&&(S[E]=m[E]);if(d&&d.defaultProps)for(E in m=d.defaultProps,m)S[E]===void 0&&(S[E]=m[E]);return{$$typeof:e,type:d,key:k,ref:V,props:S,_owner:o.current}}return nl.Fragment=t,nl.jsx=h,nl.jsxs=h,nl}var fy;function hE(){return fy||(fy=1,tf.exports=cE()),tf.exports}var ae=hE(),Fe=sp();const dE=lE(Fe),py=aE({__proto__:null,default:dE},[Fe]);var tc={},rf={exports:{}},cn={},sf={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function fE(){return my||(my=1,function(n){function e(ie,ge){var le=ie.length;ie.push(ge);e:for(;0<le;){var L=le-1>>>1,H=ie[L];if(0<o(H,ge))ie[L]=ge,ie[le]=H,le=L;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var ge=ie[0],le=ie.pop();if(le!==ge){ie[0]=le;e:for(var L=0,H=ie.length,me=H>>>1;L<me;){var Ie=2*(L+1)-1,ke=ie[Ie],be=Ie+1,Be=ie[be];if(0>o(ke,le))be<H&&0>o(Be,ke)?(ie[L]=Be,ie[be]=le,L=be):(ie[L]=ke,ie[Ie]=le,L=Ie);else if(be<H&&0>o(Be,le))ie[L]=Be,ie[be]=le,L=be;else break e}}return ge}function o(ie,ge){var le=ie.sortIndex-ge.sortIndex;return le!==0?le:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();n.unstable_now=function(){return h.now()-d}}var m=[],y=[],E=1,S=null,k=3,V=!1,M=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(ie){for(var ge=t(y);ge!==null;){if(ge.callback===null)i(y);else if(ge.startTime<=ie)i(y),ge.sortIndex=ge.expirationTime,e(m,ge);else break;ge=t(y)}}function K(ie){if(O=!1,X(ie),!M)if(t(m)!==null)M=!0,lt(se);else{var ge=t(y);ge!==null&&Ue(K,ge.startTime-ie)}}function se(ie,ge){M=!1,O&&(O=!1,W(I),I=-1),V=!0;var le=k;try{for(X(ge),S=t(m);S!==null&&(!(S.expirationTime>ge)||ie&&!R());){var L=S.callback;if(typeof L=="function"){S.callback=null,k=S.priorityLevel;var H=L(S.expirationTime<=ge);ge=n.unstable_now(),typeof H=="function"?S.callback=H:S===t(m)&&i(m),X(ge)}else i(m);S=t(m)}if(S!==null)var me=!0;else{var Ie=t(y);Ie!==null&&Ue(K,Ie.startTime-ge),me=!1}return me}finally{S=null,k=le,V=!1}}var re=!1,P=null,I=-1,b=5,_=-1;function R(){return!(n.unstable_now()-_<b)}function N(){if(P!==null){var ie=n.unstable_now();_=ie;var ge=!0;try{ge=P(!0,ie)}finally{ge?A():(re=!1,P=null)}}else re=!1}var A;if(typeof te=="function")A=function(){te(N)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,He=Ce.port2;Ce.port1.onmessage=N,A=function(){He.postMessage(null)}}else A=function(){F(N,0)};function lt(ie){P=ie,re||(re=!0,A())}function Ue(ie,ge){I=F(function(){ie(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){M||V||(M=!0,lt(se))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ie){switch(k){case 1:case 2:case 3:var ge=3;break;default:ge=k}var le=k;k=ge;try{return ie()}finally{k=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=k;k=ie;try{return ge()}finally{k=le}},n.unstable_scheduleCallback=function(ie,ge,le){var L=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?L+le:L):le=L,ie){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=le+H,ie={id:E++,callback:ge,priorityLevel:ie,startTime:le,expirationTime:H,sortIndex:-1},le>L?(ie.sortIndex=le,e(y,ie),t(m)===null&&ie===t(y)&&(O?(W(I),I=-1):O=!0,Ue(K,le-L))):(ie.sortIndex=H,e(m,ie),M||V||(M=!0,lt(se))),ie},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ie){var ge=k;return function(){var le=k;k=ge;try{return ie.apply(this,arguments)}finally{k=le}}}}(of)),of}var gy;function pE(){return gy||(gy=1,sf.exports=fE()),sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function mE(){if(yy)return cn;yy=1;var n=sp(),e=pE();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function k(r){return m.call(S,r)?!0:m.call(E,r)?!1:y.test(r)?S[r]=!0:(E[r]=!0,!1)}function V(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,a,c){if(s===null||typeof s>"u"||V(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,c,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];F[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,te);F[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,te);F[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,te);F[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function X(r,s,a,c){var f=F.hasOwnProperty(s)?F[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,a,f,c)&&(a=null),c||f===null?k(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),re=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,L;function H(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var me=!1;function Ie(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var c=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){c=z}r.call(s.prototype)}else{try{throw Error()}catch(z){c=z}r()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),g=c.stack.split(`
`),w=f.length-1,C=g.length-1;1<=w&&0<=C&&f[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(f[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||f[w]!==g[C]){var x=`
`+f[w].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=w&&0<=C);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?H(r):""}function ke(r){switch(r.tag){case 5:return H(r.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case re:return"Portal";case b:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case _:return(r._context.displayName||"Context")+".Provider";case N:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case He:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case lt:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function Be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ye(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pt(r){var s=Ye(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ir(r){r._valueTracker||(r._valueTracker=Pt(r))}function xs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ye(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Wi(r,s){var a=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ns(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function la(r,s){s=s.checked,s!=null&&X(r,"checked",s,!1)}function ua(r,s){la(r,s);var a=je(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ds(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ds(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Bl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ds(r,s,a){(s!=="number"||ei(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var kr=Array.isArray;function Ar(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ca(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Os(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(kr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:je(a)}}function Vs(r,s){var a=je(s.value),c=je(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function ha(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function St(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?St(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Cr,da=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Cr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ti(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hi=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(r){Hi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),qi[s]=qi[r]})});function fa(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||qi.hasOwnProperty(r)&&qi[r]?(""+s).trim():s+"px"}function pa(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=fa(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var ma=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(r,s){if(s){if(ma[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ya(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,Sn=null,er=null;function Fs(r){if(r=ja(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=gu(s),Ls(r.stateNode,r.type,s))}}function tr(r){Sn?er?er.push(r):er=[r]:Sn=r}function va(){if(Sn){var r=Sn,s=er;if(er=Sn=null,Fs(r),s)for(r=0;r<s.length;r++)Fs(s[r])}}function Ki(r,s){return r(s)}function _a(){}var Rr=!1;function wa(r,s,a){if(Rr)return r(s,a);Rr=!0;try{return Ki(r,s,a)}finally{Rr=!1,(Sn!==null||er!==null)&&(_a(),va())}}function ft(r,s){var a=r.stateNode;if(a===null)return null;var c=gu(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Us=!1;if(d)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Us=!1}function Qi(r,s,a,c,f,g,w,C,x){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(Y){this.onError(Y)}}var Yi=!1,Bs=null,Ln=!1,Ea=null,Ph={onError:function(r){Yi=!0,Bs=r}};function js(r,s,a,c,f,g,w,C,x){Yi=!1,Bs=null,Qi.apply(Ph,arguments)}function jl(r,s,a,c,f,g,w,C,x){if(js.apply(this,arguments),Yi){if(Yi){var z=Bs;Yi=!1,Bs=null}else throw Error(t(198));Ln||(Ln=!0,Ea=z)}}function Fn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Xi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Un(r){if(Fn(r)!==r)throw Error(t(188))}function zl(r){var s=r.alternate;if(!s){if(s=Fn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Un(f),r;if(g===c)return Un(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=g;else{for(var w=!1,C=f.child;C;){if(C===a){w=!0,a=f,c=g;break}if(C===c){w=!0,c=f,a=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===a){w=!0,a=g,c=f;break}if(C===c){w=!0,c=g,a=f;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Ta(r){return r=zl(r),r!==null?zs(r):null}function zs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=zs(r);if(s!==null)return s;r=r.sibling}return null}var $s=e.unstable_scheduleCallback,Sa=e.unstable_cancelCallback,$l=e.unstable_shouldYield,bh=e.unstable_requestPaint,Xe=e.unstable_now,Wl=e.unstable_getCurrentPriorityLevel,Ji=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,ql=e.unstable_IdlePriority,Zi=null,fn=null;function Hl(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Zi,r,void 0,(r.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Kl,ka=Math.log,Gl=Math.LN2;function Kl(r){return r>>>=0,r===0?32:31-(ka(r)/Gl|0)|0}var Ws=64,qs=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function es(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~f;C!==0?c=ri(C):(g&=w,g!==0&&(c=ri(g)))}else w=a&~f,w!==0?c=ri(w):g!==0&&(c=ri(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Jt(s),f=1<<a,c|=r[a],s&=~f;return c}function xh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Jt(g),C=1<<w,x=f[w];x===-1?(!(C&a)||C&c)&&(f[w]=xh(C,s)):x<=s&&(r.expiredLanes|=C),g&=~C}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ts(){var r=Ws;return Ws<<=1,!(Ws&4194240)&&(Ws=64),r}function ii(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function si(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Jt(s),r[s]=a}function Ge(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Jt(a),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~g}}function oi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Jt(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var Pe=0;function ai(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ql,Hs,Yl,Xl,Jl,Aa=!1,nr=[],Vt=null,Bn=null,jn=null,li=new Map,kn=new Map,rr=[],Nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zl(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(s.pointerId)}}function nn(r,s,a,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ja(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Dh(r,s,a,c,f){switch(s){case"focusin":return Vt=nn(Vt,r,s,a,c,f),!0;case"dragenter":return Bn=nn(Bn,r,s,a,c,f),!0;case"mouseover":return jn=nn(jn,r,s,a,c,f),!0;case"pointerover":var g=f.pointerId;return li.set(g,nn(li.get(g)||null,r,s,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,kn.set(g,nn(kn.get(g)||null,r,s,a,c,f)),!0}return!1}function eu(r){var s=os(r.target);if(s!==null){var a=Fn(s);if(a!==null){if(s=a.tag,s===13){if(s=Xi(a),s!==null){r.blockedOn=s,Jl(r.priority,function(){Yl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function br(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Gs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Gi=c,a.target.dispatchEvent(c),Gi=null}else return s=ja(a),s!==null&&Hs(s),r.blockedOn=a,!1;s.shift()}return!0}function ns(r,s,a){br(r)&&a.delete(s)}function tu(){Aa=!1,Vt!==null&&br(Vt)&&(Vt=null),Bn!==null&&br(Bn)&&(Bn=null),jn!==null&&br(jn)&&(jn=null),li.forEach(ns),kn.forEach(ns)}function zn(r,s){r.blockedOn===s&&(r.blockedOn=null,Aa||(Aa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tu)))}function $n(r){function s(f){return zn(f,r)}if(0<nr.length){zn(nr[0],r);for(var a=1;a<nr.length;a++){var c=nr[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Vt!==null&&zn(Vt,r),Bn!==null&&zn(Bn,r),jn!==null&&zn(jn,r),li.forEach(s),kn.forEach(s),a=0;a<rr.length;a++)c=rr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)eu(a),a.blockedOn===null&&rr.shift()}var xr=K.ReactCurrentBatchConfig,ui=!0;function tt(r,s,a,c){var f=Pe,g=xr.transition;xr.transition=null;try{Pe=1,Ca(r,s,a,c)}finally{Pe=f,xr.transition=g}}function Oh(r,s,a,c){var f=Pe,g=xr.transition;xr.transition=null;try{Pe=4,Ca(r,s,a,c)}finally{Pe=f,xr.transition=g}}function Ca(r,s,a,c){if(ui){var f=Gs(r,s,a,c);if(f===null)qh(r,s,c,rs,a),Zl(r,c);else if(Dh(f,r,s,a,c))c.stopPropagation();else if(Zl(r,c),s&4&&-1<Nh.indexOf(r)){for(;f!==null;){var g=ja(f);if(g!==null&&Ql(g),g=Gs(r,s,a,c),g===null&&qh(r,s,c,rs,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else qh(r,s,c,null,a)}}var rs=null;function Gs(r,s,a,c){if(rs=null,r=Ms(c),r=os(r),r!==null)if(s=Fn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Xi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return rs=r,null}function Ra(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wl()){case Ji:return 1;case ni:return 4;case In:case Ia:return 16;case ql:return 536870912;default:return 16}default:return 16}}var mn=null,Ks=null,rn=null;function Pa(){if(rn)return rn;var r,s=Ks,a=s.length,c,f="value"in mn?mn.value:mn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===f[g-c];c++);return rn=f.slice(r,1<c?1-c:void 0)}function Qs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function ba(){return!1}function Mt(r){function s(a,c,f,g,w){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ir:ba,this.isPropagationStopped=ba,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Mt(Wn),sr=le({},Wn,{view:0,detail:0}),Vh=Mt(sr),Xs,Nr,ci,is=le({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(Xs=r.screenX-ci.screenX,Nr=r.screenY-ci.screenY):Nr=Xs=0,ci=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Nr}}),Js=Mt(is),xa=le({},is,{dataTransfer:0}),nu=Mt(xa),Zs=le({},sr,{relatedTarget:0}),eo=Mt(Zs),ru=le({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Mt(ru),iu=le({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),su=Mt(iu),ou=le({},Wn,{data:0}),Na=Mt(ou),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=au[r])?!!s[r]:!1}function or(){return lu}var u=le({},sr,{key:function(r){if(r.key){var s=to[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(r){return r.type==="keypress"?Qs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=Mt(u),v=le({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Mt(v),U=le({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),$=Mt(U),ne=le({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Mt(ne),kt=le({},is,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=Mt(kt),bt=[9,13,27,32],vt=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var gn=d&&"TextEvent"in window&&!An,ss=d&&(!vt||An&&8<An&&11>=An),no=" ",im=!1;function sm(r,s){switch(r){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ro=!1;function i1(r,s){switch(r){case"compositionend":return om(s);case"keypress":return s.which!==32?null:(im=!0,no);case"textInput":return r=s.data,r===no&&im?null:r;default:return null}}function s1(r,s){if(ro)return r==="compositionend"||!vt&&sm(r,s)?(r=Pa(),rn=Ks=mn=null,ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ss&&s.locale!=="ko"?null:s.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!o1[r.type]:s==="textarea"}function lm(r,s,a,c){tr(c),s=fu(s,"onChange"),0<s.length&&(a=new Ys("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Da=null,Oa=null;function a1(r){Am(r,0)}function uu(r){var s=lo(r);if(xs(s))return r}function l1(r,s){if(r==="change")return s}var um=!1;if(d){var Mh;if(d){var Lh="oninput"in document;if(!Lh){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Lh=typeof cm.oninput=="function"}Mh=Lh}else Mh=!1;um=Mh&&(!document.documentMode||9<document.documentMode)}function hm(){Da&&(Da.detachEvent("onpropertychange",dm),Oa=Da=null)}function dm(r){if(r.propertyName==="value"&&uu(Oa)){var s=[];lm(s,Oa,r,Ms(r)),wa(a1,s)}}function u1(r,s,a){r==="focusin"?(hm(),Da=s,Oa=a,Da.attachEvent("onpropertychange",dm)):r==="focusout"&&hm()}function c1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uu(Oa)}function h1(r,s){if(r==="click")return uu(s)}function d1(r,s){if(r==="input"||r==="change")return uu(s)}function f1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qn=typeof Object.is=="function"?Object.is:f1;function Va(r,s){if(qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!m.call(s,f)||!qn(r[f],s[f]))return!1}return!0}function fm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pm(r,s){var a=fm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fm(a)}}function mm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function gm(){for(var r=window,s=ei();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ei(r.document)}return s}function Fh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function p1(r){var s=gm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&mm(a.ownerDocument.documentElement,a)){if(c!==null&&Fh(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=pm(a,g);var w=pm(a,c);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var m1=d&&"documentMode"in document&&11>=document.documentMode,io=null,Uh=null,Ma=null,Bh=!1;function ym(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||io==null||io!==ei(c)||(c=io,"selectionStart"in c&&Fh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ma&&Va(Ma,c)||(Ma=c,c=fu(Uh,"onSelect"),0<c.length&&(s=new Ys("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=io)))}function cu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var so={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},jh={},vm={};d&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function hu(r){if(jh[r])return jh[r];if(!so[r])return r;var s=so[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in vm)return jh[r]=s[a];return r}var _m=hu("animationend"),wm=hu("animationiteration"),Em=hu("animationstart"),Tm=hu("transitionend"),Sm=new Map,Im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){Sm.set(r,s),l(s,[r])}for(var zh=0;zh<Im.length;zh++){var $h=Im[zh],g1=$h.toLowerCase(),y1=$h[0].toUpperCase()+$h.slice(1);hi(g1,"on"+y1)}hi(_m,"onAnimationEnd"),hi(wm,"onAnimationIteration"),hi(Em,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Tm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function km(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,jl(c,s,void 0,r),r.currentTarget=null}function Am(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var C=c[w],x=C.instance,z=C.currentTarget;if(C=C.listener,x!==g&&f.isPropagationStopped())break e;km(f,C,z),g=x}else for(w=0;w<c.length;w++){if(C=c[w],x=C.instance,z=C.currentTarget,C=C.listener,x!==g&&f.isPropagationStopped())break e;km(f,C,z),g=x}}}if(Ln)throw r=Ea,Ln=!1,Ea=null,r}function Ze(r,s){var a=s[Xh];a===void 0&&(a=s[Xh]=new Set);var c=r+"__bubble";a.has(c)||(Cm(s,r,2,!1),a.add(c))}function Wh(r,s,a){var c=0;s&&(c|=4),Cm(a,r,c,s)}var du="_reactListening"+Math.random().toString(36).slice(2);function Fa(r){if(!r[du]){r[du]=!0,i.forEach(function(a){a!=="selectionchange"&&(v1.has(a)||Wh(a,!1,r),Wh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[du]||(s[du]=!0,Wh("selectionchange",!1,s))}}function Cm(r,s,a,c){switch(Ra(s)){case 1:var f=tt;break;case 4:f=Oh;break;default:f=Ca}a=f.bind(null,s,a,r),f=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function qh(r,s,a,c,f){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var x=w.tag;if((x===3||x===4)&&(x=w.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;w=w.return}for(;C!==null;){if(w=os(C),w===null)return;if(x=w.tag,x===5||x===6){c=g=w;continue e}C=C.parentNode}}c=c.return}wa(function(){var z=g,Y=Ms(a),J=[];e:{var Q=Sm.get(r);if(Q!==void 0){var oe=Ys,he=r;switch(r){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":he="focus",oe=eo;break;case"focusout":he="blur",oe=eo;break;case"beforeblur":case"afterblur":oe=eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=$;break;case _m:case wm:case Em:oe=Dr;break;case Tm:oe=We;break;case"scroll":oe=Vh;break;case"wheel":oe=xe;break;case"copy":case"cut":case"paste":oe=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var de=(s&4)!==0,pt=!de&&r==="scroll",B=de?Q!==null?Q+"Capture":null:Q;de=[];for(var D=z,j;D!==null;){j=D;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,B!==null&&(Z=ft(D,B),Z!=null&&de.push(Ua(D,Z,j)))),pt)break;D=D.return}0<de.length&&(Q=new oe(Q,he,null,a,Y),J.push({event:Q,listeners:de}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Q&&a!==Gi&&(he=a.relatedTarget||a.fromElement)&&(os(he)||he[Or]))break e;if((oe||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(he=a.relatedTarget||a.toElement,oe=z,he=he?os(he):null,he!==null&&(pt=Fn(he),he!==pt||he.tag!==5&&he.tag!==6)&&(he=null)):(oe=null,he=z),oe!==he)){if(de=Js,Z="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(de=T,Z="onPointerLeave",B="onPointerEnter",D="pointer"),pt=oe==null?Q:lo(oe),j=he==null?Q:lo(he),Q=new de(Z,D+"leave",oe,a,Y),Q.target=pt,Q.relatedTarget=j,Z=null,os(Y)===z&&(de=new de(B,D+"enter",he,a,Y),de.target=j,de.relatedTarget=pt,Z=de),pt=Z,oe&&he)t:{for(de=oe,B=he,D=0,j=de;j;j=oo(j))D++;for(j=0,Z=B;Z;Z=oo(Z))j++;for(;0<D-j;)de=oo(de),D--;for(;0<j-D;)B=oo(B),j--;for(;D--;){if(de===B||B!==null&&de===B.alternate)break t;de=oo(de),B=oo(B)}de=null}else de=null;oe!==null&&Rm(J,Q,oe,de,!1),he!==null&&pt!==null&&Rm(J,pt,he,de,!0)}}e:{if(Q=z?lo(z):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var fe=l1;else if(am(Q))if(um)fe=d1;else{fe=c1;var ye=u1}else(oe=Q.nodeName)&&oe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(fe=h1);if(fe&&(fe=fe(r,z))){lm(J,fe,a,Y);break e}ye&&ye(r,Q,z),r==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&Ds(Q,"number",Q.value)}switch(ye=z?lo(z):window,r){case"focusin":(am(ye)||ye.contentEditable==="true")&&(io=ye,Uh=z,Ma=null);break;case"focusout":Ma=Uh=io=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,ym(J,a,Y);break;case"selectionchange":if(m1)break;case"keydown":case"keyup":ym(J,a,Y)}var ve;if(vt)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ro?sm(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ss&&a.locale!=="ko"&&(ro||we!=="onCompositionStart"?we==="onCompositionEnd"&&ro&&(ve=Pa()):(mn=Y,Ks="value"in mn?mn.value:mn.textContent,ro=!0)),ye=fu(z,we),0<ye.length&&(we=new Na(we,r,null,a,Y),J.push({event:we,listeners:ye}),ve?we.data=ve:(ve=om(a),ve!==null&&(we.data=ve)))),(ve=gn?i1(r,a):s1(r,a))&&(z=fu(z,"onBeforeInput"),0<z.length&&(Y=new Na("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:z}),Y.data=ve))}Am(J,s)})}function Ua(r,s,a){return{instance:r,listener:s,currentTarget:a}}function fu(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ft(r,a),g!=null&&c.unshift(Ua(r,g,f)),g=ft(r,s),g!=null&&c.push(Ua(r,g,f))),r=r.return}return c}function oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rm(r,s,a,c,f){for(var g=s._reactName,w=[];a!==null&&a!==c;){var C=a,x=C.alternate,z=C.stateNode;if(x!==null&&x===c)break;C.tag===5&&z!==null&&(C=z,f?(x=ft(a,g),x!=null&&w.unshift(Ua(a,x,C))):f||(x=ft(a,g),x!=null&&w.push(Ua(a,x,C)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var _1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Pm(r){return(typeof r=="string"?r:""+r).replace(_1,`
`).replace(w1,"")}function pu(r,s,a){if(s=Pm(s),Pm(r)!==s&&a)throw Error(t(425))}function mu(){}var Hh=null,Gh=null;function Kh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(r){return bm.resolve(null).then(r).catch(S1)}:Qh;function S1(r){setTimeout(function(){throw r})}function Yh(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),$n(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);$n(s)}function di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function xm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ao=Math.random().toString(36).slice(2),ar="__reactFiber$"+ao,Ba="__reactProps$"+ao,Or="__reactContainer$"+ao,Xh="__reactEvents$"+ao,I1="__reactListeners$"+ao,k1="__reactHandles$"+ao;function os(r){var s=r[ar];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Or]||a[ar]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=xm(r);r!==null;){if(a=r[ar])return a;r=xm(r)}return s}r=a,a=r.parentNode}return null}function ja(r){return r=r[ar]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function lo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function gu(r){return r[Ba]||null}var Jh=[],uo=-1;function fi(r){return{current:r}}function et(r){0>uo||(r.current=Jh[uo],Jh[uo]=null,uo--)}function Je(r,s){uo++,Jh[uo]=r.current,r.current=s}var pi={},zt=fi(pi),sn=fi(!1),as=pi;function co(r,s){var a=r.type.contextTypes;if(!a)return pi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function on(r){return r=r.childContextTypes,r!=null}function yu(){et(sn),et(zt)}function Nm(r,s,a){if(zt.current!==pi)throw Error(t(168));Je(zt,s),Je(sn,a)}function Dm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(t(108,Be(r)||"Unknown",f));return le({},a,c)}function vu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,as=zt.current,Je(zt,r),Je(sn,sn.current),!0}function Om(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Dm(r,s,as),c.__reactInternalMemoizedMergedChildContext=r,et(sn),et(zt),Je(zt,r)):et(sn),Je(sn,a)}var Vr=null,_u=!1,Zh=!1;function Vm(r){Vr===null?Vr=[r]:Vr.push(r)}function A1(r){_u=!0,Vm(r)}function mi(){if(!Zh&&Vr!==null){Zh=!0;var r=0,s=Pe;try{var a=Vr;for(Pe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Vr=null,_u=!1}catch(f){throw Vr!==null&&(Vr=Vr.slice(r+1)),$s(Ji,mi),f}finally{Pe=s,Zh=!1}}return null}var ho=[],fo=0,wu=null,Eu=0,Cn=[],Rn=0,ls=null,Mr=1,Lr="";function us(r,s){ho[fo++]=Eu,ho[fo++]=wu,wu=r,Eu=s}function Mm(r,s,a){Cn[Rn++]=Mr,Cn[Rn++]=Lr,Cn[Rn++]=ls,ls=r;var c=Mr;r=Lr;var f=32-Jt(c)-1;c&=~(1<<f),a+=1;var g=32-Jt(s)+f;if(30<g){var w=f-f%5;g=(c&(1<<w)-1).toString(32),c>>=w,f-=w,Mr=1<<32-Jt(s)+f|a<<f|c,Lr=g+r}else Mr=1<<g|a<<f|c,Lr=r}function ed(r){r.return!==null&&(us(r,1),Mm(r,1,0))}function td(r){for(;r===wu;)wu=ho[--fo],ho[fo]=null,Eu=ho[--fo],ho[fo]=null;for(;r===ls;)ls=Cn[--Rn],Cn[Rn]=null,Lr=Cn[--Rn],Cn[Rn]=null,Mr=Cn[--Rn],Cn[Rn]=null}var yn=null,vn=null,nt=!1,Hn=null;function Lm(r,s){var a=Nn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Fm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ls!==null?{id:Mr,overflow:Lr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Nn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,yn=r,vn=null,!0):!1;default:return!1}}function nd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function rd(r){if(nt){var s=vn;if(s){var a=s;if(!Fm(r,s)){if(nd(r))throw Error(t(418));s=di(a.nextSibling);var c=yn;s&&Fm(r,s)?Lm(c,a):(r.flags=r.flags&-4097|2,nt=!1,yn=r)}}else{if(nd(r))throw Error(t(418));r.flags=r.flags&-4097|2,nt=!1,yn=r}}}function Um(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function Tu(r){if(r!==yn)return!1;if(!nt)return Um(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Kh(r.type,r.memoizedProps)),s&&(s=vn)){if(nd(r))throw Bm(),Error(t(418));for(;s;)Lm(r,s),s=di(s.nextSibling)}if(Um(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){vn=di(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?di(r.stateNode.nextSibling):null;return!0}function Bm(){for(var r=vn;r;)r=di(r.nextSibling)}function po(){vn=yn=null,nt=!1}function id(r){Hn===null?Hn=[r]:Hn.push(r)}var C1=K.ReactCurrentBatchConfig;function za(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=f.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Su(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function jm(r){var s=r._init;return s(r._payload)}function zm(r){function s(B,D){if(r){var j=B.deletions;j===null?(B.deletions=[D],B.flags|=16):j.push(D)}}function a(B,D){if(!r)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function c(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function f(B,D){return B=Si(B,D),B.index=0,B.sibling=null,B}function g(B,D,j){return B.index=j,r?(j=B.alternate,j!==null?(j=j.index,j<D?(B.flags|=2,D):j):(B.flags|=2,D)):(B.flags|=1048576,D)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function C(B,D,j,Z){return D===null||D.tag!==6?(D=Qd(j,B.mode,Z),D.return=B,D):(D=f(D,j),D.return=B,D)}function x(B,D,j,Z){var fe=j.type;return fe===P?Y(B,D,j.props.children,Z,j.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===lt&&jm(fe)===D.type)?(Z=f(D,j.props),Z.ref=za(B,D,j),Z.return=B,Z):(Z=Gu(j.type,j.key,j.props,null,B.mode,Z),Z.ref=za(B,D,j),Z.return=B,Z)}function z(B,D,j,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Yd(j,B.mode,Z),D.return=B,D):(D=f(D,j.children||[]),D.return=B,D)}function Y(B,D,j,Z,fe){return D===null||D.tag!==7?(D=ys(j,B.mode,Z,fe),D.return=B,D):(D=f(D,j),D.return=B,D)}function J(B,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Qd(""+D,B.mode,j),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case se:return j=Gu(D.type,D.key,D.props,null,B.mode,j),j.ref=za(B,null,D),j.return=B,j;case re:return D=Yd(D,B.mode,j),D.return=B,D;case lt:var Z=D._init;return J(B,Z(D._payload),j)}if(kr(D)||ge(D))return D=ys(D,B.mode,j,null),D.return=B,D;Su(B,D)}return null}function Q(B,D,j,Z){var fe=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return fe!==null?null:C(B,D,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case se:return j.key===fe?x(B,D,j,Z):null;case re:return j.key===fe?z(B,D,j,Z):null;case lt:return fe=j._init,Q(B,D,fe(j._payload),Z)}if(kr(j)||ge(j))return fe!==null?null:Y(B,D,j,Z,null);Su(B,j)}return null}function oe(B,D,j,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(j)||null,C(D,B,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case se:return B=B.get(Z.key===null?j:Z.key)||null,x(D,B,Z,fe);case re:return B=B.get(Z.key===null?j:Z.key)||null,z(D,B,Z,fe);case lt:var ye=Z._init;return oe(B,D,j,ye(Z._payload),fe)}if(kr(Z)||ge(Z))return B=B.get(j)||null,Y(D,B,Z,fe,null);Su(D,Z)}return null}function he(B,D,j,Z){for(var fe=null,ye=null,ve=D,we=D=0,Dt=null;ve!==null&&we<j.length;we++){ve.index>we?(Dt=ve,ve=null):Dt=ve.sibling;var Le=Q(B,ve,j[we],Z);if(Le===null){ve===null&&(ve=Dt);break}r&&ve&&Le.alternate===null&&s(B,ve),D=g(Le,D,we),ye===null?fe=Le:ye.sibling=Le,ye=Le,ve=Dt}if(we===j.length)return a(B,ve),nt&&us(B,we),fe;if(ve===null){for(;we<j.length;we++)ve=J(B,j[we],Z),ve!==null&&(D=g(ve,D,we),ye===null?fe=ve:ye.sibling=ve,ye=ve);return nt&&us(B,we),fe}for(ve=c(B,ve);we<j.length;we++)Dt=oe(ve,B,we,j[we],Z),Dt!==null&&(r&&Dt.alternate!==null&&ve.delete(Dt.key===null?we:Dt.key),D=g(Dt,D,we),ye===null?fe=Dt:ye.sibling=Dt,ye=Dt);return r&&ve.forEach(function(Ii){return s(B,Ii)}),nt&&us(B,we),fe}function de(B,D,j,Z){var fe=ge(j);if(typeof fe!="function")throw Error(t(150));if(j=fe.call(j),j==null)throw Error(t(151));for(var ye=fe=null,ve=D,we=D=0,Dt=null,Le=j.next();ve!==null&&!Le.done;we++,Le=j.next()){ve.index>we?(Dt=ve,ve=null):Dt=ve.sibling;var Ii=Q(B,ve,Le.value,Z);if(Ii===null){ve===null&&(ve=Dt);break}r&&ve&&Ii.alternate===null&&s(B,ve),D=g(Ii,D,we),ye===null?fe=Ii:ye.sibling=Ii,ye=Ii,ve=Dt}if(Le.done)return a(B,ve),nt&&us(B,we),fe;if(ve===null){for(;!Le.done;we++,Le=j.next())Le=J(B,Le.value,Z),Le!==null&&(D=g(Le,D,we),ye===null?fe=Le:ye.sibling=Le,ye=Le);return nt&&us(B,we),fe}for(ve=c(B,ve);!Le.done;we++,Le=j.next())Le=oe(ve,B,we,Le.value,Z),Le!==null&&(r&&Le.alternate!==null&&ve.delete(Le.key===null?we:Le.key),D=g(Le,D,we),ye===null?fe=Le:ye.sibling=Le,ye=Le);return r&&ve.forEach(function(oE){return s(B,oE)}),nt&&us(B,we),fe}function pt(B,D,j,Z){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case se:e:{for(var fe=j.key,ye=D;ye!==null;){if(ye.key===fe){if(fe=j.type,fe===P){if(ye.tag===7){a(B,ye.sibling),D=f(ye,j.props.children),D.return=B,B=D;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===lt&&jm(fe)===ye.type){a(B,ye.sibling),D=f(ye,j.props),D.ref=za(B,ye,j),D.return=B,B=D;break e}a(B,ye);break}else s(B,ye);ye=ye.sibling}j.type===P?(D=ys(j.props.children,B.mode,Z,j.key),D.return=B,B=D):(Z=Gu(j.type,j.key,j.props,null,B.mode,Z),Z.ref=za(B,D,j),Z.return=B,B=Z)}return w(B);case re:e:{for(ye=j.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(B,D.sibling),D=f(D,j.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=Yd(j,B.mode,Z),D.return=B,B=D}return w(B);case lt:return ye=j._init,pt(B,D,ye(j._payload),Z)}if(kr(j))return he(B,D,j,Z);if(ge(j))return de(B,D,j,Z);Su(B,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(a(B,D.sibling),D=f(D,j),D.return=B,B=D):(a(B,D),D=Qd(j,B.mode,Z),D.return=B,B=D),w(B)):a(B,D)}return pt}var mo=zm(!0),$m=zm(!1),Iu=fi(null),ku=null,go=null,sd=null;function od(){sd=go=ku=null}function ad(r){var s=Iu.current;et(Iu),r._currentValue=s}function ld(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function yo(r,s){ku=r,sd=go=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(an=!0),r.firstContext=null)}function Pn(r){var s=r._currentValue;if(sd!==r)if(r={context:r,memoizedValue:s,next:null},go===null){if(ku===null)throw Error(t(308));go=r,ku.dependencies={lanes:0,firstContext:r}}else go=go.next=r;return s}var cs=null;function ud(r){cs===null?cs=[r]:cs.push(r)}function Wm(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,ud(s)):(a.next=f.next,f.next=a),s.interleaved=a,Fr(r,c)}function Fr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var gi=!1;function cd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ur(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ve&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,Fr(r,a)}return f=c.interleaved,f===null?(s.next=s,ud(c)):(s.next=f.next,f.next=s),c.interleaved=s,Fr(r,a)}function Au(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,oi(r,a)}}function Hm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Cu(r,s,a,c){var f=r.updateQueue;gi=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var x=C,z=x.next;x.next=null,w===null?g=z:w.next=z,w=x;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==w&&(C===null?Y.firstBaseUpdate=z:C.next=z,Y.lastBaseUpdate=x))}if(g!==null){var J=f.baseState;w=0,Y=z=x=null,C=g;do{var Q=C.lane,oe=C.eventTime;if((c&Q)===Q){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=r,de=C;switch(Q=s,oe=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){J=he.call(oe,J,Q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Q=typeof he=="function"?he.call(oe,J,Q):he,Q==null)break e;J=le({},J,Q);break e;case 2:gi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,Q=f.effects,Q===null?f.effects=[C]:Q.push(C))}else oe={eventTime:oe,lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(z=Y=oe,x=J):Y=Y.next=oe,w|=Q;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Q=C,C=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);if(Y===null&&(x=J),f.baseState=x,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);fs|=w,r.lanes=w,r.memoizedState=J}}function Gm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var $a={},lr=fi($a),Wa=fi($a),qa=fi($a);function hs(r){if(r===$a)throw Error(t(174));return r}function hd(r,s){switch(Je(qa,s),Je(Wa,r),Je(lr,$a),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=It(s,r)}et(lr),Je(lr,s)}function vo(){et(lr),et(Wa),et(qa)}function Km(r){hs(qa.current);var s=hs(lr.current),a=It(s,r.type);s!==a&&(Je(Wa,r),Je(lr,a))}function dd(r){Wa.current===r&&(et(lr),et(Wa))}var it=fi(0);function Ru(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fd=[];function pd(){for(var r=0;r<fd.length;r++)fd[r]._workInProgressVersionPrimary=null;fd.length=0}var Pu=K.ReactCurrentDispatcher,md=K.ReactCurrentBatchConfig,ds=0,st=null,At=null,xt=null,bu=!1,Ha=!1,Ga=0,R1=0;function $t(){throw Error(t(321))}function gd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!qn(r[a],s[a]))return!1;return!0}function yd(r,s,a,c,f,g){if(ds=g,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Pu.current=r===null||r.memoizedState===null?N1:D1,r=a(c,f),Ha){g=0;do{if(Ha=!1,Ga=0,25<=g)throw Error(t(301));g+=1,xt=At=null,s.updateQueue=null,Pu.current=O1,r=a(c,f)}while(Ha)}if(Pu.current=Du,s=At!==null&&At.next!==null,ds=0,xt=At=st=null,bu=!1,s)throw Error(t(300));return r}function vd(){var r=Ga!==0;return Ga=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=r:xt=xt.next=r,xt}function bn(){if(At===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=xt===null?st.memoizedState:xt.next;if(s!==null)xt=s,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},xt===null?st.memoizedState=xt=r:xt=xt.next=r}return xt}function Ka(r,s){return typeof s=="function"?s(r):s}function _d(r){var s=bn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=At,f=c.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}c.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,c=c.baseState;var C=w=null,x=null,z=g;do{var Y=z.lane;if((ds&Y)===Y)x!==null&&(x=x.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:r(c,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};x===null?(C=x=J,w=c):x=x.next=J,st.lanes|=Y,fs|=Y}z=z.next}while(z!==null&&z!==g);x===null?w=c:x.next=C,qn(c,s.memoizedState)||(an=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=x,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do g=f.lane,st.lanes|=g,fs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function wd(r){var s=bn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);qn(g,s.memoizedState)||(an=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Qm(){}function Ym(r,s){var a=st,c=bn(),f=s(),g=!qn(c.memoizedState,f);if(g&&(c.memoizedState=f,an=!0),c=c.queue,Ed(Zm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(a.flags|=2048,Qa(9,Jm.bind(null,a,c,f,s),void 0,null),Nt===null)throw Error(t(349));ds&30||Xm(a,s,f)}return f}function Xm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Jm(r,s,a,c){s.value=a,s.getSnapshot=c,eg(s)&&tg(r)}function Zm(r,s,a){return a(function(){eg(s)&&tg(r)})}function eg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!qn(r,a)}catch{return!0}}function tg(r){var s=Fr(r,1);s!==null&&Yn(s,r,1,-1)}function ng(r){var s=ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:r},s.queue=r,r=r.dispatch=x1.bind(null,st,r),[s.memoizedState,r]}function Qa(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function rg(){return bn().memoizedState}function xu(r,s,a,c){var f=ur();st.flags|=r,f.memoizedState=Qa(1|s,a,void 0,c===void 0?null:c)}function Nu(r,s,a,c){var f=bn();c=c===void 0?null:c;var g=void 0;if(At!==null){var w=At.memoizedState;if(g=w.destroy,c!==null&&gd(c,w.deps)){f.memoizedState=Qa(s,a,g,c);return}}st.flags|=r,f.memoizedState=Qa(1|s,a,g,c)}function ig(r,s){return xu(8390656,8,r,s)}function Ed(r,s){return Nu(2048,8,r,s)}function sg(r,s){return Nu(4,2,r,s)}function og(r,s){return Nu(4,4,r,s)}function ag(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function lg(r,s,a){return a=a!=null?a.concat([r]):null,Nu(4,4,ag.bind(null,s,r),a)}function Td(){}function ug(r,s){var a=bn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&gd(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function cg(r,s){var a=bn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&gd(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function hg(r,s,a){return ds&21?(qn(a,s)||(a=ts(),st.lanes|=a,fs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a)}function P1(r,s){var a=Pe;Pe=a!==0&&4>a?a:4,r(!0);var c=md.transition;md.transition={};try{r(!1),s()}finally{Pe=a,md.transition=c}}function dg(){return bn().memoizedState}function b1(r,s,a){var c=Ei(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},fg(r))pg(s,a);else if(a=Wm(r,s,a,c),a!==null){var f=tn();Yn(a,r,c,f),mg(a,s,c)}}function x1(r,s,a){var c=Ei(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(fg(r))pg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,a);if(f.hasEagerState=!0,f.eagerState=C,qn(C,w)){var x=s.interleaved;x===null?(f.next=f,ud(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}a=Wm(r,s,f,c),a!==null&&(f=tn(),Yn(a,r,c,f),mg(a,s,c))}}function fg(r){var s=r.alternate;return r===st||s!==null&&s===st}function pg(r,s){Ha=bu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function mg(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,oi(r,a)}}var Du={readContext:Pn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},N1={readContext:Pn,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:Pn,useEffect:ig,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,xu(4194308,4,ag.bind(null,s,r),a)},useLayoutEffect:function(r,s){return xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return xu(4,2,r,s)},useMemo:function(r,s){var a=ur();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=ur();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=b1.bind(null,st,r),[c.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:ng,useDebugValue:Td,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=ng(!1),s=r[0];return r=P1.bind(null,r[1]),ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=st,f=ur();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Nt===null)throw Error(t(349));ds&30||Xm(c,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,ig(Zm.bind(null,c,g,r),[r]),c.flags|=2048,Qa(9,Jm.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=ur(),s=Nt.identifierPrefix;if(nt){var a=Lr,c=Mr;a=(c&~(1<<32-Jt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ga++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=R1++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},D1={readContext:Pn,useCallback:ug,useContext:Pn,useEffect:Ed,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:_d,useRef:rg,useState:function(){return _d(Ka)},useDebugValue:Td,useDeferredValue:function(r){var s=bn();return hg(s,At.memoizedState,r)},useTransition:function(){var r=_d(Ka)[0],s=bn().memoizedState;return[r,s]},useMutableSource:Qm,useSyncExternalStore:Ym,useId:dg,unstable_isNewReconciler:!1},O1={readContext:Pn,useCallback:ug,useContext:Pn,useEffect:Ed,useImperativeHandle:lg,useInsertionEffect:sg,useLayoutEffect:og,useMemo:cg,useReducer:wd,useRef:rg,useState:function(){return wd(Ka)},useDebugValue:Td,useDeferredValue:function(r){var s=bn();return At===null?s.memoizedState=r:hg(s,At.memoizedState,r)},useTransition:function(){var r=wd(Ka)[0],s=bn().memoizedState;return[r,s]},useMutableSource:Qm,useSyncExternalStore:Ym,useId:dg,unstable_isNewReconciler:!1};function Gn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Sd(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:le({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ou={isMounted:function(r){return(r=r._reactInternals)?Fn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=tn(),f=Ei(r),g=Ur(c,f);g.payload=s,a!=null&&(g.callback=a),s=yi(r,g,f),s!==null&&(Yn(s,r,f,c),Au(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=tn(),f=Ei(r),g=Ur(c,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=yi(r,g,f),s!==null&&(Yn(s,r,f,c),Au(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=tn(),c=Ei(r),f=Ur(a,c);f.tag=2,s!=null&&(f.callback=s),s=yi(r,f,c),s!==null&&(Yn(s,r,c,a),Au(s,r,c))}};function gg(r,s,a,c,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Va(a,c)||!Va(f,g):!0}function yg(r,s,a){var c=!1,f=pi,g=s.contextType;return typeof g=="object"&&g!==null?g=Pn(g):(f=on(s)?as:zt.current,c=s.contextTypes,g=(c=c!=null)?co(r,f):pi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ou,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function vg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ou.enqueueReplaceState(s,s.state,null)}function Id(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},cd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Pn(g):(g=on(s)?as:zt.current,f.context=co(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ou.enqueueReplaceState(f,f.state,null),Cu(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function _o(r,s){try{var a="",c=s;do a+=ke(c),c=c.return;while(c);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function kd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Ad(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var V1=typeof WeakMap=="function"?WeakMap:Map;function _g(r,s,a){a=Ur(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){ju||(ju=!0,jd=c),Ad(r,s)},a}function wg(r,s,a){a=Ur(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){Ad(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Ad(r,s),typeof c!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Eg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new V1;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=Q1.bind(null,r,s,a),s.then(r,r))}function Tg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Sg(r,s,a,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ur(-1,1),s.tag=2,yi(a,s,1))),a.lanes|=1),r)}var M1=K.ReactCurrentOwner,an=!1;function en(r,s,a,c){s.child=r===null?$m(s,null,a,c):mo(s,r.child,a,c)}function Ig(r,s,a,c,f){a=a.render;var g=s.ref;return yo(s,f),c=yd(r,s,a,c,g,f),a=vd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Br(r,s,f)):(nt&&a&&ed(s),s.flags|=1,en(r,s,c,f),s.child)}function kg(r,s,a,c,f){if(r===null){var g=a.type;return typeof g=="function"&&!Kd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Ag(r,s,g,c,f)):(r=Gu(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Va,a(w,c)&&r.ref===s.ref)return Br(r,s,f)}return s.flags|=1,r=Si(g,c),r.ref=s.ref,r.return=s,s.child=r}function Ag(r,s,a,c,f){if(r!==null){var g=r.memoizedProps;if(Va(g,c)&&r.ref===s.ref)if(an=!1,s.pendingProps=c=g,(r.lanes&f)!==0)r.flags&131072&&(an=!0);else return s.lanes=r.lanes,Br(r,s,f)}return Cd(r,s,a,c,f)}function Cg(r,s,a){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Eo,_n),_n|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(Eo,_n),_n|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Je(Eo,_n),_n|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Je(Eo,_n),_n|=c;return en(r,s,f,a),s.child}function Rg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Cd(r,s,a,c,f){var g=on(a)?as:zt.current;return g=co(s,g),yo(s,f),a=yd(r,s,a,c,g,f),c=vd(),r!==null&&!an?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Br(r,s,f)):(nt&&c&&ed(s),s.flags|=1,en(r,s,a,f),s.child)}function Pg(r,s,a,c,f){if(on(a)){var g=!0;vu(s)}else g=!1;if(yo(s,f),s.stateNode===null)Mu(r,s),yg(s,a,c),Id(s,a,c,f),c=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var x=w.context,z=a.contextType;typeof z=="object"&&z!==null?z=Pn(z):(z=on(a)?as:zt.current,z=co(s,z));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||x!==z)&&vg(s,w,c,z),gi=!1;var Q=s.memoizedState;w.state=Q,Cu(s,c,w,f),x=s.memoizedState,C!==c||Q!==x||sn.current||gi?(typeof Y=="function"&&(Sd(s,a,Y,c),x=s.memoizedState),(C=gi||gg(s,a,C,c,Q,x,z))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),w.props=c,w.state=x,w.context=z,c=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,qm(r,s),C=s.memoizedProps,z=s.type===s.elementType?C:Gn(s.type,C),w.props=z,J=s.pendingProps,Q=w.context,x=a.contextType,typeof x=="object"&&x!==null?x=Pn(x):(x=on(a)?as:zt.current,x=co(s,x));var oe=a.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==J||Q!==x)&&vg(s,w,c,x),gi=!1,Q=s.memoizedState,w.state=Q,Cu(s,c,w,f);var he=s.memoizedState;C!==J||Q!==he||sn.current||gi?(typeof oe=="function"&&(Sd(s,a,oe,c),he=s.memoizedState),(z=gi||gg(s,a,z,c,Q,he,x)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,he,x),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,he,x)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),w.props=c,w.state=he,w.context=x,c=z):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),c=!1)}return Rd(r,s,a,c,g,f)}function Rd(r,s,a,c,f,g){Rg(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return f&&Om(s,a,!1),Br(r,s,g);c=s.stateNode,M1.current=s;var C=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=mo(s,r.child,null,g),s.child=mo(s,null,C,g)):en(r,s,C,g),s.memoizedState=c.state,f&&Om(s,a,!0),s.child}function bg(r){var s=r.stateNode;s.pendingContext?Nm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Nm(r,s.context,!1),hd(r,s.containerInfo)}function xg(r,s,a,c,f){return po(),id(f),s.flags|=256,en(r,s,a,c),s.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function bd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ng(r,s,a){var c=s.pendingProps,f=it.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(f&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Je(it,f&1),r===null)return rd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ku(w,c,0,null),r=ys(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=bd(a),s.memoizedState=Pd,r):xd(s,w));if(f=r.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return L1(r,s,w,c,C,f,a);if(g){g=c.fallback,w=s.mode,f=r.child,C=f.sibling;var x={mode:"hidden",children:c.children};return!(w&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=Si(f,x),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=Si(C,g):(g=ys(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?bd(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Pd,c}return g=r.child,r=g.sibling,c=Si(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function xd(r,s){return s=Ku({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Vu(r,s,a,c){return c!==null&&id(c),mo(s,r.child,null,a),r=xd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function L1(r,s,a,c,f,g,w){if(a)return s.flags&256?(s.flags&=-257,c=kd(Error(t(422))),Vu(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=Ku({mode:"visible",children:c.children},f,0,null),g=ys(g,f,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&mo(s,r.child,null,w),s.child.memoizedState=bd(w),s.memoizedState=Pd,g);if(!(s.mode&1))return Vu(r,s,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=kd(g,c,void 0),Vu(r,s,w,c)}if(C=(w&r.childLanes)!==0,an||C){if(c=Nt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Fr(r,f),Yn(c,r,f,-1))}return Gd(),c=kd(Error(t(421))),Vu(r,s,w,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Y1.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,vn=di(f.nextSibling),yn=s,nt=!0,Hn=null,r!==null&&(Cn[Rn++]=Mr,Cn[Rn++]=Lr,Cn[Rn++]=ls,Mr=r.id,Lr=r.overflow,ls=s),s=xd(s,c.children),s.flags|=4096,s)}function Dg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),ld(r.return,s,a)}function Nd(r,s,a,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function Og(r,s,a){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(en(r,s,c.children,a),c=it.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dg(r,a,s);else if(r.tag===19)Dg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Je(it,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Ru(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Nd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ru(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Nd(s,!0,a,null,g);break;case"together":Nd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Mu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Br(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Si(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Si(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function F1(r,s,a){switch(s.tag){case 3:bg(s),po();break;case 5:Km(s);break;case 1:on(s.type)&&vu(s);break;case 4:hd(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Je(Iu,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Je(it,it.current&1),s.flags|=128,null):a&s.child.childLanes?Ng(r,s,a):(Je(it,it.current&1),r=Br(r,s,a),r!==null?r.sibling:null);Je(it,it.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return Og(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(it,it.current),c)break;return null;case 22:case 23:return s.lanes=0,Cg(r,s,a)}return Br(r,s,a)}var Vg,Dd,Mg,Lg;Vg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Dd=function(){},Mg=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,hs(lr.current);var g=null;switch(a){case"input":f=Wi(r,f),c=Wi(r,c),g=[];break;case"select":f=le({},f,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":f=ca(r,f),c=ca(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=mu)}ga(a,c);var w;a=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var C=f[z];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in c){var x=c[z];if(C=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&x!==C&&(x!=null||C!=null))if(z==="style")if(C){for(w in C)!C.hasOwnProperty(w)||x&&x.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in x)x.hasOwnProperty(w)&&C[w]!==x[w]&&(a||(a={}),a[w]=x[w])}else a||(g||(g=[]),g.push(z,a)),a=x;else z==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(g=g||[]).push(z,x)):z==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(z,""+x):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(x!=null&&z==="onScroll"&&Ze("scroll",r),g||C===x||(g=[])):(g=g||[]).push(z,x))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Lg=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ya(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function U1(r,s,a){var c=s.pendingProps;switch(td(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return on(s.type)&&yu(),Wt(s),null;case 3:return c=s.stateNode,vo(),et(sn),et(zt),pd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Tu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Hn!==null&&(Wd(Hn),Hn=null))),Dd(r,s),Wt(s),null;case 5:dd(s);var f=hs(qa.current);if(a=s.type,r!==null&&s.stateNode!=null)Mg(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Wt(s),null}if(r=hs(lr.current),Tu(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[ar]=s,c[Ba]=g,r=(s.mode&1)!==0,a){case"dialog":Ze("cancel",c),Ze("close",c);break;case"iframe":case"object":case"embed":Ze("load",c);break;case"video":case"audio":for(f=0;f<La.length;f++)Ze(La[f],c);break;case"source":Ze("error",c);break;case"img":case"image":case"link":Ze("error",c),Ze("load",c);break;case"details":Ze("toggle",c);break;case"input":Ns(c,g),Ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ze("invalid",c);break;case"textarea":Os(c,g),Ze("invalid",c)}ga(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&pu(c.textContent,C,r),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&pu(c.textContent,C,r),f=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Ze("scroll",c)}switch(a){case"input":Ir(c),Bl(c,g,!0);break;case"textarea":Ir(c),ha(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=mu)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=St(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[ar]=s,r[Ba]=c,Vg(r,s,!1,!1),s.stateNode=r;e:{switch(w=ya(a,c),a){case"dialog":Ze("cancel",r),Ze("close",r),f=c;break;case"iframe":case"object":case"embed":Ze("load",r),f=c;break;case"video":case"audio":for(f=0;f<La.length;f++)Ze(La[f],r);f=c;break;case"source":Ze("error",r),f=c;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),f=c;break;case"details":Ze("toggle",r),f=c;break;case"input":Ns(r,c),f=Wi(r,c),Ze("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=le({},c,{value:void 0}),Ze("invalid",r);break;case"textarea":Os(r,c),f=ca(r,c),Ze("invalid",r);break;default:f=c}ga(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var x=C[g];g==="style"?pa(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&da(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&ti(r,x):typeof x=="number"&&ti(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Ze("scroll",r):x!=null&&X(r,g,x,w))}switch(a){case"input":Ir(r),Bl(r,c,!1);break;case"textarea":Ir(r),ha(r);break;case"option":c.value!=null&&r.setAttribute("value",""+je(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Ar(r,!!c.multiple,g,!1):c.defaultValue!=null&&Ar(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=mu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Wt(s),null;case 6:if(r&&s.stateNode!=null)Lg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=hs(qa.current),hs(lr.current),Tu(s)){if(c=s.stateNode,a=s.memoizedProps,c[ar]=s,(g=c.nodeValue!==a)&&(r=yn,r!==null))switch(r.tag){case 3:pu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ar]=s,s.stateNode=c}return Wt(s),null;case 13:if(et(it),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&vn!==null&&s.mode&1&&!(s.flags&128))Bm(),po(),s.flags|=98560,g=!1;else if(g=Tu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ar]=s}else po(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Wt(s),g=!1}else Hn!==null&&(Wd(Hn),Hn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||it.current&1?Ct===0&&(Ct=3):Gd())),s.updateQueue!==null&&(s.flags|=4),Wt(s),null);case 4:return vo(),Dd(r,s),r===null&&Fa(s.stateNode.containerInfo),Wt(s),null;case 10:return ad(s.type._context),Wt(s),null;case 17:return on(s.type)&&yu(),Wt(s),null;case 19:if(et(it),g=s.memoizedState,g===null)return Wt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)Ya(g,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Ru(r),w!==null){for(s.flags|=128,Ya(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Je(it,it.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>To&&(s.flags|=128,c=!0,Ya(g,!1),s.lanes=4194304)}else{if(!c)if(r=Ru(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ya(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!nt)return Wt(s),null}else 2*Xe()-g.renderingStartTime>To&&a!==1073741824&&(s.flags|=128,c=!0,Ya(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=it.current,Je(it,c?a&1|2:a&1),s):(Wt(s),null);case 22:case 23:return Hd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?_n&1073741824&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function B1(r,s){switch(td(s),s.tag){case 1:return on(s.type)&&yu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),et(sn),et(zt),pd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return dd(s),null;case 13:if(et(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));po()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(it),null;case 4:return vo(),null;case 10:return ad(s.type._context),null;case 22:case 23:return Hd(),null;case 24:return null;default:return null}}var Lu=!1,qt=!1,j1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function wo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ut(r,s,c)}else a.current=null}function Od(r,s,a){try{a()}catch(c){ut(r,s,c)}}var Fg=!1;function z1(r,s){if(Hh=ui,r=gm(),Fh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,C=-1,x=-1,z=0,Y=0,J=r,Q=null;t:for(;;){for(var oe;J!==a||f!==0&&J.nodeType!==3||(C=w+f),J!==g||c!==0&&J.nodeType!==3||(x=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(oe=J.firstChild)!==null;)Q=J,J=oe;for(;;){if(J===r)break t;if(Q===a&&++z===f&&(C=w),Q===g&&++Y===c&&(x=w),(oe=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=oe}a=C===-1||x===-1?null:{start:C,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gh={focusedElem:r,selectionRange:a},ui=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,pt=he.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?de:Gn(s.type,de),pt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){ut(s,s.return,Z)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=Fg,Fg=!1,he}function Xa(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Od(s,a,g)}f=f.next}while(f!==c)}}function Fu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Vd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Ug(r){var s=r.alternate;s!==null&&(r.alternate=null,Ug(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ar],delete s[Ba],delete s[Xh],delete s[I1],delete s[k1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Bg(r){return r.tag===5||r.tag===3||r.tag===4}function jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Bg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Md(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=mu));else if(c!==4&&(r=r.child,r!==null))for(Md(r,s,a),r=r.sibling;r!==null;)Md(r,s,a),r=r.sibling}function Ld(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Ld(r,s,a),r=r.sibling;r!==null;)Ld(r,s,a),r=r.sibling}var Lt=null,Kn=!1;function vi(r,s,a){for(a=a.child;a!==null;)zg(r,s,a),a=a.sibling}function zg(r,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 5:qt||wo(a,s);case 6:var c=Lt,f=Kn;Lt=null,vi(r,s,a),Lt=c,Kn=f,Lt!==null&&(Kn?(r=Lt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Lt.removeChild(a.stateNode));break;case 18:Lt!==null&&(Kn?(r=Lt,a=a.stateNode,r.nodeType===8?Yh(r.parentNode,a):r.nodeType===1&&Yh(r,a),$n(r)):Yh(Lt,a.stateNode));break;case 4:c=Lt,f=Kn,Lt=a.stateNode.containerInfo,Kn=!0,vi(r,s,a),Lt=c,Kn=f;break;case 0:case 11:case 14:case 15:if(!qt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Od(a,s,w),f=f.next}while(f!==c)}vi(r,s,a);break;case 1:if(!qt&&(wo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){ut(a,s,C)}vi(r,s,a);break;case 21:vi(r,s,a);break;case 22:a.mode&1?(qt=(c=qt)||a.memoizedState!==null,vi(r,s,a),qt=c):vi(r,s,a);break;default:vi(r,s,a)}}function $g(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new j1),s.forEach(function(c){var f=X1.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Qn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:Lt=C.stateNode,Kn=!1;break e;case 3:Lt=C.stateNode.containerInfo,Kn=!0;break e;case 4:Lt=C.stateNode.containerInfo,Kn=!0;break e}C=C.return}if(Lt===null)throw Error(t(160));zg(g,w,f),Lt=null,Kn=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(z){ut(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Wg(s,r),s=s.sibling}function Wg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(s,r),cr(r),c&4){try{Xa(3,r,r.return),Fu(3,r)}catch(de){ut(r,r.return,de)}try{Xa(5,r,r.return)}catch(de){ut(r,r.return,de)}}break;case 1:Qn(s,r),cr(r),c&512&&a!==null&&wo(a,a.return);break;case 5:if(Qn(s,r),cr(r),c&512&&a!==null&&wo(a,a.return),r.flags&32){var f=r.stateNode;try{ti(f,"")}catch(de){ut(r,r.return,de)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,C=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&la(f,g),ya(C,w);var z=ya(C,g);for(w=0;w<x.length;w+=2){var Y=x[w],J=x[w+1];Y==="style"?pa(f,J):Y==="dangerouslySetInnerHTML"?da(f,J):Y==="children"?ti(f,J):X(f,Y,J,z)}switch(C){case"input":ua(f,g);break;case"textarea":Vs(f,g);break;case"select":var Q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?Ar(f,!!g.multiple,oe,!1):Q!==!!g.multiple&&(g.defaultValue!=null?Ar(f,!!g.multiple,g.defaultValue,!0):Ar(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ba]=g}catch(de){ut(r,r.return,de)}}break;case 6:if(Qn(s,r),cr(r),c&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(de){ut(r,r.return,de)}}break;case 3:if(Qn(s,r),cr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(de){ut(r,r.return,de)}break;case 4:Qn(s,r),cr(r);break;case 13:Qn(s,r),cr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Bd=Xe())),c&4&&$g(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(qt=(z=qt)||Y,Qn(s,r),qt=z):Qn(s,r),cr(r),c&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!Y&&r.mode&1)for(ce=r,Y=r.child;Y!==null;){for(J=ce=Y;ce!==null;){switch(Q=ce,oe=Q.child,Q.tag){case 0:case 11:case 14:case 15:Xa(4,Q,Q.return);break;case 1:wo(Q,Q.return);var he=Q.stateNode;if(typeof he.componentWillUnmount=="function"){c=Q,a=Q.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){ut(c,a,de)}}break;case 5:wo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Gg(J);continue}}oe!==null?(oe.return=Q,ce=oe):Gg(J)}Y=Y.sibling}e:for(Y=null,J=r;;){if(J.tag===5){if(Y===null){Y=J;try{f=J.stateNode,z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=J.stateNode,x=J.memoizedProps.style,w=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=fa("display",w))}catch(de){ut(r,r.return,de)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(de){ut(r,r.return,de)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Qn(s,r),cr(r),c&4&&$g(r);break;case 21:break;default:Qn(s,r),cr(r)}}function cr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Bg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(ti(f,""),c.flags&=-33);var g=jg(r);Ld(r,g,f);break;case 3:case 4:var w=c.stateNode.containerInfo,C=jg(r);Md(r,C,w);break;default:throw Error(t(161))}}catch(x){ut(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function $1(r,s,a){ce=r,qg(r)}function qg(r,s,a){for(var c=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Lu;if(!w){var C=f.alternate,x=C!==null&&C.memoizedState!==null||qt;C=Lu;var z=qt;if(Lu=w,(qt=x)&&!z)for(ce=f;ce!==null;)w=ce,x=w.child,w.tag===22&&w.memoizedState!==null?Kg(f):x!==null?(x.return=w,ce=x):Kg(f);for(;g!==null;)ce=g,qg(g),g=g.sibling;ce=f,Lu=C,qt=z}Hg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ce=g):Hg(r)}}function Hg(r){for(;ce!==null;){var s=ce;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:qt||Fu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!qt)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Gn(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Gm(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Gm(s,w,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&$n(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&Vd(s)}catch(Q){ut(s,s.return,Q)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Gg(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Kg(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Fu(4,s)}catch(x){ut(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(x){ut(s,f,x)}}var g=s.return;try{Vd(s)}catch(x){ut(s,g,x)}break;case 5:var w=s.return;try{Vd(s)}catch(x){ut(s,w,x)}}}catch(x){ut(s,s.return,x)}if(s===r){ce=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ce=C;break}ce=s.return}}var W1=Math.ceil,Uu=K.ReactCurrentDispatcher,Fd=K.ReactCurrentOwner,xn=K.ReactCurrentBatchConfig,Ve=0,Nt=null,_t=null,Ft=0,_n=0,Eo=fi(0),Ct=0,Ja=null,fs=0,Bu=0,Ud=0,Za=null,ln=null,Bd=0,To=1/0,jr=null,ju=!1,jd=null,_i=null,zu=!1,wi=null,$u=0,el=0,zd=null,Wu=-1,qu=0;function tn(){return Ve&6?Xe():Wu!==-1?Wu:Wu=Xe()}function Ei(r){return r.mode&1?Ve&2&&Ft!==0?Ft&-Ft:C1.transition!==null?(qu===0&&(qu=ts()),qu):(r=Pe,r!==0||(r=window.event,r=r===void 0?16:Ra(r.type)),r):1}function Yn(r,s,a,c){if(50<el)throw el=0,zd=null,Error(t(185));si(r,a,c),(!(Ve&2)||r!==Nt)&&(r===Nt&&(!(Ve&2)&&(Bu|=a),Ct===4&&Ti(r,Ft)),un(r,c),a===1&&Ve===0&&!(s.mode&1)&&(To=Xe()+500,_u&&mi()))}function un(r,s){var a=r.callbackNode;Pr(r,s);var c=es(r,r===Nt?Ft:0);if(c===0)a!==null&&Sa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Sa(a),s===1)r.tag===0?A1(Yg.bind(null,r)):Vm(Yg.bind(null,r)),T1(function(){!(Ve&6)&&mi()}),a=null;else{switch(ai(c)){case 1:a=Ji;break;case 4:a=ni;break;case 16:a=In;break;case 536870912:a=ql;break;default:a=In}a=iy(a,Qg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Qg(r,s){if(Wu=-1,qu=0,Ve&6)throw Error(t(327));var a=r.callbackNode;if(So()&&r.callbackNode!==a)return null;var c=es(r,r===Nt?Ft:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Hu(r,c);else{s=c;var f=Ve;Ve|=2;var g=Jg();(Nt!==r||Ft!==s)&&(jr=null,To=Xe()+500,ms(r,s));do try{G1();break}catch(C){Xg(r,C)}while(!0);od(),Uu.current=g,Ve=f,_t!==null?s=0:(Nt=null,Ft=0,s=Ct)}if(s!==0){if(s===2&&(f=pn(r),f!==0&&(c=f,s=$d(r,f))),s===1)throw a=Ja,ms(r,0),Ti(r,c),un(r,Xe()),a;if(s===6)Ti(r,c);else{if(f=r.current.alternate,!(c&30)&&!q1(f)&&(s=Hu(r,c),s===2&&(g=pn(r),g!==0&&(c=g,s=$d(r,g))),s===1))throw a=Ja,ms(r,0),Ti(r,c),un(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:gs(r,ln,jr);break;case 3:if(Ti(r,c),(c&130023424)===c&&(s=Bd+500-Xe(),10<s)){if(es(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){tn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Qh(gs.bind(null,r,ln,jr),s);break}gs(r,ln,jr);break;case 4:if(Ti(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var w=31-Jt(c);g=1<<w,w=s[w],w>f&&(f=w),c&=~g}if(c=f,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*W1(c/1960))-c,10<c){r.timeoutHandle=Qh(gs.bind(null,r,ln,jr),c);break}gs(r,ln,jr);break;case 5:gs(r,ln,jr);break;default:throw Error(t(329))}}}return un(r,Xe()),r.callbackNode===a?Qg.bind(null,r):null}function $d(r,s){var a=Za;return r.current.memoizedState.isDehydrated&&(ms(r,s).flags|=256),r=Hu(r,s),r!==2&&(s=ln,ln=a,s!==null&&Wd(s)),r}function Wd(r){ln===null?ln=r:ln.push.apply(ln,r)}function q1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!qn(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ti(r,s){for(s&=~Ud,s&=~Bu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Jt(s),c=1<<a;r[a]=-1,s&=~c}}function Yg(r){if(Ve&6)throw Error(t(327));So();var s=es(r,0);if(!(s&1))return un(r,Xe()),null;var a=Hu(r,s);if(r.tag!==0&&a===2){var c=pn(r);c!==0&&(s=c,a=$d(r,c))}if(a===1)throw a=Ja,ms(r,0),Ti(r,s),un(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,gs(r,ln,jr),un(r,Xe()),null}function qd(r,s){var a=Ve;Ve|=1;try{return r(s)}finally{Ve=a,Ve===0&&(To=Xe()+500,_u&&mi())}}function ps(r){wi!==null&&wi.tag===0&&!(Ve&6)&&So();var s=Ve;Ve|=1;var a=xn.transition,c=Pe;try{if(xn.transition=null,Pe=1,r)return r()}finally{Pe=c,xn.transition=a,Ve=s,!(Ve&6)&&mi()}}function Hd(){_n=Eo.current,et(Eo)}function ms(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,E1(a)),_t!==null)for(a=_t.return;a!==null;){var c=a;switch(td(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&yu();break;case 3:vo(),et(sn),et(zt),pd();break;case 5:dd(c);break;case 4:vo();break;case 13:et(it);break;case 19:et(it);break;case 10:ad(c.type._context);break;case 22:case 23:Hd()}a=a.return}if(Nt=r,_t=r=Si(r.current,null),Ft=_n=s,Ct=0,Ja=null,Ud=Bu=fs=0,ln=Za=null,cs!==null){for(s=0;s<cs.length;s++)if(a=cs[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,c.next=w}a.pending=c}cs=null}return r}function Xg(r,s){do{var a=_t;try{if(od(),Pu.current=Du,bu){for(var c=st.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}bu=!1}if(ds=0,xt=At=st=null,Ha=!1,Ga=0,Fd.current=null,a===null||a.return===null){Ct=1,Ja=s,_t=null;break}e:{var g=r,w=a.return,C=a,x=s;if(s=Ft,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var z=x,Y=C,J=Y.tag;if(!(Y.mode&1)&&(J===0||J===11||J===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=Tg(w);if(oe!==null){oe.flags&=-257,Sg(oe,w,C,g,s),oe.mode&1&&Eg(g,z,s),s=oe,x=z;var he=s.updateQueue;if(he===null){var de=new Set;de.add(x),s.updateQueue=de}else he.add(x);break e}else{if(!(s&1)){Eg(g,z,s),Gd();break e}x=Error(t(426))}}else if(nt&&C.mode&1){var pt=Tg(w);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Sg(pt,w,C,g,s),id(_o(x,C));break e}}g=x=_o(x,C),Ct!==4&&(Ct=2),Za===null?Za=[g]:Za.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=_g(g,x,s);Hm(g,B);break e;case 1:C=x;var D=g.type,j=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(_i===null||!_i.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var Z=wg(g,C,s);Hm(g,Z);break e}}g=g.return}while(g!==null)}ey(a)}catch(fe){s=fe,_t===a&&a!==null&&(_t=a=a.return);continue}break}while(!0)}function Jg(){var r=Uu.current;return Uu.current=Du,r===null?Du:r}function Gd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(fs&268435455)&&!(Bu&268435455)||Ti(Nt,Ft)}function Hu(r,s){var a=Ve;Ve|=2;var c=Jg();(Nt!==r||Ft!==s)&&(jr=null,ms(r,s));do try{H1();break}catch(f){Xg(r,f)}while(!0);if(od(),Ve=a,Uu.current=c,_t!==null)throw Error(t(261));return Nt=null,Ft=0,Ct}function H1(){for(;_t!==null;)Zg(_t)}function G1(){for(;_t!==null&&!$l();)Zg(_t)}function Zg(r){var s=ry(r.alternate,r,_n);r.memoizedProps=r.pendingProps,s===null?ey(r):_t=s,Fd.current=null}function ey(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=B1(a,s),a!==null){a.flags&=32767,_t=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,_t=null;return}}else if(a=U1(a,s,_n),a!==null){_t=a;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);Ct===0&&(Ct=5)}function gs(r,s,a){var c=Pe,f=xn.transition;try{xn.transition=null,Pe=1,K1(r,s,a,c)}finally{xn.transition=f,Pe=c}return null}function K1(r,s,a,c){do So();while(wi!==null);if(Ve&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ge(r,g),r===Nt&&(_t=Nt=null,Ft=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||zu||(zu=!0,iy(In,function(){return So(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=xn.transition,xn.transition=null;var w=Pe;Pe=1;var C=Ve;Ve|=4,Fd.current=null,z1(r,a),Wg(a,r),p1(Gh),ui=!!Hh,Gh=Hh=null,r.current=a,$1(a),bh(),Ve=C,Pe=w,xn.transition=g}else r.current=a;if(zu&&(zu=!1,wi=r,$u=f),g=r.pendingLanes,g===0&&(_i=null),Hl(a.stateNode),un(r,Xe()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(ju)throw ju=!1,r=jd,jd=null,r;return $u&1&&r.tag!==0&&So(),g=r.pendingLanes,g&1?r===zd?el++:(el=0,zd=r):el=0,mi(),null}function So(){if(wi!==null){var r=ai($u),s=xn.transition,a=Pe;try{if(xn.transition=null,Pe=16>r?16:r,wi===null)var c=!1;else{if(r=wi,wi=null,$u=0,Ve&6)throw Error(t(331));var f=Ve;for(Ve|=4,ce=r.current;ce!==null;){var g=ce,w=g.child;if(ce.flags&16){var C=g.deletions;if(C!==null){for(var x=0;x<C.length;x++){var z=C[x];for(ce=z;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:Xa(8,Y,g)}var J=Y.child;if(J!==null)J.return=Y,ce=J;else for(;ce!==null;){Y=ce;var Q=Y.sibling,oe=Y.return;if(Ug(Y),Y===z){ce=null;break}if(Q!==null){Q.return=oe,ce=Q;break}ce=oe}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var pt=de.sibling;de.sibling=null,de=pt}while(de!==null)}}ce=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ce=w;else e:for(;ce!==null;){if(g=ce,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Xa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ce=B;break e}ce=g.return}}var D=r.current;for(ce=D;ce!==null;){w=ce;var j=w.child;if(w.subtreeFlags&2064&&j!==null)j.return=w,ce=j;else e:for(w=D;ce!==null;){if(C=ce,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Fu(9,C)}}catch(fe){ut(C,C.return,fe)}if(C===w){ce=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ce=Z;break e}ce=C.return}}if(Ve=f,mi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Zi,r)}catch{}c=!0}return c}finally{Pe=a,xn.transition=s}}return!1}function ty(r,s,a){s=_o(a,s),s=_g(r,s,1),r=yi(r,s,1),s=tn(),r!==null&&(si(r,1,s),un(r,s))}function ut(r,s,a){if(r.tag===3)ty(r,r,a);else for(;s!==null;){if(s.tag===3){ty(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_i===null||!_i.has(c))){r=_o(a,r),r=wg(s,r,1),s=yi(s,r,1),r=tn(),s!==null&&(si(s,1,r),un(s,r));break}}s=s.return}}function Q1(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=tn(),r.pingedLanes|=r.suspendedLanes&a,Nt===r&&(Ft&a)===a&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>Xe()-Bd?ms(r,0):Ud|=a),un(r,s)}function ny(r,s){s===0&&(r.mode&1?(s=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):s=1);var a=tn();r=Fr(r,s),r!==null&&(si(r,s,a),un(r,a))}function Y1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ny(r,a)}function X1(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),ny(r,a)}var ry;ry=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return an=!1,F1(r,s,a);an=!!(r.flags&131072)}else an=!1,nt&&s.flags&1048576&&Mm(s,Eu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Mu(r,s),r=s.pendingProps;var f=co(s,zt.current);yo(s,a),f=yd(null,s,c,r,f,a);var g=vd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(c)?(g=!0,vu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,cd(s),f.updater=Ou,s.stateNode=f,f._reactInternals=s,Id(s,c,r,a),s=Rd(null,s,c,!0,g,a)):(s.tag=0,nt&&g&&ed(s),en(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Mu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=Z1(c),r=Gn(c,r),f){case 0:s=Cd(null,s,c,r,a);break e;case 1:s=Pg(null,s,c,r,a);break e;case 11:s=Ig(null,s,c,r,a);break e;case 14:s=kg(null,s,c,Gn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Gn(c,f),Cd(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Gn(c,f),Pg(r,s,c,f,a);case 3:e:{if(bg(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,f=g.element,qm(r,s),Cu(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=_o(Error(t(423)),s),s=xg(r,s,c,a,f);break e}else if(c!==f){f=_o(Error(t(424)),s),s=xg(r,s,c,a,f);break e}else for(vn=di(s.stateNode.containerInfo.firstChild),yn=s,nt=!0,Hn=null,a=$m(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(po(),c===f){s=Br(r,s,a);break e}en(r,s,c,a)}s=s.child}return s;case 5:return Km(s),r===null&&rd(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Kh(c,f)?w=null:g!==null&&Kh(c,g)&&(s.flags|=32),Rg(r,s),en(r,s,w,a),s.child;case 6:return r===null&&rd(s),null;case 13:return Ng(r,s,a);case 4:return hd(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=mo(s,null,c,a):en(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Gn(c,f),Ig(r,s,c,f,a);case 7:return en(r,s,s.pendingProps,a),s.child;case 8:return en(r,s,s.pendingProps.children,a),s.child;case 12:return en(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Je(Iu,c._currentValue),c._currentValue=w,g!==null)if(qn(g.value,w)){if(g.children===f.children&&!sn.current){s=Br(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var x=C.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Ur(-1,a&-a),x.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),z.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),ld(g.return,a,s),C.lanes|=a;break}x=x.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),ld(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}en(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,yo(s,a),f=Pn(f),c=c(f),s.flags|=1,en(r,s,c,a),s.child;case 14:return c=s.type,f=Gn(c,s.pendingProps),f=Gn(c.type,f),kg(r,s,c,f,a);case 15:return Ag(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Gn(c,f),Mu(r,s),s.tag=1,on(c)?(r=!0,vu(s)):r=!1,yo(s,a),yg(s,c,f),Id(s,c,f,a),Rd(null,s,c,!0,r,a);case 19:return Og(r,s,a);case 22:return Cg(r,s,a)}throw Error(t(156,s.tag))};function iy(r,s){return $s(r,s)}function J1(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(r,s,a,c){return new J1(r,s,a,c)}function Kd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Z1(r){if(typeof r=="function")return Kd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===N)return 11;if(r===He)return 14}return 2}function Si(r,s){var a=r.alternate;return a===null?(a=Nn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Gu(r,s,a,c,f,g){var w=2;if(c=r,typeof r=="function")Kd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return ys(a.children,f,g,s);case I:w=8,f|=8;break;case b:return r=Nn(12,a,s,f|2),r.elementType=b,r.lanes=g,r;case A:return r=Nn(13,a,s,f),r.elementType=A,r.lanes=g,r;case Ce:return r=Nn(19,a,s,f),r.elementType=Ce,r.lanes=g,r;case Ue:return Ku(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:w=10;break e;case R:w=9;break e;case N:w=11;break e;case He:w=14;break e;case lt:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Nn(w,a,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function ys(r,s,a,c){return r=Nn(7,r,c,s),r.lanes=a,r}function Ku(r,s,a,c){return r=Nn(22,r,c,s),r.elementType=Ue,r.lanes=a,r.stateNode={isHidden:!1},r}function Qd(r,s,a){return r=Nn(6,r,null,s),r.lanes=a,r}function Yd(r,s,a){return s=Nn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function eE(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Xd(r,s,a,c,f,g,w,C,x){return r=new eE(r,s,a,C,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Nn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(g),r}function tE(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function sy(r){if(!r)return pi;r=r._reactInternals;e:{if(Fn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return Dm(r,a,s)}return s}function oy(r,s,a,c,f,g,w,C,x){return r=Xd(a,c,!0,r,f,g,w,C,x),r.context=sy(null),a=r.current,c=tn(),f=Ei(a),g=Ur(c,f),g.callback=s??null,yi(a,g,f),r.current.lanes=f,si(r,f,c),un(r,c),r}function Qu(r,s,a,c){var f=s.current,g=tn(),w=Ei(f);return a=sy(a),s.context===null?s.context=a:s.pendingContext=a,s=Ur(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=yi(f,s,w),r!==null&&(Yn(r,f,w,g),Au(r,f,w)),w}function Yu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ay(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Jd(r,s){ay(r,s),(r=r.alternate)&&ay(r,s)}function nE(){return null}var ly=typeof reportError=="function"?reportError:function(r){console.error(r)};function Zd(r){this._internalRoot=r}Xu.prototype.render=Zd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Qu(r,s,null,null)},Xu.prototype.unmount=Zd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ps(function(){Qu(null,r,null,null)}),s[Or]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<rr.length&&s!==0&&s<rr[a].priority;a++);rr.splice(a,0,r),a===0&&eu(r)}};function ef(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ju(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function uy(){}function rE(r,s,a,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var z=Yu(w);g.call(z)}}var w=oy(s,c,r,0,null,!1,!1,"",uy);return r._reactRootContainer=w,r[Or]=w.current,Fa(r.nodeType===8?r.parentNode:r),ps(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var z=Yu(x);C.call(z)}}var x=Xd(r,0,!1,null,null,!1,!1,"",uy);return r._reactRootContainer=x,r[Or]=x.current,Fa(r.nodeType===8?r.parentNode:r),ps(function(){Qu(s,x,a,c)}),x}function Zu(r,s,a,c,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var C=f;f=function(){var x=Yu(w);C.call(x)}}Qu(s,w,r,f)}else w=rE(a,s,r,f,c);return Yu(w)}Ql=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ri(s.pendingLanes);a!==0&&(oi(s,a|1),un(s,Xe()),!(Ve&6)&&(To=Xe()+500,mi()))}break;case 13:ps(function(){var c=Fr(r,1);if(c!==null){var f=tn();Yn(c,r,1,f)}}),Jd(r,1)}},Hs=function(r){if(r.tag===13){var s=Fr(r,134217728);if(s!==null){var a=tn();Yn(s,r,134217728,a)}Jd(r,134217728)}},Yl=function(r){if(r.tag===13){var s=Ei(r),a=Fr(r,s);if(a!==null){var c=tn();Yn(a,r,s,c)}Jd(r,s)}},Xl=function(){return Pe},Jl=function(r,s){var a=Pe;try{return Pe=r,s()}finally{Pe=a}},Ls=function(r,s,a){switch(s){case"input":if(ua(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=gu(c);if(!f)throw Error(t(90));xs(c),ua(c,f)}}}break;case"textarea":Vs(r,a);break;case"select":s=a.value,s!=null&&Ar(r,!!a.multiple,s,!1)}},Ki=qd,_a=ps;var iE={usingClientEntryPoint:!1,Events:[ja,lo,gu,tr,va,qd]},tl={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sE={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ta(r),r===null?null:r.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||nE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Zi=ec.inject(sE),fn=ec}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iE,cn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(s))throw Error(t(200));return tE(r,s,null,a)},cn.createRoot=function(r,s){if(!ef(r))throw Error(t(299));var a=!1,c="",f=ly;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Xd(r,1,!1,null,null,a,!1,c,f),r[Or]=s.current,Fa(r.nodeType===8?r.parentNode:r),new Zd(s)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ta(s),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return ps(r)},cn.hydrate=function(r,s,a){if(!Ju(s))throw Error(t(200));return Zu(null,r,s,!0,a)},cn.hydrateRoot=function(r,s,a){if(!ef(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,g="",w=ly;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=oy(s,null,r,1,a??null,f,!1,g,w),r[Or]=s.current,Fa(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Xu(s)},cn.render=function(r,s,a){if(!Ju(s))throw Error(t(200));return Zu(null,r,s,!1,a)},cn.unmountComponentAtNode=function(r){if(!Ju(r))throw Error(t(40));return r._reactRootContainer?(ps(function(){Zu(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},cn.unstable_batchedUpdates=qd,cn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Ju(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Zu(r,s,a,!1,c)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var vy;function gE(){if(vy)return rf.exports;vy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rf.exports=mE(),rf.exports}var _y;function yE(){if(_y)return tc;_y=1;var n=gE();return tc.createRoot=n.createRoot,tc.hydrateRoot=n.hydrateRoot,tc}var vE=yE(),wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},_E=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],d=n[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,d=h?n[o+1]:0,m=o+2<n.length,y=m?n[o+2]:0,E=l>>2,S=(l&3)<<4|d>>4;let k=(d&15)<<2|y>>6,V=y&63;m||(V=64,h||(k=64)),i.push(t[E],t[S],t[k],t[V])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_E(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||S==null)throw new wE;const k=l<<2|d>>4;if(i.push(k),y!==64){const V=d<<4&240|y>>2;if(i.push(V),S!==64){const M=y<<6&192|S;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EE=function(n){const e=yv(n);return vv.encodeByteArray(e,!0)},Pc=function(n){return EE(n).replace(/\./g,"")},_v=function(n){try{return vv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=()=>TE().__FIREBASE_DEFAULTS__,IE=()=>{if(typeof process>"u"||typeof wy>"u")return;const n=wy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_v(n[1]);return e&&JSON.parse(e)},Xc=()=>{try{return SE()||IE()||kE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wv=n=>{var e,t;return(t=(e=Xc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ev=n=>{const e=wv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Tv=()=>{var n;return(n=Xc())===null||n===void 0?void 0:n.config},Sv=n=>{var e;return(e=Xc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pc(JSON.stringify(t)),Pc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function RE(){var n;const e=(n=Xc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NE(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function DE(){return!RE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OE(){try{return typeof indexedDB=="object"}catch{return!1}}function VE(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="FirebaseError";class Tr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ME,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?LE(l,i):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Tr(o,d,i)}}function LE(n,e){return n.replace(FE,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const FE=/\{\$([^}]+)}/g;function UE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(Ey(l)&&Ey(h)){if(!bc(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Ey(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function BE(n,e){const t=new jE(n,e);return t.subscribe.bind(t)}class jE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=af),o.error===void 0&&(o.error=af),o.complete===void 0&&(o.complete=af);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zE(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n){return n&&n._delegate?n._delegate:n}class Li{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new AE;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qE(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WE(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WE(n){return n===vs?void 0:n}function qE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $E(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const GE={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},KE=Re.INFO,QE={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},YE=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=QE[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=KE,this._logHandler=YE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const XE=(n,e)=>e.some(t=>n instanceof t);let Ty,Sy;function JE(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZE(){return Sy||(Sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,kf=new WeakMap,Av=new WeakMap,lf=new WeakMap,ap=new WeakMap;function eT(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Vi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&kv.set(t,n)}).catch(()=>{}),ap.set(e,n),e}function tT(n){if(kf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});kf.set(n,e)}let Af={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Av.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nT(n){Af=n(Af)}function rT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(uf(this),e,...t);return Av.set(i,e.sort?e.sort():[e]),Vi(i)}:ZE().includes(n)?function(...e){return n.apply(uf(this),e),Vi(kv.get(this))}:function(...e){return Vi(n.apply(uf(this),e))}}function iT(n){return typeof n=="function"?rT(n):(n instanceof IDBTransaction&&tT(n),XE(n,JE())?new Proxy(n,Af):n)}function Vi(n){if(n instanceof IDBRequest)return eT(n);if(lf.has(n))return lf.get(n);const e=iT(n);return e!==n&&(lf.set(n,e),ap.set(e,n)),e}const uf=n=>ap.get(n);function sT(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),d=Vi(h);return i&&h.addEventListener("upgradeneeded",m=>{i(Vi(h.result),m.oldVersion,m.newVersion,Vi(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const oT=["get","getKey","getAll","getAllKeys","count"],aT=["put","add","delete","clear"],cf=new Map;function Iy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=aT.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||oT.includes(t)))return;const l=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&m.done]))[0]};return cf.set(e,l),l}nT(n=>({...n,get:(e,t,i)=>Iy(e,t)||n.get(e,t,i),has:(e,t)=>!!Iy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uT(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uT(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",ky="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new op("@firebase/app"),cT="@firebase/app-compat",hT="@firebase/analytics-compat",dT="@firebase/analytics",fT="@firebase/app-check-compat",pT="@firebase/app-check",mT="@firebase/auth",gT="@firebase/auth-compat",yT="@firebase/database",vT="@firebase/data-connect",_T="@firebase/database-compat",wT="@firebase/functions",ET="@firebase/functions-compat",TT="@firebase/installations",ST="@firebase/installations-compat",IT="@firebase/messaging",kT="@firebase/messaging-compat",AT="@firebase/performance",CT="@firebase/performance-compat",RT="@firebase/remote-config",PT="@firebase/remote-config-compat",bT="@firebase/storage",xT="@firebase/storage-compat",NT="@firebase/firestore",DT="@firebase/vertexai",OT="@firebase/firestore-compat",VT="firebase",MT="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="[DEFAULT]",LT={[Cf]:"fire-core",[cT]:"fire-core-compat",[dT]:"fire-analytics",[hT]:"fire-analytics-compat",[pT]:"fire-app-check",[fT]:"fire-app-check-compat",[mT]:"fire-auth",[gT]:"fire-auth-compat",[yT]:"fire-rtdb",[vT]:"fire-data-connect",[_T]:"fire-rtdb-compat",[wT]:"fire-fn",[ET]:"fire-fn-compat",[TT]:"fire-iid",[ST]:"fire-iid-compat",[IT]:"fire-fcm",[kT]:"fire-fcm-compat",[AT]:"fire-perf",[CT]:"fire-perf-compat",[RT]:"fire-rc",[PT]:"fire-rc-compat",[bT]:"fire-gcs",[xT]:"fire-gcs-compat",[NT]:"fire-fst",[OT]:"fire-fst-compat",[DT]:"fire-vertex","fire-js":"fire-js",[VT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,FT=new Map,Pf=new Map;function Ay(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ks(n){const e=n.name;if(Pf.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,n);for(const t of xc.values())Ay(t,n);for(const t of FT.values())Ay(t,n);return!0}function Jc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ni(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Rl("app","Firebase",UT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=MT;function Cv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Rf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(t||(t=Tv()),!t)throw Mi.create("no-options");const l=xc.get(o);if(l){if(bc(t,l.options)&&bc(i,l.config))return l;throw Mi.create("duplicate-app",{appName:o})}const h=new HE(o);for(const m of Pf.values())h.addComponent(m);const d=new BT(t,i,h);return xc.set(o,d),d}function lp(n=Rf){const e=xc.get(n);if(!e&&n===Rf&&Tv())return Cv();if(!e)throw Mi.create("no-app",{appName:n});return e}function mr(n,e,t){var i;let o=(i=LT[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(d.join(" "));return}ks(new Li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebase-heartbeat-database",zT=1,vl="firebase-heartbeat-store";let hf=null;function Rv(){return hf||(hf=sT(jT,zT,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),hf}async function $T(n){try{const t=(await Rv()).transaction(vl),i=await t.objectStore(vl).get(Pv(n));return await t.done,i}catch(e){if(e instanceof Tr)Gr.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function Cy(n,e){try{const i=(await Rv()).transaction(vl,"readwrite");await i.objectStore(vl).put(e,Pv(n)),await i.done}catch(t){if(t instanceof Tr)Gr.warn(t.message);else{const i=Mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(i.message)}}}function Pv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=1024,qT=30*24*60*60*1e3;class HT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KT(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ry();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=qT}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ry(),{heartbeatsToSend:i,unsentEntries:o}=GT(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Gr.warn(t),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function GT(n,e=WT){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Py(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Py(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class KT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OE()?VE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $T(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Py(n){return Pc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n){ks(new Li("platform-logger",e=>new lT(e),"PRIVATE")),ks(new Li("heartbeat",e=>new HT(e),"PRIVATE")),mr(Cf,ky,n),mr(Cf,ky,"esm2017"),mr("fire-js","")}QT("");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,bv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function b(){}b.prototype=I.prototype,P.D=I.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(_,R,N){for(var A=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)A[Ce-2]=arguments[Ce];return I.prototype[R].apply(_,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,b){b||(b=0);var _=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)_[R]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(R=0;16>R;++R)_[R]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=P.g[0],b=P.g[1],R=P.g[2];var N=P.g[3],A=I+(N^b&(R^N))+_[0]+3614090360&4294967295;I=b+(A<<7&4294967295|A>>>25),A=N+(R^I&(b^R))+_[1]+3905402710&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(b^N&(I^b))+_[2]+606105819&4294967295,R=N+(A<<17&4294967295|A>>>15),A=b+(I^R&(N^I))+_[3]+3250441966&4294967295,b=R+(A<<22&4294967295|A>>>10),A=I+(N^b&(R^N))+_[4]+4118548399&4294967295,I=b+(A<<7&4294967295|A>>>25),A=N+(R^I&(b^R))+_[5]+1200080426&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(b^N&(I^b))+_[6]+2821735955&4294967295,R=N+(A<<17&4294967295|A>>>15),A=b+(I^R&(N^I))+_[7]+4249261313&4294967295,b=R+(A<<22&4294967295|A>>>10),A=I+(N^b&(R^N))+_[8]+1770035416&4294967295,I=b+(A<<7&4294967295|A>>>25),A=N+(R^I&(b^R))+_[9]+2336552879&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(b^N&(I^b))+_[10]+4294925233&4294967295,R=N+(A<<17&4294967295|A>>>15),A=b+(I^R&(N^I))+_[11]+2304563134&4294967295,b=R+(A<<22&4294967295|A>>>10),A=I+(N^b&(R^N))+_[12]+1804603682&4294967295,I=b+(A<<7&4294967295|A>>>25),A=N+(R^I&(b^R))+_[13]+4254626195&4294967295,N=I+(A<<12&4294967295|A>>>20),A=R+(b^N&(I^b))+_[14]+2792965006&4294967295,R=N+(A<<17&4294967295|A>>>15),A=b+(I^R&(N^I))+_[15]+1236535329&4294967295,b=R+(A<<22&4294967295|A>>>10),A=I+(R^N&(b^R))+_[1]+4129170786&4294967295,I=b+(A<<5&4294967295|A>>>27),A=N+(b^R&(I^b))+_[6]+3225465664&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^b&(N^I))+_[11]+643717713&4294967295,R=N+(A<<14&4294967295|A>>>18),A=b+(N^I&(R^N))+_[0]+3921069994&4294967295,b=R+(A<<20&4294967295|A>>>12),A=I+(R^N&(b^R))+_[5]+3593408605&4294967295,I=b+(A<<5&4294967295|A>>>27),A=N+(b^R&(I^b))+_[10]+38016083&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^b&(N^I))+_[15]+3634488961&4294967295,R=N+(A<<14&4294967295|A>>>18),A=b+(N^I&(R^N))+_[4]+3889429448&4294967295,b=R+(A<<20&4294967295|A>>>12),A=I+(R^N&(b^R))+_[9]+568446438&4294967295,I=b+(A<<5&4294967295|A>>>27),A=N+(b^R&(I^b))+_[14]+3275163606&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^b&(N^I))+_[3]+4107603335&4294967295,R=N+(A<<14&4294967295|A>>>18),A=b+(N^I&(R^N))+_[8]+1163531501&4294967295,b=R+(A<<20&4294967295|A>>>12),A=I+(R^N&(b^R))+_[13]+2850285829&4294967295,I=b+(A<<5&4294967295|A>>>27),A=N+(b^R&(I^b))+_[2]+4243563512&4294967295,N=I+(A<<9&4294967295|A>>>23),A=R+(I^b&(N^I))+_[7]+1735328473&4294967295,R=N+(A<<14&4294967295|A>>>18),A=b+(N^I&(R^N))+_[12]+2368359562&4294967295,b=R+(A<<20&4294967295|A>>>12),A=I+(b^R^N)+_[5]+4294588738&4294967295,I=b+(A<<4&4294967295|A>>>28),A=N+(I^b^R)+_[8]+2272392833&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^b)+_[11]+1839030562&4294967295,R=N+(A<<16&4294967295|A>>>16),A=b+(R^N^I)+_[14]+4259657740&4294967295,b=R+(A<<23&4294967295|A>>>9),A=I+(b^R^N)+_[1]+2763975236&4294967295,I=b+(A<<4&4294967295|A>>>28),A=N+(I^b^R)+_[4]+1272893353&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^b)+_[7]+4139469664&4294967295,R=N+(A<<16&4294967295|A>>>16),A=b+(R^N^I)+_[10]+3200236656&4294967295,b=R+(A<<23&4294967295|A>>>9),A=I+(b^R^N)+_[13]+681279174&4294967295,I=b+(A<<4&4294967295|A>>>28),A=N+(I^b^R)+_[0]+3936430074&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^b)+_[3]+3572445317&4294967295,R=N+(A<<16&4294967295|A>>>16),A=b+(R^N^I)+_[6]+76029189&4294967295,b=R+(A<<23&4294967295|A>>>9),A=I+(b^R^N)+_[9]+3654602809&4294967295,I=b+(A<<4&4294967295|A>>>28),A=N+(I^b^R)+_[12]+3873151461&4294967295,N=I+(A<<11&4294967295|A>>>21),A=R+(N^I^b)+_[15]+530742520&4294967295,R=N+(A<<16&4294967295|A>>>16),A=b+(R^N^I)+_[2]+3299628645&4294967295,b=R+(A<<23&4294967295|A>>>9),A=I+(R^(b|~N))+_[0]+4096336452&4294967295,I=b+(A<<6&4294967295|A>>>26),A=N+(b^(I|~R))+_[7]+1126891415&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~b))+_[14]+2878612391&4294967295,R=N+(A<<15&4294967295|A>>>17),A=b+(N^(R|~I))+_[5]+4237533241&4294967295,b=R+(A<<21&4294967295|A>>>11),A=I+(R^(b|~N))+_[12]+1700485571&4294967295,I=b+(A<<6&4294967295|A>>>26),A=N+(b^(I|~R))+_[3]+2399980690&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~b))+_[10]+4293915773&4294967295,R=N+(A<<15&4294967295|A>>>17),A=b+(N^(R|~I))+_[1]+2240044497&4294967295,b=R+(A<<21&4294967295|A>>>11),A=I+(R^(b|~N))+_[8]+1873313359&4294967295,I=b+(A<<6&4294967295|A>>>26),A=N+(b^(I|~R))+_[15]+4264355552&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~b))+_[6]+2734768916&4294967295,R=N+(A<<15&4294967295|A>>>17),A=b+(N^(R|~I))+_[13]+1309151649&4294967295,b=R+(A<<21&4294967295|A>>>11),A=I+(R^(b|~N))+_[4]+4149444226&4294967295,I=b+(A<<6&4294967295|A>>>26),A=N+(b^(I|~R))+_[11]+3174756917&4294967295,N=I+(A<<10&4294967295|A>>>22),A=R+(I^(N|~b))+_[2]+718787259&4294967295,R=N+(A<<15&4294967295|A>>>17),A=b+(N^(R|~I))+_[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+N&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var b=I-this.blockSize,_=this.B,R=this.h,N=0;N<I;){if(R==0)for(;N<=b;)o(this,P,N),N+=this.blockSize;if(typeof P=="string"){for(;N<I;)if(_[R++]=P.charCodeAt(N++),R==this.blockSize){o(this,_),R=0;break}}else for(;N<I;)if(_[R++]=P[N++],R==this.blockSize){o(this,_),R=0;break}}this.h=R,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var b=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=b&255,b/=256;for(this.u(P),P=Array(16),I=b=0;4>I;++I)for(var _=0;32>_;_+=8)P[b++]=this.g[I]>>>_&255;return P};function l(P,I){var b=d;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=I(P)}function h(P,I){this.h=I;for(var b=[],_=!0,R=P.length-1;0<=R;R--){var N=P[R]|0;_&&N==I||(b[R]=N,_=!1)}this.g=b}var d={};function m(P){return-128<=P&&128>P?l(P,function(I){return new h([I|0],0>I?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return F(y(-P));for(var I=[],b=1,_=0;P>=b;_++)I[_]=P/b|0,b*=4294967296;return new h(I,0)}function E(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return F(E(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(I,8)),_=S,R=0;R<P.length;R+=8){var N=Math.min(8,P.length-R),A=parseInt(P.substring(R,R+N),I);8>N?(N=y(Math.pow(I,N)),_=_.j(N).add(y(A))):(_=_.j(b),_=_.add(y(A)))}return _}var S=m(0),k=m(1),V=m(16777216);n=h.prototype,n.m=function(){if(O(this))return-F(this).m();for(var P=0,I=1,b=0;b<this.g.length;b++){var _=this.i(b);P+=(0<=_?_:4294967296+_)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(O(this))return"-"+F(this).toString(P);for(var I=y(Math.pow(P,6)),b=this,_="";;){var R=K(b,I).g;b=W(b,R.j(I));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=R,M(b))return N+_;for(;6>N.length;)N="0"+N;_=N+_}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function O(P){return P.h==-1}n.l=function(P){return P=W(this,P),O(P)?-1:M(P)?0:1};function F(P){for(var I=P.g.length,b=[],_=0;_<I;_++)b[_]=~P.g[_];return new h(b,~P.h).add(k)}n.abs=function(){return O(this)?F(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),b=[],_=0,R=0;R<=I;R++){var N=_+(this.i(R)&65535)+(P.i(R)&65535),A=(N>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);_=A>>>16,N&=65535,A&=65535,b[R]=A<<16|N}return new h(b,b[b.length-1]&-2147483648?-1:0)};function W(P,I){return P.add(F(I))}n.j=function(P){if(M(this)||M(P))return S;if(O(this))return O(P)?F(this).j(F(P)):F(F(this).j(P));if(O(P))return F(this.j(F(P)));if(0>this.l(V)&&0>P.l(V))return y(this.m()*P.m());for(var I=this.g.length+P.g.length,b=[],_=0;_<2*I;_++)b[_]=0;for(_=0;_<this.g.length;_++)for(var R=0;R<P.g.length;R++){var N=this.i(_)>>>16,A=this.i(_)&65535,Ce=P.i(R)>>>16,He=P.i(R)&65535;b[2*_+2*R]+=A*He,te(b,2*_+2*R),b[2*_+2*R+1]+=N*He,te(b,2*_+2*R+1),b[2*_+2*R+1]+=A*Ce,te(b,2*_+2*R+1),b[2*_+2*R+2]+=N*Ce,te(b,2*_+2*R+2)}for(_=0;_<I;_++)b[_]=b[2*_+1]<<16|b[2*_];for(_=I;_<2*I;_++)b[_]=0;return new h(b,0)};function te(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function X(P,I){this.g=P,this.h=I}function K(P,I){if(M(I))throw Error("division by zero");if(M(P))return new X(S,S);if(O(P))return I=K(F(P),I),new X(F(I.g),F(I.h));if(O(I))return I=K(P,F(I)),new X(F(I.g),I.h);if(30<P.g.length){if(O(P)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var b=k,_=I;0>=_.l(P);)b=se(b),_=se(_);var R=re(b,1),N=re(_,1);for(_=re(_,2),b=re(b,2);!M(_);){var A=N.add(_);0>=A.l(P)&&(R=R.add(b),N=A),_=re(_,1),b=re(b,1)}return I=W(P,R.j(I)),new X(R,I)}for(R=S;0<=P.l(I);){for(b=Math.max(1,Math.floor(P.m()/I.m())),_=Math.ceil(Math.log(b)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),N=y(b),A=N.j(I);O(A)||0<A.l(P);)b-=_,N=y(b),A=N.j(I);M(N)&&(N=k),R=R.add(N),P=W(P,A)}return new X(R,P)}n.A=function(P){return K(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),b=[],_=0;_<I;_++)b[_]=this.i(_)&P.i(_);return new h(b,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),b=[],_=0;_<I;_++)b[_]=this.i(_)|P.i(_);return new h(b,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),b=[],_=0;_<I;_++)b[_]=this.i(_)^P.i(_);return new h(b,this.h^P.h)};function se(P){for(var I=P.g.length+1,b=[],_=0;_<I;_++)b[_]=P.i(_)<<1|P.i(_-1)>>>31;return new h(b,P.h)}function re(P,I){var b=I>>5;I%=32;for(var _=P.g.length-b,R=[],N=0;N<_;N++)R[N]=0<I?P.i(N+b)>>>I|P.i(N+b+1)<<32-I:P.i(N+b);return new h(R,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,bv=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Es=h}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xv,al,Nv,pc,bf,Dv,Ov,Vv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break e;v=v[U]}u=u[u.length-1],T=v[u],p=p(T),p!=T&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var v=0,T=!1,U={next:function(){if(!T&&v<u.length){var $=v++;return{value:p($,u[$]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,v){return u.call.apply(u.bind,arguments)}function S(u,p,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(p,U)}}return function(){return u.apply(p,arguments)}}function k(u,p,v){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,k.apply(null,arguments)}function V(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function M(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,U,$){for(var ne=Array(arguments.length-2),We=2;We<arguments.length;We++)ne[We-2]=arguments[We];return p.prototype[U].apply(T,ne)}}function O(u){const p=u.length;if(0<p){const v=Array(p);for(let T=0;T<p;T++)v[T]=u[T];return v}return[]}function F(u,p){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(m(T)){const U=u.length||0,$=T.length||0;u.length=U+$;for(let ne=0;ne<$;ne++)u[U+ne]=T[ne]}else u.push(T)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function te(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function K(u){return K[" "](u),u}K[" "]=function(){};var se=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function re(u,p,v){for(const T in u)p.call(v,u[T],T,u)}function P(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function I(u){const p={};for(const v in u)p[v]=u[v];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,p){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let $=0;$<b.length;$++)v=b[$],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function R(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function N(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ge;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ce{constructor(){this.h=this.g=null}add(p,v){const T=He.get();T.set(p,v),this.h?this.h.next=T:this.g=T,this.h=T}}var He=new W(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ie=!1,ge=new Ce,le=()=>{const u=d.Promise.resolve(void 0);Ue=()=>{u.then(L)}};var L=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){N(v)}var p=He;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ie=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return u}();function ke(u,p){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(se){e:{try{K(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}M(ke,me);var be={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ye(u,p,v,T,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!T,this.ha=U,this.key=++je,this.da=this.fa=!1}function Pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ir(u){this.src=u,this.g={},this.h=0}Ir.prototype.add=function(u,p,v,T,U){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ne=ei(u,p,T,U);return-1<ne?(p=u[ne],v||(p.fa=!1)):(p=new Ye(p,this.src,$,!!T,U),p.fa=v,u.push(p)),p};function xs(u,p){var v=p.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,p,void 0),$;($=0<=U)&&Array.prototype.splice.call(T,U,1),$&&(Pt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ei(u,p,v,T){for(var U=0;U<u.length;++U){var $=u[U];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==T)return U}return-1}var Wi="closure_lm_"+(1e6*Math.random()|0),Ns={};function la(u,p,v,T,U){if(Array.isArray(p)){for(var $=0;$<p.length;$++)la(u,p[$],v,T,U);return null}return v=ha(v),u&&u[Be]?u.K(p,v,y(T)?!!T.capture:!!T,U):ua(u,p,v,!1,T,U)}function ua(u,p,v,T,U,$){if(!p)throw Error("Invalid event type");var ne=y(U)?!!U.capture:!!U,We=Os(u);if(We||(u[Wi]=We=new Ir(u)),v=We.add(p,v,T,ne,$),v.proxy)return v;if(T=Bl(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ie||(U=ne),U===void 0&&(U=!1),u.addEventListener(p.toString(),T,U);else if(u.attachEvent)u.attachEvent(Ar(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bl(){function u(v){return p.call(u.src,u.listener,v)}const p=ca;return u}function Ds(u,p,v,T,U){if(Array.isArray(p))for(var $=0;$<p.length;$++)Ds(u,p[$],v,T,U);else T=y(T)?!!T.capture:!!T,v=ha(v),u&&u[Be]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],v=ei($,v,T,U),-1<v&&(Pt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=Os(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ei(p,v,T,U)),(v=-1<u?p[u]:null)&&kr(v))}function kr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Be])xs(p.i,u);else{var v=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(v,T,u.capture):p.detachEvent?p.detachEvent(Ar(v),T):p.addListener&&p.removeListener&&p.removeListener(T),(v=Os(p))?(xs(v,u),v.h==0&&(v.src=null,p[Wi]=null)):Pt(u)}}}function Ar(u){return u in Ns?Ns[u]:Ns[u]="on"+u}function ca(u,p){if(u.da)u=!0;else{p=new ke(p,this);var v=u.listener,T=u.ha||u.src;u.fa&&kr(u),u=v.call(T,p)}return u}function Os(u){return u=u[Wi],u instanceof Ir?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ha(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(p){return u.handleEvent(p)}),u[Vs])}function St(){H.call(this),this.i=new Ir(this),this.M=this,this.F=null}M(St,H),St.prototype[Be]=!0,St.prototype.removeEventListener=function(u,p,v,T){Ds(this,u,p,v,T)};function It(u,p){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new me(p,u);else if(p instanceof me)p.target=p.target||u;else{var U=p;p=new me(T,u),_(p,U)}if(U=!0,v)for(var $=v.length-1;0<=$;$--){var ne=p.g=v[$];U=Cr(ne,T,!0,p)&&U}if(ne=p.g=u,U=Cr(ne,T,!0,p)&&U,U=Cr(ne,T,!1,p)&&U,v)for($=0;$<v.length;$++)ne=p.g=v[$],U=Cr(ne,T,!1,p)&&U}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],T=0;T<v.length;T++)Pt(v[T]);delete u.g[p],u.h--}}this.F=null},St.prototype.K=function(u,p,v,T){return this.i.add(String(u),p,!1,v,T)},St.prototype.L=function(u,p,v,T){return this.i.add(String(u),p,!0,v,T)};function Cr(u,p,v,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,$=0;$<p.length;++$){var ne=p[$];if(ne&&!ne.da&&ne.capture==v){var We=ne.listener,kt=ne.ha||ne.src;ne.fa&&xs(u.i,ne),U=We.call(kt,T)!==!1&&U}}return U&&!T.defaultPrevented}function da(u,p,v){if(typeof u=="function")v&&(u=k(u,v));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function ti(u){u.g=da(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class qi extends H{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(u){H.call(this),this.h=u,this.g={}}M(Hi,H);var fa=[];function pa(u){re(u.g,function(p,v){this.g.hasOwnProperty(v)&&kr(p)},u),u.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),pa(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=d.JSON.stringify,ga=d.JSON.parse,ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gi(){}Gi.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function Ls(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){me.call(this,"d")}M(er,me);function Fs(){me.call(this,"c")}M(Fs,me);var tr={},va=null;function Ki(){return va=va||new St}tr.La="serverreachability";function _a(u){me.call(this,tr.La,u)}M(_a,me);function Rr(u){const p=Ki();It(p,new _a(p))}tr.STAT_EVENT="statevent";function wa(u,p){me.call(this,tr.STAT_EVENT,u),this.stat=p}M(wa,me);function ft(u){const p=Ki();It(p,new wa(p,u))}tr.Ma="timingevent";function Us(u,p){me.call(this,tr.Ma,u),this.size=p}M(Us,me);function Mn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Qi(){this.g=!0}Qi.prototype.xa=function(){this.g=!1};function Yi(u,p,v,T,U,$){u.info(function(){if(u.g)if($)for(var ne="",We=$.split("&"),kt=0;kt<We.length;kt++){var xe=We[kt].split("=");if(1<xe.length){var bt=xe[0];xe=xe[1];var vt=bt.split("_");ne=2<=vt.length&&vt[1]=="type"?ne+(bt+"="+xe+"&"):ne+(bt+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+p+`
`+v+`
`+ne})}function Bs(u,p,v,T,U,$,ne){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+p+`
`+v+`
`+$+" "+ne})}function Ln(u,p,v,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ph(u,v)+(T?" "+T:"")})}function Ea(u,p){u.info(function(){return"TIMEOUT: "+p})}Qi.prototype.info=function(){};function Ph(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var $=U[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<U.length;ne++)U[ne]=""}}}}return ma(v)}catch{return p}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Xi(){}M(Xi,Gi),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Fn=new Xi;function Un(u,p,v,T){this.j=u,this.i=p,this.l=v,this.R=T||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var Ta={},zs={};function $s(u,p,v){u.L=1,u.v=oi(pn(p)),u.m=v,u.P=!0,Sa(u,null)}function Sa(u,p){u.F=Date.now(),Xe(u),u.A=pn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),li(v.i,"t",T),u.C=0,v=u.j.J,u.h=new zl,u.g=ou(u.j,v?p:null,!u.m),0<u.O&&(u.M=new qi(k(u.Y,u,u.g),u.O)),p=u.U,v=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(fa[0]=U.toString()),U=fa);for(var $=0;$<U.length;$++){var ne=la(v,U[$],T||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Rr(),Yi(u.i,u.u,u.A,u.l,u.R,u.m)}Un.prototype.ca=function(u){u=u.target;const p=this.M;p&&rn(u)==3?p.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const vt=rn(this.g);var p=this.g.Ba();const An=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Pa(this.g)))){this.J||vt!=4||p==7||(p==8||0>=An?Rr(3):Rr(2)),Ji(this);var v=this.g.Z();this.X=v;t:if($l(this)){var T=Pa(this.g);u="";var U=T.length,$=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ni(this);var ne="";break t}this.h.i=new d.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!($&&p==U-1)});T.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=v==200,Bs(this.i,this.u,this.A,this.l,this.R,vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,kt=this.g;if((We=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(We)){var xe=We;break t}}xe=null}if(v=xe)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,v);else{this.o=!1,this.s=3,ft(12),In(this),ni(this);break e}}if(this.P){v=!0;let gn;for(;!this.J&&this.C<ne.length;)if(gn=bh(this,ne),gn==zs){vt==4&&(this.s=4,ft(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Ta){this.s=4,ft(15),Ln(this.i,this.l,ne,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,gn,null),Ia(this,gn);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ne.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,ne,"[Invalid Chunked Response]"),In(this),ni(this);else if(0<ne.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),xa(bt),bt.M=!0,ft(11))}}else Ln(this.i,this.l,ne,null),Ia(this,ne);vt==4&&In(this),this.o&&!this.J&&(vt==4?eo(this.j,this):(this.o=!1,Xe(this)))}else Qs(this.g),v==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),In(this),ni(this)}}}catch{}finally{}};function $l(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bh(u,p){var v=u.C,T=p.indexOf(`
`,v);return T==-1?zs:(v=Number(p.substring(v,T)),isNaN(v)?Ta:(T+=1,T+v>p.length?zs:(p=p.slice(T,T+v),u.C=T+v,p)))}Un.prototype.cancel=function(){this.J=!0,In(this)};function Xe(u){u.S=Date.now()+u.I,Wl(u,u.I)}function Wl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(k(u.ba,u),p)}function Ji(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Un.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ea(this.i,this.A),this.L!=2&&(Rr(),ft(17)),In(this),this.s=2,ni(this)):Wl(this,this.S-u)};function ni(u){u.j.G==0||u.J||eo(u.j,u)}function In(u){Ji(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,pa(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Ia(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||Jt(v.h,u))){if(!u.K&&Jt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Zs(v),Wn(v);else break e;Js(v),ft(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mn(k(v.Za,v),6e3));if(1>=Hl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Dr(v,11)}else if((u.K||v.g==u)&&Zs(v),!te(p))for(U=v.Da.g.parse(p),p=0;p<U.length;p++){let xe=U[p];if(v.T=xe[0],xe=xe[1],v.G==2)if(xe[0]=="c"){v.K=xe[1],v.ia=xe[2];const bt=xe[3];bt!=null&&(v.la=bt,v.j.info("VER="+v.la));const vt=xe[4];vt!=null&&(v.Aa=vt,v.j.info("SVER="+v.Aa));const An=xe[5];An!=null&&typeof An=="number"&&0<An&&(T=1.5*An,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const gn=u.g;if(gn){const ss=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var $=T.h;$.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ka($,$.h),$.h=null))}if(T.D){const no=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(T.ya=no,Ge(T.I,T.D,no))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ne=u;if(T.qa=su(T,T.J?T.ia:null,T.W),ne.K){Gl(T.h,ne);var We=ne,kt=T.L;kt&&(We.I=kt),We.B&&(Ji(We),Xe(We)),T.g=ne}else is(T);0<v.i.length&&sr(v)}else xe[0]!="stop"&&xe[0]!="close"||Dr(v,7);else v.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Dr(v,7):Mt(v):xe[0]!="noop"&&v.l&&v.l.ta(xe),v.v=0)}}Rr(4)}catch{}}var ql=class{constructor(u,p){this.g=u,this.map=p}};function Zi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hl(u){return u.h?1:u.g?u.g.size:0}function Jt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ka(u,p){u.g?u.g.add(p):u.h=p}function Gl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Zi.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return O(u.i)}function Ws(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],v=u.length,T=0;T<v;T++)p.push(u[T]);return p}p=[],v=0;for(T in u)p[v++]=u[T];return p}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const T in u)p[v++]=T;return p}}}function ri(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=qs(u),T=Ws(u),U=T.length,$=0;$<U;$++)p.call(void 0,T[$],v&&v[$],u)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),U=null;if(0<=T){var $=u[v].substring(0,T);U=u[v].substring(T+1)}else $=u[v];p($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pr){this.h=u.h,ts(this,u.j),this.o=u.o,this.g=u.g,ii(this,u.s),this.l=u.l;var p=u.i,v=new nr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),si(this,v),this.m=u.m}else u&&(p=String(u).match(es))?(this.h=!1,ts(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),ii(this,p[4]),this.l=Pe(p[5]||"",!0),si(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Pr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ai(p,Hs,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ai(p,Hs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ai(v,v.charAt(0)=="/"?Xl:Yl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ai(v,Aa)),u.join("")};function pn(u){return new Pr(u)}function ts(u,p,v){u.j=v?Pe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ii(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function si(u,p,v){p instanceof nr?(u.i=p,rr(u.i,u.h)):(v||(p=ai(p,Jl)),u.i=new nr(p,u.h))}function Ge(u,p,v){u.i.set(p,v)}function oi(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ai(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Ql),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Yl=/[#\?:]/g,Xl=/[#\?]/g,Jl=/[#\?@]/g,Aa=/#/g;function nr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&xh(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}n=nr.prototype,n.add=function(u,p){Vt(this),this.i=null,u=kn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Bn(u,p){Vt(u),p=kn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function jn(u,p){return Vt(u),p=kn(u,p),u.g.has(p)}n.forEach=function(u,p){Vt(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(p,U,T,this)},this)},this)},n.na=function(){Vt(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let T=0;T<p.length;T++){const U=u[T];for(let $=0;$<U.length;$++)v.push(p[T])}return v},n.V=function(u){Vt(this);let p=[];if(typeof u=="string")jn(this,u)&&(p=p.concat(this.g.get(kn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},n.set=function(u,p){return Vt(this),this.i=null,u=kn(this,u),jn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function li(u,p,v){Bn(u,p),0<v.length&&(u.i=null,u.g.set(kn(u,p),O(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var T=p[v];const $=encodeURIComponent(String(T)),ne=this.V(T);for(T=0;T<ne.length;T++){var U=$;ne[T]!==""&&(U+="="+encodeURIComponent(String(ne[T]))),u.push(U)}}return this.i=u.join("&")};function kn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function rr(u,p){p&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(v,T){var U=T.toLowerCase();T!=U&&(Bn(this,T),li(this,U,v))},u)),u.j=p}function Nh(u,p){const v=new Qi;if(d.Image){const T=new Image;T.onload=V(nn,v,"TestLoadImage: loaded",!0,p,T),T.onerror=V(nn,v,"TestLoadImage: error",!1,p,T),T.onabort=V(nn,v,"TestLoadImage: abort",!1,p,T),T.ontimeout=V(nn,v,"TestLoadImage: timeout",!1,p,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Zl(u,p){const v=new Qi,T=new AbortController,U=setTimeout(()=>{T.abort(),nn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then($=>{clearTimeout(U),$.ok?nn(v,"TestPingServer: ok",!0,p):nn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),nn(v,"TestPingServer: error",!1,p)})}function nn(u,p,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Dh(){this.g=new ya}function eu(u,p,v){const T=v||"";try{ri(u,function(U,$){let ne=U;y(U)&&(ne=ma(U)),p.push(T+$+"="+encodeURIComponent(ne))})}catch(U){throw p.push(T+"type="+encodeURIComponent("_badmap")),U}}function br(u){this.l=u.Ub||null,this.j=u.eb||!1}M(br,Gi),br.prototype.g=function(){return new ns(this.l,this.j)},br.prototype.i=function(u){return function(){return u}}({});function ns(u,p){St.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ns,St),n=ns.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,$n(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?zn(this):$n(this),this.readyState==3&&tu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},n.Qa=function(u){this.g&&(this.response=u,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xr(u){let p="";return re(u,function(v,T){p+=T,p+=":",p+=v,p+=`\r
`}),p}function ui(u,p,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=xr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ge(u,p,v))}function tt(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(tt,St);var Oh=/^https?$/i,Ca=["POST","PUT"];n=tt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Ms(this.o):Ms(Fn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){rs(this,$);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())v.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ca,p,void 0))||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of v)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch($){rs(this,$)}};function rs(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Gs(u),mn(u)}function Gs(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,It(this,"complete"),It(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},n.bb=function(){Ra(this)};function Ra(u){if(u.h&&typeof h<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)da(u.Ea,0,u);else if(It(u,"readystatechange"),rn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var T;if(T=ne===0){var U=String(u.D).match(es)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),T=!Oh.test(U?U.toLowerCase():"")}v=T}if(v)It(u,"complete"),It(u,"success");else{u.m=6;try{var $=2<rn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Gs(u)}}finally{mn(u)}}}}function mn(u,p){if(u.g){Ks(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||It(u,"ready");try{v.onreadystatechange=T}catch{}}}function Ks(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ga(p)}};function Pa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qs(u){const p={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var v=R(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[U]||[];p[U]=$,$.push(v)}P(p,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function ba(u){this.Aa=0,this.i=[],this.j=new Qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,u),this.cb=ir("retryDelaySeedMs",1e4,u),this.Wa=ir("forwardChannelMaxRetries",2,u),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(u&&u.concurrentRequestLimit),this.Da=new Dh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ba.prototype,n.la=8,n.G=1,n.connect=function(u,p,v,T){ft(0),this.W=u,this.H=p||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=su(this,null,this.W),sr(this)};function Mt(u){if(Ys(u),u.G==3){var p=u.U++,v=pn(u.I);if(Ge(v,"SID",u.K),Ge(v,"RID",p),Ge(v,"TYPE","terminate"),Nr(u,v),p=new Un(u,u.j,p),p.L=2,p.v=oi(pn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.v,v=!0),v||(p.g=ou(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xe(p)}iu(u)}function Wn(u){u.g&&(xa(u),u.g.cancel(),u.g=null)}function Ys(u){Wn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function sr(u){if(!fn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ue||le(),ie||(Ue(),ie=!0),ge.add(p,u),u.B=0}}function Vh(u,p){return Hl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(k(u.Ga,u,p),ru(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Un(this,this.j,u);let $=this.o;if(this.S&&($?($=I($),_($,this.S)):$=this.S),this.m!==null||this.O||(U.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=ci(this,U,p),v=pn(this.I),Ge(v,"RID",u),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),Nr(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(xr($)))+"&"+p:this.m&&ui(v,this.m,$)),ka(this.h,U),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",p),Ge(v,"SID","null"),U.T=!0,$s(U,v,null)):$s(U,v,p),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||fn(this.h)||Xs(this))};function Xs(u,p){var v;p?v=p.l:v=u.U++;const T=pn(u.I);Ge(T,"SID",u.K),Ge(T,"RID",v),Ge(T,"AID",u.T),Nr(u,T),u.m&&u.o&&ui(T,u.m,u.o),v=new Un(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=ci(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,v),$s(v,T,p)}function Nr(u,p){u.H&&re(u.H,function(v,T){Ge(p,T,v)}),u.l&&ri({},function(v,T){Ge(p,T,v)})}function ci(u,p,v){v=Math.min(u.i.length,v);var T=u.l?k(u.l.Na,u.l,u):null;e:{var U=u.i;let $=-1;for(;;){const ne=["count="+v];$==-1?0<v?($=U[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let We=!0;for(let kt=0;kt<v;kt++){let xe=U[kt].g;const bt=U[kt].map;if(xe-=$,0>xe)$=Math.max(0,U[kt].g-100),We=!1;else try{eu(bt,ne,"req"+xe+"_")}catch{T&&T(bt)}}if(We){T=ne.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,T}function is(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ue||le(),ie||(Ue(),ie=!0),ge.add(p,u),u.v=0}}function Js(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(k(u.Fa,u),ru(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(k(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Wn(this),nu(this))};function xa(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new Un(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=pn(u.qa);Ge(p,"RID","rpc"),Ge(p,"SID",u.K),Ge(p,"AID",u.T),Ge(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(p,"TO",u.ja),Ge(p,"TYPE","xmlhttp"),Nr(u,p),u.m&&u.o&&ui(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=oi(pn(p)),v.m=null,v.P=!0,Sa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),Js(this),ft(19))};function Zs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function eo(u,p){var v=null;if(u.g==p){Zs(u),xa(u),u.g=null;var T=2}else if(Jt(u.h,p))v=p.D,Gl(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var U=u.B;T=Ki(),It(T,new Us(T,v)),sr(u)}else is(u);else if(U=p.s,U==3||U==0&&0<p.X||!(T==1&&Vh(u,p)||T==2&&Js(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),U){case 1:Dr(u,5);break;case 4:Dr(u,10);break;case 3:Dr(u,6);break;default:Dr(u,2)}}}function ru(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Dr(u,p){if(u.j.info("Error code "+p),p==2){var v=k(u.fb,u),T=u.Xa;const U=!T;T=new Pr(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ts(T,"https"),oi(T),U?Nh(T.toString(),v):Zl(T.toString(),v)}else ft(2);u.G=0,u.l&&u.l.sa(p),iu(u),Ys(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const p=Kl(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function su(u,p,v){var T=v instanceof Pr?pn(v):new Pr(v);if(T.g!="")p&&(T.g=p+"."+T.g),ii(T,T.s);else{var U=d.location;T=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var $=new Pr(null);T&&ts($,T),p&&($.g=p),U&&ii($,U),v&&($.l=v),T=$}return v=u.D,p=u.ya,v&&p&&Ge(T,v,p),Ge(T,"VER",u.la),Nr(u,T),T}function ou(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new tt(new br({eb:v})):new tt(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Na(){}n=Na.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(u,p){return new Zt(u,p)};function Zt(u,p){St.call(this),this.g=new ba(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!te(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!te(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new or(this)}M(Zt,St),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Mt(this.g)},Zt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ma(u),u=v);p.i.push(new ql(p.Ya++,u)),p.G==3&&sr(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Zt.aa.N.call(this)};function au(u){er.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}M(au,er);function lu(){Fs.call(this),this.status=1}M(lu,Fs);function or(u){this.g=u}M(or,Na),or.prototype.ua=function(){It(this.g,"a")},or.prototype.ta=function(u){It(this.g,new au(u))},or.prototype.sa=function(u){It(this.g,new lu)},or.prototype.ra=function(){It(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Vv=function(){return new to},Ov=function(){return Ki()},Dv=tr,bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,pc=js,jl.COMPLETE="complete",Nv=jl,Ls.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",St.prototype.listen=St.prototype.K,al=Ls,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,xv=tt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new op("@firebase/firestore");function bo(){return As.logLevel}function ue(n,...e){if(As.logLevel<=Re.DEBUG){const t=e.map(up);As.debug(`Firestore (${ta}): ${n}`,...t)}}function Kr(n,...e){if(As.logLevel<=Re.ERROR){const t=e.map(up);As.error(`Firestore (${ta}): ${n}`,...t)}}function $o(n,...e){if(As.logLevel<=Re.WARN){const t=e.map(up);As.warn(`Firestore (${ta}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: `+n;throw Kr(e),new Error(e)}function at(n,e){n||Se()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class XT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JT{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ts,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ts)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new Mv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new Kt(e)}}class ZT{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eS{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ZT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){at(this.o===void 0);const i=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new tS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=rS(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function De(n,e){return n<e?-1:n>e?1:0}function Wo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new dt(0,0))}static max(){return new Te(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return _l.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends _l{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const sS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends _l{construct(e,t,i){return new Yt(e,t,i)}static isValidIdentifier(e){return sS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(i+=d,o++):(l(),o++)}if(l(),h)throw new pe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}function oS(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Fi(o,_e.empty(),e)}function aS(n){return new Fi(n.readTime,n.key,-1)}class Fi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Fi(Te.min(),_e.empty(),-1)}static max(){return new Fi(Te.max(),_e.empty(),-1)}}function lS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==uS)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},m=>i(m))}),h=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const l=e.length,h=new Array(l);let d=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next(E=>{h[y]=E,++d,d===l&&i(h)},E=>o(E))}})}static doWhile(e,t){return new G((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function hS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function na(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eh.oe=-1;function th(n){return n==null}function Nc(n){return n===0&&1/n==-1/0}function dS(n){return typeof n=="number"&&Number.isInteger(n)&&!Nc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ny(e)),e=pS(n.get(t),e);return Ny(e)}function pS(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Ny(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Ut.RED,this.left=o??Ut.EMPTY,this.right=l??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Ut(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oy(this.data.getIterator())}getIteratorFrom(e){return new Oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class Oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Di([])}unionWith(e){let t=new Rt(Yt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Di(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Fv("Invalid base64 string: "+l):l}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const mS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(n){if(at(!!n),typeof n=="string"){let e=0;const t=mS.exec(n);if(at(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function nh(n){const e=n.mapValue.fields.__previous_value__;return cp(e)?nh(e):e}function wl(n){const e=Ui(n.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,i,o,l,h,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=y}}class El{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new El("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cp(n)?4:vS(n)?9007199254740991:yS(n)?10:11:Se()}function wr(n,e){if(n===e)return!0;const t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wl(n).isEqual(wl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ui(o.timestampValue),d=Ui(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Bi(o.bytesValue).isEqual(Bi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return mt(o.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return mt(o.integerValue)===mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=mt(o.doubleValue),d=mt(l.doubleValue);return h===d?Nc(h)===Nc(d):isNaN(h)&&isNaN(d)}return!1}(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Dy(h)!==Dy(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!wr(h[m],d[m])))return!1;return!0}(n,e);default:return Se()}}function Tl(n,e){return(n.values||[]).find(t=>wr(t,e))!==void 0}function qo(n,e){if(n===e)return 0;const t=ji(n),i=ji(e);if(t!==i)return De(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(l,h){const d=mt(l.integerValue||l.doubleValue),m=mt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Vy(n.timestampValue,e.timestampValue);case 4:return Vy(wl(n),wl(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(l,h){const d=Bi(l),m=Bi(h);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),m=h.split("/");for(let y=0;y<d.length&&y<m.length;y++){const E=De(d[y],m[y]);if(E!==0)return E}return De(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const d=De(mt(l.latitude),mt(h.latitude));return d!==0?d:De(mt(l.longitude),mt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return My(n.arrayValue,e.arrayValue);case 10:return function(l,h){var d,m,y,E;const S=l.fields||{},k=h.fields||{},V=(d=S.value)===null||d===void 0?void 0:d.arrayValue,M=(m=k.value)===null||m===void 0?void 0:m.arrayValue,O=De(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return O!==0?O:My(V,M)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===ic.mapValue&&h===ic.mapValue)return 0;if(l===ic.mapValue)return 1;if(h===ic.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),y=h.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const k=De(m[S],E[S]);if(k!==0)return k;const V=qo(d[m[S]],y[E[S]]);if(V!==0)return V}return De(m.length,E.length)}(n.mapValue,e.mapValue);default:throw Se()}}function Vy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ui(n),i=Ui(e),o=De(t.seconds,i.seconds);return o!==0?o:De(t.nanos,i.nanos)}function My(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=qo(t[o],i[o]);if(l)return l}return De(t.length,i.length)}function Ho(n){return xf(n)}function xf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ui(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=xf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${xf(t.fields[h])}`;return o+"}"}(n.mapValue):Se()}function mc(n){switch(ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(n);return e?16+mc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+mc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ra(i.fields,(l,h)=>{o+=l.length+mc(h)}),o}(n.mapValue);default:throw Se()}}function Ly(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nf(n){return!!n&&"integerValue"in n}function hp(n){return!!n&&"arrayValue"in n}function Fy(n){return!!n&&"nullValue"in n}function Uy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function df(n){return!!n&&"mapValue"in n}function yS(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ra(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=dl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=Yt.emptyPath(),i={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=d.popLast()}h?i[d.lastSegment()]=dl(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ra(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new pr(dl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,o,l,h,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,Te.min(),Te.min(),Te.min(),pr.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,Te.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Te.min(),Te.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Te.min(),Te.min(),pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),t.key):i=qo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function jy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function _S(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{}class Tt extends Uv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ES(e,t,i):t==="array-contains"?new IS(e,i):t==="in"?new kS(e,i):t==="not-in"?new AS(e,i):t==="array-contains-any"?new CS(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new TS(e,i):new SS(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(qo(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Uv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Zn(e,t)}matches(e){return Bv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bv(n){return n.op==="and"}function jv(n){return wS(n)&&Bv(n)}function wS(n){for(const e of n.filters)if(e instanceof Zn)return!1;return!0}function Df(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(jv(n))return n.filters.map(e=>Df(e)).join(",");{const e=n.filters.map(t=>Df(t)).join(",");return`${n.op}(${e})`}}function zv(n,e){return n instanceof Tt?function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)}(n,e):n instanceof Zn?function(i,o){return o instanceof Zn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,d)=>l&&zv(h,o.filters[d]),!0):!1}(n,e):void Se()}function $v(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(n):n instanceof Zn?function(t){return t.op.toString()+" {"+t.getFilters().map($v).join(" ,")+"}"}(n):"Filter"}class ES extends Tt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class TS extends Tt{constructor(e,t){super(e,"in",t),this.keys=Wv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SS extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Wv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class IS extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hp(t)&&Tl(t.arrayValue,this.value)}}class kS extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tl(this.value.arrayValue,t)}}class AS extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Tl(this.value.arrayValue,t)}}class CS extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t=null,i=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.ue=null}}function zy(n,e=null,t=[],i=[],o=null,l=null,h=null){return new RS(n,e,t,i,o,l,h)}function dp(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Df(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ho(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ho(i)).join(",")),e.ue=t}return e.ue}function fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_S(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jy(n.startAt,e.startAt)&&jy(n.endAt,e.endAt)}function Of(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t=null,i=[],o=[],l=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function PS(n,e,t,i,o,l,h,d){return new bl(n,e,t,i,o,l,h,d)}function qv(n){return new bl(n)}function $y(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Hv(n){return n.collectionGroup!==null}function fl(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Rt(Yt.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Oc(l,i))}),t.has(Yt.keyField().canonicalString())||e.ce.push(new Oc(Yt.keyField(),i))}return e.ce}function gr(n){const e=Oe(n);return e.le||(e.le=bS(e,fl(n))),e.le}function bS(n,e){if(n.limitType==="F")return zy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Oc(o.field,l)});const t=n.endAt?new Dc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dc(n.startAt.position,n.startAt.inclusive):null;return zy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Vf(n,e){const t=n.filters.concat([e]);return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mf(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rh(n,e){return fp(gr(n),gr(e))&&n.limitType===e.limitType}function Gv(n){return`${dp(gr(n))}|lt:${n.limitType}`}function xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>$v(o)).join(", ")}]`),th(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Ho(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Ho(o)).join(",")),`Target(${i})`}(gr(n))}; limitType=${n.limitType})`}function ih(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of fl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,d,m){const y=By(h,d,m);return h.inclusive?y<=0:y<0}(i.startAt,fl(i),o)||i.endAt&&!function(h,d,m){const y=By(h,d,m);return h.inclusive?y>=0:y>0}(i.endAt,fl(i),o))}(n,e)}function xS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kv(n){return(e,t)=>{let i=!1;for(const o of fl(n)){const l=NS(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function NS(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,h,d){const m=h.data.field(l),y=d.data.field(l);return m!==null&&y!==null?qo(m,y):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Lv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new gt(_e.comparator);function zi(){return DS}const Qv=new gt(_e.comparator);function ll(...n){let e=Qv;for(const t of n)e=e.insert(t.key,t);return e}function OS(n){let e=Qv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ws(){return pl()}function Yv(){return pl()}function pl(){return new bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const VS=new Rt(_e.comparator);function Me(...n){let e=VS;for(const t of n)e=e.add(t);return e}const MS=new Rt(De);function LS(){return MS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function Xv(n){return{integerValue:""+n}}function FS(n,e){return dS(e)?Xv(e):pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function US(n,e,t){return n instanceof Lf?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&cp(l)&&(l=nh(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof Vc?Jv(n,e):n instanceof Mc?Zv(n,e):function(o,l){const h=jS(o,l),d=Wy(h)+Wy(o.Pe);return Nf(h)&&Nf(o.Pe)?Xv(d):pp(o.serializer,d)}(n,e)}function BS(n,e,t){return n instanceof Vc?Jv(n,e):n instanceof Mc?Zv(n,e):t}function jS(n,e){return n instanceof Ff?function(i){return Nf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Lf extends sh{}class Vc extends sh{constructor(e){super(),this.elements=e}}function Jv(n,e){const t=e_(e);for(const i of n.elements)t.some(o=>wr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Mc extends sh{constructor(e){super(),this.elements=e}}function Zv(n,e){let t=e_(e);for(const i of n.elements)t=t.filter(o=>!wr(o,i));return{arrayValue:{values:t}}}class Ff extends sh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Wy(n){return mt(n.integerValue||n.doubleValue)}function e_(n){return hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function zS(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vc&&o instanceof Vc||i instanceof Mc&&o instanceof Mc?Wo(i.elements,o.elements,wr):i instanceof Ff&&o instanceof Ff?wr(i.Pe,o.Pe):i instanceof Lf&&o instanceof Lf}(n.transform,e.transform)}class Ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ss}static exists(e){return new Ss(void 0,e)}static updateTime(e){return new Ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mp{}function t_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new WS(n.key,Ss.none()):new gp(n.key,n.data,Ss.none());{const t=n.data,i=pr.empty();let o=new Rt(Yt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new oh(n.key,i,new Di(o.toArray()),Ss.none())}}function $S(n,e,t){n instanceof gp?function(o,l,h){const d=o.value.clone(),m=Hy(o.fieldTransforms,l,h.transformResults);d.setAll(m),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(n,e,t):n instanceof oh?function(o,l,h){if(!gc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=Hy(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(n_(o)),m.setAll(d),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ml(n,e,t,i){return n instanceof gp?function(l,h,d,m){if(!gc(l.precondition,h))return d;const y=l.value.clone(),E=Gy(l.fieldTransforms,m,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof oh?function(l,h,d,m){if(!gc(l.precondition,h))return d;const y=Gy(l.fieldTransforms,m,h),E=h.data;return E.setAll(n_(l)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(l,h,d){return gc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(n,e,t)}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,(l,h)=>zS(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gp extends mp{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oh extends mp{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function n_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Hy(n,e,t){const i=new Map;at(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,d=e.data.field(l.field);i.set(l.field,BS(h,d,t[o]))}return i}function Gy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,US(l,h,e))}return i}class WS extends mp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&$S(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ml(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ml(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Yv();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const m=t_(h,d);m!==null&&i.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(t,i)=>qy(t,i))&&Wo(this.baseMutations,e.baseMutations,(t,i)=>qy(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ne;function r_(n){if(n===void 0)return Kr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case wt.OK:return ee.OK;case wt.CANCELLED:return ee.CANCELLED;case wt.UNKNOWN:return ee.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ee.INTERNAL;case wt.UNAVAILABLE:return ee.UNAVAILABLE;case wt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wt.NOT_FOUND:return ee.NOT_FOUND;case wt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wt.ABORTED:return ee.ABORTED;case wt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wt.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(Ne=wt||(wt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Es([4294967295,4294967295],0);function Ky(n){const e=KS().encode(n),t=new bv;return t.update(e),new Uint8Array(t.digest())}function Qy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,i],0),new Es([o,l],0)]}class yp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(i<0)throw new ul(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Es.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Es.fromNumber(i)));return o.compare(QS)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ky(e),[i,o]=Qy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new yp(l,o,t);return i.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=Ky(e),[i,o]=Qy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ah(Te.min(),o,new gt(De),zi(),Me())}}class xl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xl(i,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class i_{constructor(e,t){this.targetId=e,this.me=t}}class s_{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Yy{constructor(){this.fe=0,this.ge=Xy(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),t=Me(),i=Me();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new xl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Xy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YS{constructor(e){this.Le=e,this.Be=new Map,this.ke=zi(),this.qe=sc(),this.Qe=sc(),this.Ke=new gt(De)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(Of(l))if(i===0){const h=new _e(l.path);this.We(t,h,Qt.newNoDocument(h,Te.min()))}else at(i===1);else{const h=this.Ze(t);if(h!==i){const d=this.Xe(e),m=d?this.et(d,e,h):1;if(m!==0){this.He(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Bi(i).toUint8Array()}catch(m){if(m instanceof Fv)return $o("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new yp(h,o,l)}catch(m){return $o(m instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const d=this.Ye(h);if(d){if(l.current&&Of(d.target)){const m=new _e(d.target.path);this.st(m).has(h)||this.ot(h,m)||this.We(h,m,Qt.newNoDocument(m,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=Me();this.Qe.forEach((l,h)=>{let d=!0;h.forEachWhile(m=>{const y=this.Ye(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new ah(e,t,this.Ke,this.ke,i);return this.ke=zi(),this.qe=sc(),this.Qe=sc(),this.Ke=new gt(De),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Yy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Rt(De),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt(De),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Yy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sc(){return new gt(_e.comparator)}function Xy(){return new gt(_e.comparator)}const XS={asc:"ASCENDING",desc:"DESCENDING"},JS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZS={and:"AND",or:"OR"};class eI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Uf(n,e){return n.useProto3Json||th(e)?e:{value:e}}function Bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vo(n){return at(!!n),Te.fromTimestamp(function(t){const i=Ui(t);return new dt(i.seconds,i.nanos)}(n))}function a_(n,e){return jf(n,e).canonicalString()}function jf(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function l_(n){const e=ot.fromString(n);return at(f_(e)),e}function ff(n,e){const t=l_(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(c_(t))}function u_(n,e){return a_(n.databaseId,e)}function tI(n){const e=l_(n);return e.length===4?ot.emptyPath():c_(e)}function Jy(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function c_(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function nI(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(at(E===void 0||typeof E=="string"),jt.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array),jt.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const E=y.code===void 0?ee.UNKNOWN:r_(y.code);return new pe(E,y.message||"")}(h);t=new s_(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ff(n,i.document.name),l=Vo(i.document.updateTime),h=i.document.createTime?Vo(i.document.createTime):Te.min(),d=new pr({mapValue:{fields:i.document.fields}}),m=Qt.newFoundDocument(o,l,h,d),y=i.targetIds||[],E=i.removedTargetIds||[];t=new yc(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ff(n,i.document),l=i.readTime?Vo(i.readTime):Te.min(),h=Qt.newNoDocument(o,l),d=i.removedTargetIds||[];t=new yc([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ff(n,i.document),l=i.removedTargetIds||[];t=new yc([],l,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new GS(o,l),d=i.targetId;t=new i_(d,h)}}return t}function rI(n,e){return{documents:[u_(n,e.path)]}}function iI(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=u_(n,o);const l=function(y){if(y.length!==0)return d_(Zn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(E=>function(k){return{field:No(k.field),direction:aI(k.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Uf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function sI(n){let e=tI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){at(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(S){const k=h_(S);return k instanceof Zn&&jv(k)?k.getFilters():[k]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(k=>function(M){return new Oc(Do(M.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(k))}(t.orderBy));let d=null;t.limit&&(d=function(S){let k;return k=typeof S=="object"?S.value:S,th(k)?null:k}(t.limit));let m=null;t.startAt&&(m=function(S){const k=!!S.before,V=S.values||[];return new Dc(V,k)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const k=!S.before,V=S.values||[];return new Dc(V,k)}(t.endAt)),PS(e,o,h,l,d,"F",m,y)}function oI(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function h_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Do(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Do(t.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(Do(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zn.create(t.compositeFilter.filters.map(i=>h_(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function aI(n){return XS[n]}function lI(n){return JS[n]}function uI(n){return ZS[n]}function No(n){return{fieldPath:n.canonicalString()}}function Do(n){return Yt.fromServerFormat(n.fieldPath)}function d_(n){return n instanceof Tt?function(t){if(t.op==="=="){if(Uy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NAN"}};if(Fy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NAN"}};if(Fy(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(t.field),op:lI(t.op),value:t.value}}}(n):n instanceof Zn?function(t){const i=t.getFilters().map(o=>d_(o));return i.length===1?i[0]:{compositeFilter:{op:uI(t.op),filters:i}}}(n):Se()}function f_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t,i,o,l=Te.min(),h=Te.min(),d=jt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.ht=e}}function hI(n){const e=sI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.ln=new fI}addToCollectionParentIndex(e,t){return this.ln.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Fi.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class fI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Rt(ot.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Go(0)}static Qn(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0([n,e],[t,i]){const o=De(n,t);return o===0?De(e,i):o}class pI{constructor(e){this.Gn=e,this.buffer=new Rt(e0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();e0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){na(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Zc(t)}await this.Yn(3e5)})}}class gI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(eh.oe);const i=new pI(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Zy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,d,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(i=S,d=Date.now(),this.removeTargets(e,i,t))).next(S=>(l=S,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),bo()<=Re.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${S} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:S})))}}function yI(n,e){return new gI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.changes=new bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ml(i.mutation,o,Di.empty(),dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Me()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Me()){const o=ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=ll();return l.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Me()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,i,o){let l=zi();const h=pl(),d=function(){return pl()}();return t.forEach((m,y)=>{const E=i.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof oh)?l=l.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),ml(E.mutation,y,E.mutation.getFieldMask(),dt.now())):h.set(y.key,Di.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var S;return d.set(y,new _I(E,(S=h.get(y))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const i=pl();let o=new gt((h,d)=>h-d),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let E=i.get(m)||Di.empty();E=d.applyToLocalView(y,E),i.set(m,E);const S=(o.get(d.batchId)||Me()).add(m);o=o.insert(d.batchId,S)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),y=m.key,E=m.value,S=Yv();E.forEach(k=>{if(!l.has(k)){const V=t_(t.get(k),i.get(k));V!==null&&S.set(k,V),l=l.add(k)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return G.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(ws());let d=-1,m=l;return h.next(y=>G.forEach(y,(E,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),l.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next(k=>{m=m.insert(E,k)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,m,y,Me())).next(E=>({batchId:d,changes:OS(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let o=ll();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=ll();return this.indexManager.getCollectionParents(e,l).next(d=>G.forEach(d,m=>{const y=function(S,k){return new bl(k,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(E=>{E.forEach((S,k)=>{h=h.insert(S,k)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((m,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Qt.newInvalidDocument(E)))});let d=ll();return h.forEach((m,y)=>{const E=l.get(m);E!==void 0&&ml(E.mutation,y,Di.empty(),dt.now()),ih(t,y)&&(d=d.insert(m,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return G.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Vo(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:hI(o.bundledQuery),readTime:Vo(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.overlays=new gt(_e.comparator),this.Er=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ws();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=ws(),l=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new gt((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=l.get(y.largestBatchId);E===null&&(E=ws(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=ws(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return G.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new HS(t,i));let l=this.Er.get(t);l===void 0&&(l=Me(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.dr=new Rt(Ot.Ar),this.Rr=new Rt(Ot.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ot(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ot(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new _e(new ot([])),i=new Ot(t,e),o=new Ot(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new ot([])),i=new Ot(t,e),o=new Ot(t,e+1);let l=Me();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ot(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ot{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||De(e.br,t.br)}static Vr(e,t){return De(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Rt(Ot.Ar)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qS(l,t,i,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new Ot(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,t){return G.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const d=this.Cr(h.br);l.push(d)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Rt(De);return t.forEach(o=>{const l=new Ot(o,0),h=new Ot(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],d=>{i=i.add(d.br)})}),G.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const h=new Ot(new _e(l),0);let d=new Rt(De);return this.vr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(m.br)),!0)},h),G.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return G.forEach(t.mutations,o=>{const l=new Ot(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ot(t,0),o=this.vr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.Nr=e,this.docs=function(){return new gt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=zi();const h=t.path,d=new _e(h.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||lS(aS(E),i)<=0||(o.has(E.key)||ih(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Se()}Lr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new AI(this)}getSize(e){return G.resolve(this.size)}}class AI extends vI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.persistence=e,this.Br=new bs(t=>dp(t),fp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new vp,this.targetCount=0,this.Qr=Go.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),G.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Un(t),G.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new eh(0),this.Ur=!1,this.Ur=!0,this.Wr=new SI,this.referenceDelegate=e(this),this.Gr=new CI(this),this.indexManager=new dI,this.remoteDocumentCache=function(o){return new kI(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new cI(t),this.jr=new EI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new II(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const o=new RI(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return G.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class RI extends cS{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Zr=new vp,this.Xr=null}static ei(e){return new _p(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),G.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ti,i=>{const o=_e.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Te.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return G.or([()=>G.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Lc{constructor(e,t){this.persistence=e,this.ri=new bs(i=>fS(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=yI(this,t)}static ei(e,t){return new Lc(e,t)}Hr(){}Jr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return G.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(i++,l.removeEntry(h,Te.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),G.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mc(e.data.value)),t}ir(e,t,i){return G.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new wp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return DE()?8:hS(Xt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new PI;return this.ts(e,t,h).next(d=>{if(l.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(bo()<=Re.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),G.resolve()):(bo()<=Re.DEBUG&&ue("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(bo()<=Re.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):G.resolve())}Xi(e,t){if($y(t))return G.resolve(null);let i=gr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Mf(t,null,"F"),i=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=Me(...l);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.rs(t,d);return this.ss(t,y,h,m.readTime)?this.Xi(e,Mf(t,null,"F")):this.os(e,y,t,m)}))})))}es(e,t,i,o){return $y(t)||o.isEqual(Te.min())?G.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?G.resolve(null):(bo()<=Re.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.os(e,h,t,oS(o,-1)).next(d=>d))})}rs(e,t){let i=new Rt(Kv(e));return t.forEach((o,l)=>{ih(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return bo()<=Re.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",xo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Fi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new gt(De),this.cs=new bs(l=>dp(l),fp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function NI(n,e,t,i){return new xI(n,e,t,i)}async function m_(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],d=[];let m=Me();for(const y of o){h.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of l){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(i,m).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function g_(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function DI(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((E,S)=>{const k=o.get(S);if(!k)return;d.push(t.Gr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,E.addedDocuments,S)));let V=k.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,i)),o=o.insert(S,V),function(O,F,W){return O.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(k,V,E)&&d.push(t.Gr.updateTargetData(l,V))});let m=zi(),y=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(OI(l,h,e.documentUpdates).next(E=>{m=E.Is,y=E.Es})),!i.isEqual(Te.min())){const E=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(E)}return G.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,y)).next(()=>m)}).then(l=>(t.us=o,l))}function OI(n,e,t){let i=Me(),o=Me();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=zi();return t.forEach((d,m)=>{const y=l.get(d);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Te.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)}),{Is:h,Es:o}})}function VI(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new Oi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function zf(n,e,t){const i=Oe(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!na(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function t0(n,e,t){const i=Oe(n);let o=Te.min(),l=Me();return i.persistence.runTransaction("Execute query","readwrite",h=>function(m,y,E){const S=Oe(m),k=S.cs.get(E);return k!==void 0?G.resolve(S.us.get(k)):S.Gr.getTargetData(y,E)}(i,h,gr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{l=m})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?l:Me())).next(d=>(MI(i,xS(e),d),{documents:d,ds:l})))}function MI(n,e,t){let i=n.ls.get(e)||Te.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class n0{constructor(){this.activeTargetIds=LS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this._o=new n0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new n0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function pf(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class jI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const d=pf(),m=this.No(t,i.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${d}:`,m,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,m,y,o).then(E=>(ue("RestConnection",`Received RPC '${t}' ${d}: `,E),E),E=>{throw $o("RestConnection",`RPC '${t}' ${d} failed with error: `,E,"url: ",m,"request:",o),E})}ko(t,i,o,l,h,d){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ta}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=UI[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=pf();return new Promise((h,d)=>{const m=new xv;m.setWithCredentials(!0),m.listenOnce(Nv.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case pc.NO_ERROR:const E=m.getResponseJson();ue(Ht,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case pc.TIMEOUT:ue(Ht,`RPC '${e}' ${l} timed out`),d(new pe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const S=m.getStatus();if(ue(Ht,`RPC '${e}' ${l} failed with status:`,S,"response text:",m.getResponseText()),S>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const V=k==null?void 0:k.error;if(V&&V.status&&V.message){const M=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN}(V.status);d(new pe(M,V.message))}else d(new pe(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pe(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ue(Ht,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ue(Ht,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",y,i,15)})}qo(e,t,i){const o=pf(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Vv(),d=Ov(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Lo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const E=l.join("");ue(Ht,`Creating RPC '${e}' stream ${o}: ${E}`,m);const S=h.createWebChannel(E,m);let k=!1,V=!1;const M=new BI({Eo:F=>{V?ue(Ht,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(k||(ue(Ht,`Opening RPC '${e}' stream ${o} transport.`),S.open(),k=!0),ue(Ht,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Ao:()=>S.close()}),O=(F,W,te)=>{F.listen(W,X=>{try{te(X)}catch(K){setTimeout(()=>{throw K},0)}})};return O(S,al.EventType.OPEN,()=>{V||(ue(Ht,`RPC '${e}' stream ${o} transport opened.`),M.So())}),O(S,al.EventType.CLOSE,()=>{V||(V=!0,ue(Ht,`RPC '${e}' stream ${o} transport closed`),M.Do())}),O(S,al.EventType.ERROR,F=>{V||(V=!0,$o(Ht,`RPC '${e}' stream ${o} transport errored:`,F),M.Do(new pe(ee.UNAVAILABLE,"The operation could not be completed")))}),O(S,al.EventType.MESSAGE,F=>{var W;if(!V){const te=F.data[0];at(!!te);const X=te,K=(X==null?void 0:X.error)||((W=X[0])===null||W===void 0?void 0:W.error);if(K){ue(Ht,`RPC '${e}' stream ${o} received error:`,K);const se=K.status;let re=function(b){const _=wt[b];if(_!==void 0)return r_(_)}(se),P=K.message;re===void 0&&(re=ee.INTERNAL,P="Unknown error status: "+se+" with message "+K.message),V=!0,M.Do(new pe(re,P)),S.close()}else ue(Ht,`RPC '${e}' stream ${o} received:`,te),M.vo(te)}}),O(d,Dv.STAT_EVENT,F=>{F.stat===bf.PROXY?ue(Ht,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===bf.NOPROXY&&ue(Ht,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.bo()},0),M}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n){return new eI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t,i,o,l,h,d,m){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new y_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new pe(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $I extends zI{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=nI(this.serializer,e),i=function(l){if(!("targetChange"in l))return Te.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Vo(h.readTime):Te.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Jy(this.serializer),t.addTarget=function(l,h){let d;const m=h.target;if(d=Of(m)?{documents:rI(l,m)}:{query:iI(l,m).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=o_(l,h.resumeToken);const y=Uf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=Bf(l,h.snapshotVersion.toTimestamp());const y=Uf(l,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=oI(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Jy(this.serializer),t.removeTarget=e,this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,jf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ee.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,jf(t,i),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(ee.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class qI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Kr(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{Dl(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(m){const y=Oe(m);y.k_.add(4),await Nl(y),y.K_.set("Unknown"),y.k_.delete(4),await uh(y)}(this))})}),this.K_=new qI(i,o)}}async function uh(n){if(Dl(n))for(const e of n.q_)await e(!0)}async function Nl(n){for(const e of n.q_)await e(!1)}function v_(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Ip(t)?Sp(t):ia(t).s_()&&Tp(t,e))}function Ep(n,e){const t=Oe(n),i=ia(t);t.B_.delete(e),i.s_()&&__(t,e),t.B_.size===0&&(i.s_()?i.a_():Dl(t)&&t.K_.set("Unknown"))}function Tp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).V_(e)}function __(n,e){n.U_.xe(e),ia(n).m_(e)}function Sp(n){n.U_=new YS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.K_.F_()}function Ip(n){return Dl(n)&&!ia(n).i_()&&n.B_.size>0}function Dl(n){return Oe(n).k_.size===0}function w_(n){n.U_=void 0}async function GI(n){n.K_.set("Online")}async function KI(n){n.B_.forEach((e,t)=>{Tp(n,e)})}async function QI(n,e){w_(n),Ip(n)?(n.K_.O_(e),Sp(n)):n.K_.set("Unknown")}async function YI(n,e,t){if(n.K_.set("Online"),e instanceof s_&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await i0(n,i)}else if(e instanceof yc?n.U_.$e(e):e instanceof i_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Te.min()))try{const i=await g_(n.localStore);t.compareTo(i)>=0&&await function(l,h){const d=l.U_.it(h);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=l.B_.get(y);E&&l.B_.set(y,E.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,y)=>{const E=l.B_.get(m);if(!E)return;l.B_.set(m,E.withResumeToken(jt.EMPTY_BYTE_STRING,E.snapshotVersion)),__(l,m);const S=new Oi(E.target,m,y,E.sequenceNumber);Tp(l,S)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ue("RemoteStore","Failed to raise snapshot:",i),await i0(n,i)}}async function i0(n,e,t){if(!na(e))throw e;n.k_.add(1),await Nl(n),n.K_.set("Offline"),t||(t=()=>g_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await uh(n)})}async function s0(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const i=Dl(t);t.k_.add(3),await Nl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await uh(t)}async function XI(n,e){const t=Oe(n);e?(t.k_.delete(2),await uh(t)):e||(t.k_.add(2),await Nl(t),t.K_.set("Unknown"))}function ia(n){return n.W_||(n.W_=function(t,i,o){const l=Oe(t);return l.b_(),new $I(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:GI.bind(null,n),mo:KI.bind(null,n),po:QI.bind(null,n),R_:YI.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Ip(n)?Sp(n):n.K_.set("Unknown")):(await n.W_.stop(),w_(n))})),n.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,d=new kp(e,t,h,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),na(n))return new pe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=ll(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.z_=new gt(_e.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ko{constructor(e,t,i,o,l,h,d,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Ko(e,t,Mo.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class ZI{constructor(){this.queries=a0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Oe(t),l=o.queries;o.queries=a0(),l.forEach((h,d)=>{for(const m of d.J_)m.onError(i)})})(this,new pe(ee.ABORTED,"Firestore shutting down"))}}function a0(){return new bs(n=>Gv(n),rh)}async function ek(n,e){const t=Oe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new JI,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=E_(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Ap(t)}async function tk(n,e){const t=Oe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function nk(n,e){const t=Oe(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.J_)d.ta(o)&&(i=!0);h.H_=o}}i&&Ap(t)}function rk(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function Ap(n){n.X_.forEach(e=>{e.next()})}var $f,l0;(l0=$f||($f={})).na="default",l0.Cache="cache";class ik{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.key=e}}class S_{constructor(e){this.key=e}}class sk{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Me(),this.mutatedKeys=Me(),this.Va=Kv(e),this.ma=new Mo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new o0,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const k=o.get(E),V=ih(this.query,S)?S:null,M=!!k&&this.mutatedKeys.has(k.key),O=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;k&&V?k.data.isEqual(V.data)?M!==O&&(i.track({type:3,doc:V}),F=!0):this.ya(k,V)||(i.track({type:2,doc:V}),F=!0,(m&&this.Va(V,m)>0||y&&this.Va(V,y)<0)&&(d=!0)):!k&&V?(i.track({type:0,doc:V}),F=!0):k&&!V&&(i.track({type:1,doc:k}),F=!0,(m||y)&&(d=!0)),F&&(V?(h=h.add(V),l=O?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{ma:h,pa:i,ss:d,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,S)=>function(V,M){const O=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return O(V)-O(M)}(E.type,S.type)||this.Va(E.doc,S.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],m=this.Ra.size===0&&this.current&&!o?1:0,y=m!==this.Aa;return this.Aa=m,h.length!==0||y?{snapshot:new Ko(this.query,e.ma,l,h,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new o0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Me(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new S_(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new T_(i))}),t}va(e){this.da=e.ds,this.Ra=Me();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ko.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ok{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ak{constructor(e){this.key=e,this.Fa=!1}}class lk{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new bs(d=>Gv(d),rh),this.Oa=new Map,this.Na=new Set,this.La=new gt(_e.comparator),this.Ba=new Map,this.ka=new vp,this.qa={},this.Qa=new Map,this.Ka=Go.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function uk(n,e,t=!0){const i=R_(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await I_(i,e,t,!0),o}async function ck(n,e){const t=R_(n);await I_(t,e,!0,!1)}async function I_(n,e,t,i){const o=await VI(n.localStore,gr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await hk(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&v_(n.remoteStore,o),d}async function hk(n,e,t,i,o){n.Ua=(S,k,V)=>async function(O,F,W,te){let X=F.view.ga(W);X.ss&&(X=await t0(O.localStore,F.query,!1).then(({documents:P})=>F.view.ga(P,X)));const K=te&&te.targetChanges.get(F.targetId),se=te&&te.targetMismatches.get(F.targetId)!=null,re=F.view.applyChanges(X,O.isPrimaryClient,K,se);return c0(O,F.targetId,re.ba),re.snapshot}(n,S,k,V);const l=await t0(n.localStore,e,!0),h=new sk(e,l.ds),d=h.ga(l.documents),m=xl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(d,n.isPrimaryClient,m);c0(n,t,y.ba);const E=new ok(e,t,h);return n.xa.set(e,E),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function dk(n,e,t){const i=Oe(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!rh(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Ep(i.remoteStore,o.targetId),Wf(i,o.targetId)}).catch(Zc)):(Wf(i,o.targetId),await zf(i.localStore,o.targetId,!0))}async function fk(n,e){const t=Oe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ep(t.remoteStore,i.targetId))}async function k_(n,e){const t=Oe(n);try{const i=await DI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?at(h.Fa):o.removedDocuments.size>0&&(at(h.Fa),h.Fa=!1))}),await C_(t,i,e)}catch(i){await Zc(i)}}function u0(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Oe(h);m.onlineState=d;let y=!1;m.queries.forEach((E,S)=>{for(const k of S.J_)k.ea(d)&&(y=!0)}),y&&Ap(m)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pk(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new gt(_e.comparator);h=h.insert(l,Qt.newNoDocument(l,Te.min()));const d=Me().add(l),m=new ah(Te.min(),new Map,new gt(De),h,d);await k_(i,m),i.La=i.La.remove(l),i.Ba.delete(e),Cp(i)}else await zf(i.localStore,e,!1).then(()=>Wf(i,e,t)).catch(Zc)}function Wf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||A_(n,i)})}function A_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Ep(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Cp(n))}function c0(n,e,t){for(const i of t)i instanceof T_?(n.ka.addReference(i.key,e),mk(n,i)):i instanceof S_?(ue("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||A_(n,i.key)):Se()}function mk(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ue("SyncEngine","New document in limbo: "+t),n.Na.add(i),Cp(n))}function Cp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e(ot.fromString(e)),i=n.Ka.next();n.Ba.set(i,new ak(t)),n.La=n.La.insert(t,i),v_(n.remoteStore,new Oi(gr(qv(t.path)),i,"TargetPurposeLimboResolution",eh.oe))}}async function C_(n,e,t){const i=Oe(n),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((d,m)=>{h.push(i.Ua(m,e,t).then(y=>{var E;if((y||t)&&i.isPrimaryClient){const S=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(y){o.push(y);const S=wp.zi(m.targetId,y);l.push(S)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(m,y){const E=Oe(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>G.forEach(y,k=>G.forEach(k.Wi,V=>E.persistence.referenceDelegate.addReference(S,k.targetId,V)).next(()=>G.forEach(k.Gi,V=>E.persistence.referenceDelegate.removeReference(S,k.targetId,V)))))}catch(S){if(!na(S))throw S;ue("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const k=S.targetId;if(!S.fromCache){const V=E.us.get(k),M=V.snapshotVersion,O=V.withLastLimboFreeSnapshotVersion(M);E.us=E.us.insert(k,O)}}}(i.localStore,l))}async function gk(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const i=await m_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(d=>{d.forEach(m=>{m.reject(new pe(ee.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await C_(t,i.Ts)}}function yk(n,e){const t=Oe(n),i=t.Ba.get(e);if(i&&i.Fa)return Me().add(i.key);{let o=Me();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function R_(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pk.bind(null,e),e.Ma.R_=nk.bind(null,e.eventManager),e.Ma.Wa=rk.bind(null,e.eventManager),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return NI(this.persistence,new bI,e.initialUser,this.serializer)}ja(e){return new p_(_p.ei,this.serializer)}za(e){return new LI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class vk extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){at(this.persistence.referenceDelegate instanceof Lc);const i=this.persistence.referenceDelegate.garbageCollector;return new mI(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new p_(i=>Lc.ei(i,t),this.serializer)}}class qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>u0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),await XI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZI}()}createDatastore(e){const t=lh(e.databaseInfo.databaseId),i=function(l){return new jI(l)}(e.databaseInfo);return function(l,h,d,m){return new WI(l,h,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,d){return new HI(i,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>u0(this.syncEngine,t,0),function(){return r0.p()?new r0:new FI}())}createSyncEngine(e,t){return function(o,l,h,d,m,y,E){const S=new lk(o,l,h,d,m,y);return E&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Oe(o);ue("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Nl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qf.provider={build:()=>new qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=iS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=E_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await m_(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function h0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ek(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>s0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>s0(e.remoteStore,o)),n._onlineComponents=e}async function Ek(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new Fc)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await gf(n,new vk(void 0));return n._offlineComponents}async function Tk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await h0(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await h0(n,new qf))),n._onlineComponents}async function Sk(n){const e=await Tk(n),t=e.eventManager;return t.onListen=uk.bind(null,e.syncEngine),t.onUnlisten=dk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ck.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fk.bind(null,e.syncEngine),t}function Ik(n,e,t={}){const i=new Ts;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,d,m,y){const E=new _k({next:k=>{E.eu(),h.enqueueAndForget(()=>tk(l,S)),k.fromCache&&m.source==="server"?y.reject(new pe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),S=new ik(d,E,{includeMetadataChanges:!0,ua:!0});return ek(l,S)}(await Sk(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n,e,t){if(!t)throw new pe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ak(n,e,t,i){if(e===!0&&i===!0)throw new pe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f0(n){if(_e.isDocumentKey(n))throw new pe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ch(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function Hf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(n);throw new pe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ak("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YT;switch(i.type){case"firstParty":return new eS(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=d0.get(t);i&&(ue("ComponentProvider","Removing Datastore"),d0.delete(t),i.terminate())}(this),Promise.resolve()}}function Ck(n,e,t,i={}){var o;const l=(n=Hf(n,Rp))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=Kt.MOCK_USER;else{d=Iv(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new pe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kt(y)}n._authCredentials=new XT(new Mv(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Zr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class Lo extends sa{constructor(e,t,i){super(e,t,qv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new _e(e))}withConverter(e){return new Lo(this.firestore,e,this._path)}}function vc(n,e,...t){if(n=Jn(n),kk("collection","path",e),n instanceof Rp){const i=ot.fromString(e,...t);return f0(i),new Lo(n,null,i)}{if(!(n instanceof Zr||n instanceof Lo))throw new pe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return f0(i),new Lo(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new y_(this,"async_queue_retry"),this.fu=()=>{const i=mf();i&&ue("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ts;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!na(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(i);throw Kr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=kp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class b_ extends Rp{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new m0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function Rk(n,e){const t=lp(),i="(default)",o=Jc(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=Ev("firestore");l&&Ck(o,...l)}return o}function Pk(n){if(n._terminated)throw new pe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bk(n),n._firestoreClient}function bk(n){var e,t,i;const o=n._freezeSettings(),l=function(d,m,y,E){return new gS(d,m,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,P_(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new wk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(jt.fromBase64String(e))}catch(t){throw new pe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qo(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=/^__.*__$/;function D_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class xp{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Gf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(D_(this.Mu)&&xk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Nk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||lh(e)}$u(e,t,i,o=!1){return new xp({Mu:e,methodName:t,Ku:i,path:Yt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dk(n){const e=n._freezeSettings(),t=lh(n._databaseId);return new Nk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ok(n,e,t,i=!1){return Np(t,n.$u(i?4:3,e))}function Np(n,e){if(O_(n=Jn(n)))return Mk("Unsupported field value:",e,n),Vk(n,e);if(n instanceof N_)return function(i,o){if(!D_(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const d of i){let m=Np(d,o.ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=Jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FS(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:Bf(o.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bf(o.serializer,l)}}if(i instanceof Pp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qo)return{bytesValue:o_(o.serializer,i._byteString)};if(i instanceof Zr){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:a_(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof bp)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(m=>{if(typeof m!="number")throw d.qu("VectorValues must only contain numeric values.");return pp(d.serializer,m)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${ch(i)}`)}(n,e)}function Vk(n,e){const t={};return Lv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(n,(i,o)=>{const l=Np(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function O_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof Pp||n instanceof Qo||n instanceof Zr||n instanceof N_||n instanceof bp)}function Mk(n,e,t){if(!O_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=ch(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}const Lk=new RegExp("[~\\*/\\[\\]]");function Fk(n,e,t){if(e.search(Lk)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new x_(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gf(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${i}`),h&&(m+=` in document ${o}`),m+=")"),new pe(ee.INVALID_ARGUMENT,d+n+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Uk extends V_{data(){return super.data()}}function Dp(n,e){return typeof e=="string"?Fk(n,e):e instanceof x_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Op{}class jk extends Op{}function g0(n,e,...t){let i=[];e instanceof Op&&i.push(e),i=i.concat(t),function(l){const h=l.filter(m=>m instanceof Vp).length,d=l.filter(m=>m instanceof hh).length;if(h>1||h>0&&d>0)throw new pe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class hh extends jk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new hh(e,t,i)}_apply(e){const t=this._parse(e);return M_(e._query,t),new sa(e.firestore,e.converter,Vf(e._query,t))}_parse(e){const t=Dk(e.firestore);return function(l,h,d,m,y,E,S){let k;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_0(S,E);const V=[];for(const M of S)V.push(v0(m,l,M));k={arrayValue:{values:V}}}else k=v0(m,l,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_0(S,E),k=Ok(d,h,S,E==="in"||E==="not-in");return Tt.create(y,E,k)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function y0(n,e,t){const i=e,o=Dp("where",n);return hh._create(o,i,t)}class Vp extends Op{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const m of d)M_(h,m),h=Vf(h,m)}(e._query,t),new sa(e.firestore,e.converter,Vf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function v0(n,e,t){if(typeof(t=Jn(t))=="string"){if(t==="")throw new pe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hv(e)&&t.indexOf("/")!==-1)throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!_e.isDocumentKey(i))throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ly(n,new _e(i))}if(t instanceof Zr)return Ly(n,t._key);throw new pe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function _0(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M_(n,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zk{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ra(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>mt(h.doubleValue));return new bp(l)}convertGeoPoint(e){return new Pp(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const t=Ui(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);at(f_(i));const o=new El(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return o.isEqual(t)||Kr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $k extends V_{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Dp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _c extends $k{data(e={}){return super.data(e)}}class Wk{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ac(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _c(this._firestore,this._userDataWriter,i.key,i,new ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new _c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ac(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new _c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ac(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:qk(d.type),doc:m,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class Hk extends zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}function L_(n){n=Hf(n,sa);const e=Hf(n.firestore,b_),t=Pk(e),i=new Hk(e);return Bk(n._query),Ik(t,n._query).then(o=>new Wk(e,i,n,o))}(function(e,t=!0){(function(o){ta=o})(Ps),ks(new Li("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),d=new b_(new JT(i.getProvider("auth-internal")),new nS(i.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(y.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),mr(xy,"4.7.5",e),mr(xy,"4.7.5","esm2017")})();const F_=6048e5,Gk=864e5,w0=Symbol.for("constructDateFrom");function Qr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&w0 in n?n[w0](e):n instanceof Date?new n.constructor(e):new Date(e)}function On(n,e){return Qr(e||n,n)}function Kf(n,e,t){const i=On(n,t==null?void 0:t.in);return isNaN(e)?Qr(n,NaN):(e&&i.setDate(i.getDate()+e),i)}let Kk={};function dh(){return Kk}function Yo(n,e){var d,m,y,E;const t=dh(),i=(e==null?void 0:e.weekStartsOn)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??t.weekStartsOn??((E=(y=t.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,o=On(n,e==null?void 0:e.in),l=o.getDay(),h=(l<i?7:0)+l-i;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Uc(n,e){return Yo(n,{...e,weekStartsOn:1})}function U_(n,e){const t=On(n,e==null?void 0:e.in),i=t.getFullYear(),o=Qr(t,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const l=Uc(o),h=Qr(t,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const d=Uc(h);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function E0(n){const e=On(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Qk(n,...e){const t=Qr.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function T0(n,e){const t=On(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Yk(n,e,t){const[i,o]=Qk(t==null?void 0:t.in,n,e),l=T0(i),h=T0(o),d=+l-E0(l),m=+h-E0(h);return Math.round((d-m)/Gk)}function Xk(n,e){const t=U_(n,e),i=Qr(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Uc(i)}function Jk(n,e,t){return Kf(n,e*7,t)}function Zk(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function eA(n){return!(!Zk(n)&&typeof n!="number"||isNaN(+On(n)))}function tA(n,e){const t=On(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const nA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rA=(n,e,t)=>{let i;const o=nA[n];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function yf(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const iA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aA={date:yf({formats:iA,defaultWidth:"full"}),time:yf({formats:sA,defaultWidth:"full"}),dateTime:yf({formats:oA,defaultWidth:"full"})},lA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uA=(n,e,t,i)=>lA[n];function rl(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const h=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):h;o=n.formattingValues[d]||n.formattingValues[h]}else{const h=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[d]||n.values[h]}const l=n.argumentCallback?n.argumentCallback(e):e;return o[l]}}const cA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gA=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},yA={ordinalNumber:gA,era:rl({values:cA,defaultWidth:"wide"}),quarter:rl({values:hA,defaultWidth:"wide",argumentCallback:n=>n-1}),month:rl({values:dA,defaultWidth:"wide"}),day:rl({values:fA,defaultWidth:"wide"}),dayPeriod:rl({values:pA,defaultWidth:"wide",formattingValues:mA,defaultFormattingWidth:"wide"})};function il(n){return(e,t={})=>{const i=t.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(o);if(!l)return null;const h=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(d)?_A(d,S=>S.test(h)):vA(d,S=>S.test(h));let y;y=n.valueCallback?n.valueCallback(m):m,y=t.valueCallback?t.valueCallback(y):y;const E=e.slice(h.length);return{value:y,rest:E}}}function vA(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function _A(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function wA(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const o=i[0],l=e.match(n.parsePattern);if(!l)return null;let h=n.valueCallback?n.valueCallback(l[0]):l[0];h=t.valueCallback?t.valueCallback(h):h;const d=e.slice(o.length);return{value:h,rest:d}}}const EA=/^(\d+)(th|st|nd|rd)?/i,TA=/\d+/i,SA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IA={any:[/^b/i,/^(a|c)/i]},kA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AA={any:[/1/i,/2/i,/3/i,/4/i]},CA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DA={ordinalNumber:wA({matchPattern:EA,parsePattern:TA,valueCallback:n=>parseInt(n,10)}),era:il({matchPatterns:SA,defaultMatchWidth:"wide",parsePatterns:IA,defaultParseWidth:"any"}),quarter:il({matchPatterns:kA,defaultMatchWidth:"wide",parsePatterns:AA,defaultParseWidth:"any",valueCallback:n=>n+1}),month:il({matchPatterns:CA,defaultMatchWidth:"wide",parsePatterns:RA,defaultParseWidth:"any"}),day:il({matchPatterns:PA,defaultMatchWidth:"wide",parsePatterns:bA,defaultParseWidth:"any"}),dayPeriod:il({matchPatterns:xA,defaultMatchWidth:"any",parsePatterns:NA,defaultParseWidth:"any"})},OA={code:"en-US",formatDistance:rA,formatLong:aA,formatRelative:uA,localize:yA,match:DA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VA(n,e){const t=On(n,e==null?void 0:e.in);return Yk(t,tA(t))+1}function MA(n,e){const t=On(n,e==null?void 0:e.in),i=+Uc(t)-+Xk(t);return Math.round(i/F_)+1}function B_(n,e){var E,S,k,V;const t=On(n,e==null?void 0:e.in),i=t.getFullYear(),o=dh(),l=(e==null?void 0:e.firstWeekContainsDate)??((S=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:S.firstWeekContainsDate)??o.firstWeekContainsDate??((V=(k=o.locale)==null?void 0:k.options)==null?void 0:V.firstWeekContainsDate)??1,h=Qr((e==null?void 0:e.in)||n,0);h.setFullYear(i+1,0,l),h.setHours(0,0,0,0);const d=Yo(h,e),m=Qr((e==null?void 0:e.in)||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const y=Yo(m,e);return+t>=+d?i+1:+t>=+y?i:i-1}function LA(n,e){var d,m,y,E;const t=dh(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??t.firstWeekContainsDate??((E=(y=t.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,o=B_(n,e),l=Qr((e==null?void 0:e.in)||n,0);return l.setFullYear(o,0,i),l.setHours(0,0,0,0),Yo(l,e)}function FA(n,e){const t=On(n,e==null?void 0:e.in),i=+Yo(t,e)-+LA(t,e);return Math.round(i/F_)+1}function qe(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const ki={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return qe(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):qe(t+1,2)},d(n,e){return qe(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return qe(n.getHours()%12||12,e.length)},H(n,e){return qe(n.getHours(),e.length)},m(n,e){return qe(n.getMinutes(),e.length)},s(n,e){return qe(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,t-3));return qe(o,e.length)}},Io={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S0={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return t.ordinalNumber(o,{unit:"year"})}return ki.y(n,e)},Y:function(n,e,t,i){const o=B_(n,i),l=o>0?o:1-o;if(e==="YY"){const h=l%100;return qe(h,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):qe(l,e.length)},R:function(n,e){const t=U_(n);return qe(t,e.length)},u:function(n,e){const t=n.getFullYear();return qe(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return qe(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return qe(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return ki.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return qe(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const o=FA(n,i);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):qe(o,e.length)},I:function(n,e,t){const i=MA(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):qe(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ki.d(n,e)},D:function(n,e,t){const i=VA(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):qe(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const o=n.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return qe(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const o=n.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return qe(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return qe(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let o;switch(i===12?o=Io.noon:i===0?o=Io.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let o;switch(i>=17?o=Io.evening:i>=12?o=Io.afternoon:i>=4?o=Io.morning:o=Io.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return ki.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ki.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):qe(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):qe(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ki.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ki.s(n,e)},S:function(n,e){return ki.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return k0(i);case"XXXX":case"XX":return _s(i);case"XXXXX":case"XXX":default:return _s(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return k0(i);case"xxxx":case"xx":return _s(i);case"xxxxx":case"xxx":default:return _s(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+I0(i,":");case"OOOO":default:return"GMT"+_s(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+I0(i,":");case"zzzz":default:return"GMT"+_s(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return qe(i,e.length)},T:function(n,e,t){return qe(+n,e.length)}};function I0(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),l=i%60;return l===0?t+String(o):t+String(o)+e+qe(l,2)}function k0(n,e){return n%60===0?(n>0?"-":"+")+qe(Math.abs(n)/60,2):_s(n,e)}function _s(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),o=qe(Math.trunc(i/60),2),l=qe(i%60,2);return t+o+e+l}const A0=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},j_=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UA=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],o=t[2];if(!o)return A0(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",A0(i,e)).replace("{{time}}",j_(o,e))},BA={p:j_,P:UA},jA=/^D+$/,zA=/^Y+$/,$A=["D","DD","YY","YYYY"];function WA(n){return jA.test(n)}function qA(n){return zA.test(n)}function HA(n,e,t){const i=GA(n,e,t);if(console.warn(i),$A.includes(n))throw new RangeError(i)}function GA(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YA=/^'([^]*?)'?$/,XA=/''/g,JA=/[a-zA-Z]/;function lc(n,e,t){var E,S,k,V;const i=dh(),o=i.locale??OA,l=i.firstWeekContainsDate??((S=(E=i.locale)==null?void 0:E.options)==null?void 0:S.firstWeekContainsDate)??1,h=i.weekStartsOn??((V=(k=i.locale)==null?void 0:k.options)==null?void 0:V.weekStartsOn)??0,d=On(n,t==null?void 0:t.in);if(!eA(d))throw new RangeError("Invalid time value");let m=e.match(QA).map(M=>{const O=M[0];if(O==="p"||O==="P"){const F=BA[O];return F(M,o.formatLong)}return M}).join("").match(KA).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const O=M[0];if(O==="'")return{isToken:!1,value:ZA(M)};if(S0[O])return{isToken:!0,value:M};if(O.match(JA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:M}});o.localize.preprocessor&&(m=o.localize.preprocessor(d,m));const y={firstWeekContainsDate:l,weekStartsOn:h,locale:o};return m.map(M=>{if(!M.isToken)return M.value;const O=M.value;(qA(O)||WA(O))&&HA(O,e,String(n));const F=S0[O[0]];return F(d,O,o.localize,y)}).join("")}function ZA(n){const e=n.match(YA);return e?e[1].replace(XA,"'"):n}function eC(n,e,t){return Jk(n,-e,t)}var tC="firebase",nC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(tC,nC,"app");function Mp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rC=z_,$_=new Rl("auth","Firebase",z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new op("@firebase/auth");function iC(n,...e){Bc.logLevel<=Re.WARN&&Bc.warn(`Auth (${Ps}): ${n}`,...e)}function wc(n,...e){Bc.logLevel<=Re.ERROR&&Bc.error(`Auth (${Ps}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw Lp(n,...e)}function yr(n,...e){return Lp(n,...e)}function W_(n,e,t){const i=Object.assign(Object.assign({},rC()),{[e]:t});return new Rl("auth","Firebase",i).create(e,{appName:n.name})}function Is(n){return W_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return $_.create(n,...e)}function Ee(n,e,...t){if(!n)throw Lp(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wc(e),new Error(e)}function Xr(n,e){n||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sC(){return C0()==="http:"||C0()==="https:"}function C0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||bE()||"connection"in navigator)?navigator.onLine:!0}function aC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=CE()||xE()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Ol(3e4,6e4);function Up(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function oa(n,e,t,i,o={}){return H_(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const d=Pl(Object.assign({key:n.config.apiKey},h)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:m},l);return PE()||(y.referrerPolicy="no-referrer"),q_.fetch()(G_(n,n.config.apiHost,t,d),y)})}async function H_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},lC),e);try{const o=new hC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw uc(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[m,y]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw uc(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw uc(n,"user-disabled",h);const E=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw W_(n,E,y);Yr(n,E)}}catch(o){if(o instanceof Tr)throw o;Yr(n,"network-request-failed",{message:String(o)})}}async function cC(n,e,t,i,o={}){const l=await oa(n,e,t,i,o);return"mfaPendingCredential"in l&&Yr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function G_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Fp(n.config,o):`${n.config.apiScheme}://${o}`}class hC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yr(this.auth,"network-request-failed")),uC.get())})}}function uc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n,e){return oa(n,"POST","/v1/accounts:delete",e)}async function K_(n,e){return oa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fC(n,e=!1){const t=Jn(n),i=await t.getIdToken(e),o=Bp(i);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:gl(vf(o.auth_time)),issuedAtTime:gl(vf(o.iat)),expirationTime:gl(vf(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function vf(n){return Number(n)*1e3}function Bp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_v(t);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R0(n){const e=Bp(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Tr&&pC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function pC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Sl(n,K_(t,{idToken:i}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Q_(l.providerUserInfo):[],d=yC(n.providerData,h),m=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),E=m?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yf(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function gC(n){const e=Jn(n);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Q_(n){return n.map(e=>{var{providerId:t}=e,i=Mp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(n,e){const t=await H_(n,{},async()=>{const i=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=G_(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",q_.fetch()(h,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _C(n,e){return oa(n,"POST","/v2/accounts:revokeToken",Up(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=R0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await vC(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Fo;return i&&(Ee(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fC(this,e)}reload(){return gC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Sl(this,dC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,d,m,y,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,k=(o=t.email)!==null&&o!==void 0?o:void 0,V=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,W=(y=t.createdAt)!==null&&y!==void 0?y:void 0,te=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:K,isAnonymous:se,providerData:re,stsTokenManager:P}=t;Ee(X&&P,e,"internal-error");const I=Fo.fromJSON(this.name,P);Ee(typeof X=="string",e,"internal-error"),Ai(S,e.name),Ai(k,e.name),Ee(typeof K=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),Ai(V,e.name),Ai(M,e.name),Ai(O,e.name),Ai(F,e.name),Ai(W,e.name),Ai(te,e.name);const b=new qr({uid:X,auth:e,email:k,emailVerified:K,displayName:S,isAnonymous:se,photoURL:M,phoneNumber:V,tenantId:O,stsTokenManager:I,createdAt:W,lastLoginAt:te});return re&&Array.isArray(re)&&(b.providerData=re.map(_=>Object.assign({},_))),F&&(b._redirectEventId=F),b}static async _fromIdTokenResponse(e,t,i=!1){const o=new Fo;o.updateFromServerResponse(t);const l=new qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await jc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Q_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Fo;d.updateFromIdToken(i);const m=new qr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new Map;function Hr(n){Xr(n instanceof Function,"Expected a class definition");let e=P0.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Y_.type="NONE";const b0=Y_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n,e,t){return`firebase:${n}:${e}:${t}`}class Uo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Ec(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ec("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Uo(Hr(b0),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Hr(b0);const h=Ec(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const E=await y._get(h);if(E){const S=qr._fromJSON(e,E);y!==l&&(d=S),l=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Uo(l,e,i):(l=m[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new Uo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ew(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nw(e))return"Blackberry";if(rw(e))return"Webos";if(J_(e))return"Safari";if((e.includes("chrome/")||Z_(e))&&!e.includes("edge/"))return"Chrome";if(tw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function X_(n=Xt()){return/firefox\//i.test(n)}function J_(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z_(n=Xt()){return/crios\//i.test(n)}function ew(n=Xt()){return/iemobile/i.test(n)}function tw(n=Xt()){return/android/i.test(n)}function nw(n=Xt()){return/blackberry/i.test(n)}function rw(n=Xt()){return/webos/i.test(n)}function jp(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wC(n=Xt()){var e;return jp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EC(){return NE()&&document.documentMode===10}function iw(n=Xt()){return jp(n)||tw(n)||rw(n)||nw(n)||/windows phone/i.test(n)||ew(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e=[]){let t;switch(n){case"Browser":t=x0(Xt());break;case"Worker":t=`${x0(Xt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ps}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,d)=>{try{const m=e(l);h(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(n,e={}){return oa(n,"GET","/v2/passwordPolicy",Up(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=6;class kC{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:IC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new TC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await K_(this,{idToken:e}),i=await qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ni(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(Is(this));const t=e?Jn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SC(this),t=new kC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await _C(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zp(n){return Jn(n)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=BE(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CC(n){$p=n}function RC(n){return $p.loadJS(n)}function PC(){return $p.gapiScript}function bC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n,e){const t=Jc(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(bc(l,e??{}))return o;Yr(o,"already-initialized")}return t.initialize({options:e})}function NC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Hr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function DC(n,e,t){const i=zp(n);Ee(i._canInitEmulator,i,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=ow(e),{host:h,port:d}=OC(e),m=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${h}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),VC()}function ow(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function OC(n){const e=ow(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:D0(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:D0(h)}}}function D0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function VC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e){return cC(n,"POST","/v1/accounts:signInWithIdp",Up(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="http://localhost";class Cs extends aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Mp(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Cs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Vl{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Pi.credential(t,i)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Vl{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Vl{constructor(){super("twitter.com")}static credential(e,t){return Cs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xi.credential(t,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await qr._fromIdTokenResponse(e,i,o),h=O0(i);return new Xo({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=O0(i);return new Xo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function O0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Tr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new zc(e,t,i,o)}}function uw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(n,l,e,i):l})}async function LC(n,e,t=!1){const i=await Sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e,t=!1){const{auth:i}=n;if(Ni(i.app))return Promise.reject(Is(i));const o="reauthenticate";try{const l=await Sl(n,uw(i,o,e,n),t);Ee(l.idToken,i,"internal-error");const h=Bp(l.idToken);Ee(h,i,"internal-error");const{sub:d}=h;return Ee(n.uid===d,i,"user-mismatch"),Xo._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Yr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n,e,t=!1){if(Ni(n.app))return Promise.reject(Is(n));const i="signIn",o=await uw(n,i,e),l=await Xo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function BC(n,e,t,i){return Jn(n).onIdTokenChanged(e,t,i)}function jC(n,e,t){return Jn(n).beforeAuthStateChanged(e,t)}const $c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1e3,$C=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);EC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$C):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const WC=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dw.type="SESSION";const fw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new fh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(h).map(async y=>y(t.origin,l)),m=await qC(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,m)=>{const y=Wp("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(S){const k=S;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(k.data.response);break;default:clearTimeout(E),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function GC(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function KC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function YC(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebaseLocalStorageDb",XC=1,Wc="firebaseLocalStorage",gw="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ph(n,e){return n.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function JC(){const n=indexedDB.deleteDatabase(mw);return new Ml(n).toPromise()}function Xf(){const n=indexedDB.open(mw,XC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Wc,{keyPath:gw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Wc)?e(i):(i.close(),await JC(),e(await Xf()))})})}async function V0(n,e,t){const i=ph(n,!0).put({[gw]:e,value:t});return new Ml(i).toPromise()}async function ZC(n,e){const t=ph(n,!1).get(e),i=await new Ml(t).toPromise();return i===void 0?null:i.value}function M0(n,e){const t=ph(n,!0).delete(e);return new Ml(t).toPromise()}const eR=800,tR=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>tR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(YC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KC(),!this.activeServiceWorker)return;this.sender=new HC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await V0(e,$c,"1"),await M0(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>V0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ZC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>M0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ph(o,!1).getAll();return new Ml(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const nR=yw;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e){return e?Hr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends aw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iR(n){return UC(n.auth,new qp(n),n.bypassAuthState)}function sR(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),FC(t,new qp(n),n.bypassAuthState)}async function oR(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),LC(t,new qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iR;case"linkViaPopup":case"linkViaRedirect":return oR;case"reauthViaPopup":case"reauthViaRedirect":return sR;default:Yr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new Ol(2e3,1e4);class Oo extends vw{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aR.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="pendingRedirect",Tc=new Map;class uR extends vw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const i=await cR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cR(n,e){const t=fR(e),i=dR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function hR(n,e){Tc.set(n._key(),e)}function dR(n){return Hr(n._redirectPersistence)}function fR(n){return Ec(lR,n.config.apiKey,n.name)}async function pR(n,e,t=!1){if(Ni(n.app))return Promise.reject(Is(n));const i=zp(n),o=rR(i,e),h=await new uR(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=10*60*1e3;class gR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!_w(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _w({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e={}){return oa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wR=/^https?/;async function ER(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vR(n);for(const t of e)try{if(TR(t))return}catch{}Yr(n,"unauthorized-domain")}function TR(n){const e=Qf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!wR.test(t))return!1;if(_R.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Ol(3e4,6e4);function F0(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function IR(n){return new Promise((e,t)=>{var i,o,l;function h(){F0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F0(),t(yr(n,"network-request-failed"))},timeout:SR.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=vr().gapi)===null||l===void 0)&&l.load)h();else{const d=bC("iframefcb");return vr()[d]=()=>{gapi.load?h():t(yr(n,"network-request-failed"))},RC(`${PC()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function kR(n){return Sc=Sc||IR(n),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Ol(5e3,15e3),CR="__/auth/iframe",RR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fp(e,RR):`https://${n.config.authDomain}/${CR}`,i={apiKey:e.apiKey,appName:n.name,v:Ps},o=bR.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Pl(i).slice(1)}`}async function NR(n){const e=await kR(n),t=vr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:xR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=yr(n,"network-request-failed"),d=vr().setTimeout(()=>{l(h)},AR.get());function m(){vr().clearTimeout(d),o(i)}i.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OR=500,VR=600,MR="_blank",LR="http://localhost";class U0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FR(n,e,t,i=OR,o=VR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},DR),{width:i.toString(),height:o.toString(),top:l,left:h}),y=Xt().toLowerCase();t&&(d=Z_(y)?MR:t),X_(y)&&(e=e||LR,m.scrollbars="yes");const E=Object.entries(m).reduce((k,[V,M])=>`${k}${V}=${M},`,"");if(wC(y)&&d!=="_self")return UR(e||"",d),new U0(null);const S=window.open(e||"",d,E);Ee(S,n,"popup-blocked");try{S.focus()}catch{}return new U0(S)}function UR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="__/auth/handler",jR="emulator/auth/handler",zR=encodeURIComponent("fac");async function B0(n,e,t,i,o,l){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ps,eventId:o};if(e instanceof lw){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",UE(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof Vl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const m=await n._getAppCheckToken(),y=m?`#${zR}=${encodeURIComponent(m)}`:"";return`${$R(n)}?${Pl(d).slice(1)}${y}`}function $R({config:n}){return n.emulator?Fp(n,jR):`https://${n.authDomain}/${BR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=pR,this._overrideRedirectResult=hR}async _openPopup(e,t,i,o){var l;Xr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await B0(e,t,i,Qf(),o);return FR(e,h,Wp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await B0(e,t,i,Qf(),o);return GC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await NR(e),i=new gR(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_f,{type:_f},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[_f];h!==void 0&&t(!!h),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ER(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iw()||J_()||jp()}}const qR=WR;var j0="@firebase/auth",z0="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KR(n){ks(new Li("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=i.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:h,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sw(n)},y=new AC(i,o,l,m);return NC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ks(new Li("auth-internal",e=>{const t=zp(e.getProvider("auth").getImmediate());return(i=>new HR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(j0,z0,GR(n)),mr(j0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=5*60,YR=Sv("authIdTokenMaxAge")||QR;let $0=null;const XR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>YR)return;const o=t==null?void 0:t.token;$0!==o&&($0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JR(n=lp()){const e=Jc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xC(n,{popupRedirectResolver:qR,persistence:[nR,WC,fw]}),i=Sv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=XR(l.toString());jC(t,h,()=>h(t.currentUser)),BC(t,d=>h(d))}}const o=wv("auth");return o&&DC(t,`http://${o}`),t}function ZR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}CC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=yr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",ZR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KR("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebasestorage.googleapis.com",eP="storageBucket",tP=2*60*1e3,nP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Tr{constructor(e,t,i=0){super(wf(e),`Firebase Storage: ${t} (${wf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Er;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Er||(Er={}));function wf(n){return"storage/"+n}function rP(){const n="An unknown error occurred, please check the error payload for server response.";return new Sr(Er.UNKNOWN,n)}function iP(){return new Sr(Er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sP(){return new Sr(Er.CANCELED,"User canceled the upload/download.")}function oP(n){return new Sr(Er.INVALID_URL,"Invalid URL '"+n+"'.")}function aP(n){return new Sr(Er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function W0(n){return new Sr(Er.INVALID_ARGUMENT,n)}function Ew(){return new Sr(Er.APP_DELETED,"The Firebase app was deleted.")}function lP(n){return new Sr(Er.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Xn.makeFromUrl(e,t)}catch{return new Xn(e,"")}if(i.path==="")return i;throw aP(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function y(K){K.path_=decodeURIComponent(K.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",V=new RegExp(`^https?://${S}/${E}/b/${o}/o${k}`,"i"),M={bucket:1,path:3},O=t===ww?"(?:storage.googleapis.com|storage.cloud.google.com)":t,F="([^?#]*)",W=new RegExp(`^https?://${O}/${o}/${F}`,"i"),X=[{regex:d,indices:m,postModify:l},{regex:V,indices:M,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let K=0;K<X.length;K++){const se=X[K],re=se.regex.exec(e);if(re){const P=re[se.indices.bucket];let I=re[se.indices.path];I||(I=""),i=new Xn(P,I),se.postModify(i);break}}if(i==null)throw oP(e);return i}}class uP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n,e,t){let i=1,o=null,l=null,h=!1,d=0;function m(){return d===2}let y=!1;function E(...F){y||(y=!0,e.apply(null,F))}function S(F){o=setTimeout(()=>{o=null,n(V,m())},F)}function k(){l&&clearTimeout(l)}function V(F,...W){if(y){k();return}if(F){k(),E.call(null,F,...W);return}if(m()||h){k(),E.call(null,F,...W);return}i<64&&(i*=2);let X;d===1?(d=2,X=0):X=(i+Math.random())*1e3,S(X)}let M=!1;function O(F){M||(M=!0,k(),!y&&(o!==null?(F||(d=2),clearTimeout(o),S(0)):F||(d=1)))}return S(0),l=setTimeout(()=>{h=!0,O(!0)},t),O}function hP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){return n!==void 0}function q0(n,e,t,i){if(i<e)throw W0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw W0(`Invalid value for '${n}'. Expected ${t} or less.`)}function fP(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var qc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(qc||(qc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,i,o,l,h,d,m,y,E,S,k=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=S,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,M)=>{this.resolve_=V,this.reject_=M,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new cc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const m=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===qc.NO_ERROR,m=l.getStatus();if(!d||pP(m,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===qc.ABORT;i(!1,new cc(!1,null,E));return}const y=this.successCodes_.indexOf(m)!==-1;i(!0,new cc(y,l))})},t=(i,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());dP(m)?l(m):l()}catch(m){h(m)}else if(d!==null){const m=rP();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?Ew():sP();h(m)}else{const m=iP();h(m)}};this.canceled_?t(!1,new cc(!1,null,!0)):this.backoffId_=cP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function gP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _P(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wP(n,e,t,i,o,l,h=!0){const d=fP(n.urlParams),m=n.url+d,y=Object.assign({},n.headers);return vP(y,e),gP(y,t),yP(y,l),_P(y,i),new mP(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function TP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this._service=e,t instanceof Xn?this._location=t:this._location=Xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hc(e,t)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TP(this._location.path)}get storage(){return this._service}get parent(){const e=EP(this._location.path);if(e===null)return null;const t=new Xn(this._location.bucket,e);return new Hc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lP(e)}}function H0(n,e){const t=e==null?void 0:e[eP];return t==null?null:Xn.makeFromBucketSpec(t,n)}function SP(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Iv(o,n.app.options.projectId))}class IP{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=ww,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tP,this._maxUploadRetryTime=nP,this._requests=new Set,o!=null?this._bucket=Xn.makeFromBucketSpec(o,this._host):this._bucket=H0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=H0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hc(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new uP(Ew());{const h=wP(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const G0="@firebase/storage",K0="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="storage";function kP(n=lp(),e){n=Jn(n);const i=Jc(n,Tw).getImmediate({identifier:e}),o=Ev("storage");return o&&AP(i,...o),i}function AP(n,e,t,i={}){SP(n,e,t,i)}function CP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new IP(t,i,o,e,Ps)}function RP(){ks(new Li(Tw,CP,"PUBLIC").setMultipleInstances(!0)),mr(G0,K0,""),mr(G0,K0,"esm2017")}RP();const PP={apiKey:"AIzaSyAwHe1Ci22MD09r-skn7OZLyYBdEX35L74",authDomain:"shiphitmobileapppickup-4d0a1.firebaseapp.com",projectId:"shiphitmobileapppickup-4d0a1",storageBucket:"shiphitmobileapppickup-4d0a1.appspot.com",messagingSenderId:"977746945332",appId:"1:977746945332:web:17c4aa3b217b35cf58f161"},Sw=Cv(PP);JR(Sw);kP(Sw);const Ic=Rk();function bP(n){return n.split(" &")[0]}function Iw(n){const e=bP(n),[t,i,o]=e.split("-").map(Number),l=new Date(o,i-1,t),h=Math.floor(l.getTime()/1e3),d=l.getTime()%1e3*1e6;return{seconds:h,nanoseconds:d}}console.log("convertDateToTimestamp",Iw("29-11-2024 &5 PM"));const xP=["January","February","March","April","May","June","July","August","September","October","November","December"];async function mh(n){try{let e=vc(Ic,"pickup");const i=Yo(new Date,{weekStartsOn:6}),o=Kf(i,6),l=eC(i,1),h=Kf(l,6),d=dt.fromDate(new Date(lc(i,"yyyy-MM-dd"))),m=dt.fromDate(new Date(lc(o,"yyyy-MM-dd"))),y=dt.fromDate(new Date(lc(l,"yyyy-MM-dd"))),E=dt.fromDate(new Date(lc(h,"yyyy-MM-dd")));n==="This Week"?e=g0(vc(Ic,"pickup"),y0("status","in",["PAYMENT DONE","SHIPMENT CONNECTED"])):n==="Last Week"&&(e=g0(vc(Ic,"pickup"),y0("status","in",["PAYMENT DONE","SHIPMENT CONNECTED"])));const V=(await L_(e)).docs.map(O=>({...O.data()})).map(O=>({...O,pickupDatetime:Iw(O.pickupDatetime)}));return console.log("DateRange",n,"updatedData",V),V.filter(O=>n==="This Week"?O.pickupDatetime.seconds>=d.seconds&&O.pickupDatetime.seconds<=m.seconds:O.pickupDatetime.seconds>=y.seconds&&O.pickupDatetime.seconds<=E.seconds)}catch(e){return console.error("Error fetching pickup data:",e),[]}}async function kw(n){var e=0;return await mh(n).then(t=>{t==null||t.map(i=>{e+=i.logisticCost})}),e.toFixed(2)}async function Aw(n){return(await mh(n)).length}async function NP(n){const e=await kw(n),t=await Aw(n);return(t===0?0:e/t).toFixed(2)}async function DP(){let n=vc(Ic,"LoginCredentials");const t=(await L_(n)).docs.map(o=>({id:o.id,...o.data()}));return Object.entries(t[0]).filter(([o,l])=>l[3]==="CHENNAI").map(([o,l])=>({email:l[1],name:l[0],role:l[2],location:l[3]}))}const Cw=async n=>{const e=await mh(n),t=i=>{const o=new Date(i.seconds*1e3),l=String(o.getDate()).padStart(2,"0"),h=String(o.getMonth()+1).padStart(2,"0"),d=o.getFullYear();return`${l}-${h}-${d}`};return e.reduce((i,o)=>{const l=o.pickupBookedBy;return i[l]||(i[l]={pickupBookedBy:l,bookings:[]}),i[l].bookings.push({...o,pickupDatetime:t(o.pickupDatetime)}),i},{})};async function OP(n){const e=await Cw(n);let t={name:null,totalCost:0,totalBookings:0};for(const i in e){const o=e[i].bookings,l=o.reduce((d,m)=>d+(m.logisticCost||0),0),h=o.length;l>t.totalCost&&(t={name:i,totalCost:l,totalBookings:h})}return t.name?t.name:"N/A"}function VP(n){if(n<3)return 0;if(n===3)return n*50;if(n>=4&&n<=5)return 3*60;if(n>=6&&n<=7)return 3*75}const Rw=async n=>{const e=await mh(n),t=i=>{const o=new Date(i.seconds*1e3),l=String(o.getDate()).padStart(2,"0"),h=String(o.getMonth()+1).padStart(2,"0"),d=o.getFullYear();return`${l}-${h}-${d}`};return Object.values(e.reduce((i,o)=>{const l=t(o.pickupDatetime),h=o.pickupBookedBy,d=`${h}_${l}`;return i[h]||(i[h]={name:h,[d]:{name_date:d,bookings:[]}}),i[h][d]||(i[h][d]={name_date:d,bookings:[]}),i[h][d].bookings.push({...o,pickupDatetime:l}),i},{}))},MP=async(n,e)=>{var t=await Rw(e);if(t=[t.find(y=>y.name===n)],t[0]==null)return alert("Data not found!");const i=["name","name_date","pickuparea","pickupDatetime","awbNumber","status","pickupBookedBy","logisticCost","actualNoOfPackages","content"],o=[];t.forEach(y=>{Object.keys(y).forEach(E=>{var S;if(Array.isArray((S=y[E])==null?void 0:S.bookings)){const k=y[E].bookings.map((V,M)=>M===0?{name:y.name,name_date:E,...V}:{name:"",name_date:"",...V});o.push(...k,{})}})});const l=i.join(",")+`
`+o.map(y=>i.map(E=>y[E]!==void 0?y[E]:"").join(",")).join(`
`),h=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(h),m=document.createElement("a");m.href=d,m.download=`${n}_dataset.csv`,m.click(),URL.revokeObjectURL(d)};function LP(n){var e,t;return(e=groupedData[n])!=null&&e.bookings.length?(t=groupedData[n])==null?void 0:t.bookings.length:0}const Ci={getRevenue:kw,getTotalBookings:Aw,AvgBookingValue:NP,fetchLoginCredentials:DP,groupByPickupBookedBy:Cw,TopPerformer:OP,months:xP,IncentiveCalculator:VP,transformData:Rw,downloadCSV:MP,getSalesPersonBookings:LP},Il={black:"#000",white:"#fff"},ko={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ao={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Co={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ro={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Po={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},FP={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rs(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const UP="$$material";function Jf(){return Jf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jf.apply(null,arguments)}var BP=!1;function jP(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function zP(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $P=function(){function n(t){var i=this;this._insertTag=function(o){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,l),i.tags.push(o)},this.isSpeedy=t.speedy===void 0?!BP:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zP(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var l=jP(o);try{l.insertRule(i,l.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var o;return(o=i.parentNode)==null?void 0:o.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Gt="-ms-",Gc="-moz-",ze="-webkit-",Pw="comm",Hp="rule",Gp="decl",WP="@import",bw="@keyframes",qP="@layer",HP=Math.abs,gh=String.fromCharCode,GP=Object.assign;function KP(n,e){return Bt(n,0)^45?(((e<<2^Bt(n,0))<<2^Bt(n,1))<<2^Bt(n,2))<<2^Bt(n,3):0}function xw(n){return n.trim()}function QP(n,e){return(n=e.exec(n))?n[0]:n}function $e(n,e,t){return n.replace(e,t)}function Zf(n,e){return n.indexOf(e)}function Bt(n,e){return n.charCodeAt(e)|0}function kl(n,e,t){return n.slice(e,t)}function dr(n){return n.length}function Kp(n){return n.length}function hc(n,e){return e.push(n),n}function YP(n,e){return n.map(e).join("")}var yh=1,Jo=1,Nw=0,dn=0,Et=0,aa="";function vh(n,e,t,i,o,l,h){return{value:n,root:e,parent:t,type:i,props:o,children:l,line:yh,column:Jo,length:h,return:""}}function ol(n,e){return GP(vh("",null,null,"",null,null,0),n,{length:-n.length},e)}function XP(){return Et}function JP(){return Et=dn>0?Bt(aa,--dn):0,Jo--,Et===10&&(Jo=1,yh--),Et}function En(){return Et=dn<Nw?Bt(aa,dn++):0,Jo++,Et===10&&(Jo=1,yh++),Et}function _r(){return Bt(aa,dn)}function kc(){return dn}function Ll(n,e){return kl(aa,n,e)}function Al(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dw(n){return yh=Jo=1,Nw=dr(aa=n),dn=0,[]}function Ow(n){return aa="",n}function Ac(n){return xw(Ll(dn-1,ep(n===91?n+2:n===40?n+1:n)))}function ZP(n){for(;(Et=_r())&&Et<33;)En();return Al(n)>2||Al(Et)>3?"":" "}function eb(n,e){for(;--e&&En()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return Ll(n,kc()+(e<6&&_r()==32&&En()==32))}function ep(n){for(;En();)switch(Et){case n:return dn;case 34:case 39:n!==34&&n!==39&&ep(Et);break;case 40:n===41&&ep(n);break;case 92:En();break}return dn}function tb(n,e){for(;En()&&n+Et!==57;)if(n+Et===84&&_r()===47)break;return"/*"+Ll(e,dn-1)+"*"+gh(n===47?n:En())}function nb(n){for(;!Al(_r());)En();return Ll(n,dn)}function rb(n){return Ow(Cc("",null,null,null,[""],n=Dw(n),0,[0],n))}function Cc(n,e,t,i,o,l,h,d,m){for(var y=0,E=0,S=h,k=0,V=0,M=0,O=1,F=1,W=1,te=0,X="",K=o,se=l,re=i,P=X;F;)switch(M=te,te=En()){case 40:if(M!=108&&Bt(P,S-1)==58){Zf(P+=$e(Ac(te),"&","&\f"),"&\f")!=-1&&(W=-1);break}case 34:case 39:case 91:P+=Ac(te);break;case 9:case 10:case 13:case 32:P+=ZP(M);break;case 92:P+=eb(kc()-1,7);continue;case 47:switch(_r()){case 42:case 47:hc(ib(tb(En(),kc()),e,t),m);break;default:P+="/"}break;case 123*O:d[y++]=dr(P)*W;case 125*O:case 59:case 0:switch(te){case 0:case 125:F=0;case 59+E:W==-1&&(P=$e(P,/\f/g,"")),V>0&&dr(P)-S&&hc(V>32?Y0(P+";",i,t,S-1):Y0($e(P," ","")+";",i,t,S-2),m);break;case 59:P+=";";default:if(hc(re=Q0(P,e,t,y,E,o,d,X,K=[],se=[],S),l),te===123)if(E===0)Cc(P,e,re,re,K,l,S,d,se);else switch(k===99&&Bt(P,3)===110?100:k){case 100:case 108:case 109:case 115:Cc(n,re,re,i&&hc(Q0(n,re,re,0,0,o,d,X,o,K=[],S),se),o,se,S,d,i?K:se);break;default:Cc(P,re,re,re,[""],se,0,d,se)}}y=E=V=0,O=W=1,X=P="",S=h;break;case 58:S=1+dr(P),V=M;default:if(O<1){if(te==123)--O;else if(te==125&&O++==0&&JP()==125)continue}switch(P+=gh(te),te*O){case 38:W=E>0?1:(P+="\f",-1);break;case 44:d[y++]=(dr(P)-1)*W,W=1;break;case 64:_r()===45&&(P+=Ac(En())),k=_r(),E=S=dr(X=P+=nb(kc())),te++;break;case 45:M===45&&dr(P)==2&&(O=0)}}return l}function Q0(n,e,t,i,o,l,h,d,m,y,E){for(var S=o-1,k=o===0?l:[""],V=Kp(k),M=0,O=0,F=0;M<i;++M)for(var W=0,te=kl(n,S+1,S=HP(O=h[M])),X=n;W<V;++W)(X=xw(O>0?k[W]+" "+te:$e(te,/&\f/g,k[W])))&&(m[F++]=X);return vh(n,e,t,o===0?Hp:d,m,y,E)}function ib(n,e,t){return vh(n,e,t,Pw,gh(XP()),kl(n,2,-2),0)}function Y0(n,e,t,i){return vh(n,e,t,Gp,kl(n,0,i),kl(n,i+1,-1),i)}function jo(n,e){for(var t="",i=Kp(n),o=0;o<i;o++)t+=e(n[o],o,n,e)||"";return t}function sb(n,e,t,i){switch(n.type){case qP:if(n.children.length)break;case WP:case Gp:return n.return=n.return||n.value;case Pw:return"";case bw:return n.return=n.value+"{"+jo(n.children,i)+"}";case Hp:n.value=n.props.join(",")}return dr(t=jo(n.children,i))?n.return=n.value+"{"+t+"}":""}function ob(n){var e=Kp(n);return function(t,i,o,l){for(var h="",d=0;d<e;d++)h+=n[d](t,i,o,l)||"";return h}}function ab(n){return function(e){e.root||(e=e.return)&&n(e)}}function Vw(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var lb=function(e,t,i){for(var o=0,l=0;o=l,l=_r(),o===38&&l===12&&(t[i]=1),!Al(l);)En();return Ll(e,dn)},ub=function(e,t){var i=-1,o=44;do switch(Al(o)){case 0:o===38&&_r()===12&&(t[i]=1),e[i]+=lb(dn-1,t,i);break;case 2:e[i]+=Ac(o);break;case 4:if(o===44){e[++i]=_r()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=gh(o)}while(o=En());return e},cb=function(e,t){return Ow(ub(Dw(e),t))},X0=new WeakMap,hb=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,o=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!X0.get(i))&&!o){X0.set(e,!0);for(var l=[],h=cb(t,l),d=i.props,m=0,y=0;m<h.length;m++)for(var E=0;E<d.length;E++,y++)e.props[y]=l[m]?h[m].replace(/&\f/g,d[E]):d[E]+" "+h[m]}}},db=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Mw(n,e){switch(KP(n,e)){case 5103:return ze+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ze+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ze+n+Gc+n+Gt+n+n;case 6828:case 4268:return ze+n+Gt+n+n;case 6165:return ze+n+Gt+"flex-"+n+n;case 5187:return ze+n+$e(n,/(\w+).+(:[^]+)/,ze+"box-$1$2"+Gt+"flex-$1$2")+n;case 5443:return ze+n+Gt+"flex-item-"+$e(n,/flex-|-self/,"")+n;case 4675:return ze+n+Gt+"flex-line-pack"+$e(n,/align-content|flex-|-self/,"")+n;case 5548:return ze+n+Gt+$e(n,"shrink","negative")+n;case 5292:return ze+n+Gt+$e(n,"basis","preferred-size")+n;case 6060:return ze+"box-"+$e(n,"-grow","")+ze+n+Gt+$e(n,"grow","positive")+n;case 4554:return ze+$e(n,/([^-])(transform)/g,"$1"+ze+"$2")+n;case 6187:return $e($e($e(n,/(zoom-|grab)/,ze+"$1"),/(image-set)/,ze+"$1"),n,"")+n;case 5495:case 3959:return $e(n,/(image-set\([^]*)/,ze+"$1$`$1");case 4968:return $e($e(n,/(.+:)(flex-)?(.*)/,ze+"box-pack:$3"+Gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ze+n+n;case 4095:case 3583:case 4068:case 2532:return $e(n,/(.+)-inline(.+)/,ze+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dr(n)-1-e>6)switch(Bt(n,e+1)){case 109:if(Bt(n,e+4)!==45)break;case 102:return $e(n,/(.+:)(.+)-([^]+)/,"$1"+ze+"$2-$3$1"+Gc+(Bt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Zf(n,"stretch")?Mw($e(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Bt(n,e+1)!==115)break;case 6444:switch(Bt(n,dr(n)-3-(~Zf(n,"!important")&&10))){case 107:return $e(n,":",":"+ze)+n;case 101:return $e(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ze+(Bt(n,14)===45?"inline-":"")+"box$3$1"+ze+"$2$3$1"+Gt+"$2box$3")+n}break;case 5936:switch(Bt(n,e+11)){case 114:return ze+n+Gt+$e(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ze+n+Gt+$e(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ze+n+Gt+$e(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ze+n+Gt+n+n}return n}var fb=function(e,t,i,o){if(e.length>-1&&!e.return)switch(e.type){case Gp:e.return=Mw(e.value,e.length);break;case bw:return jo([ol(e,{value:$e(e.value,"@","@"+ze)})],o);case Hp:if(e.length)return YP(e.props,function(l){switch(QP(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jo([ol(e,{props:[$e(l,/:(read-\w+)/,":"+Gc+"$1")]})],o);case"::placeholder":return jo([ol(e,{props:[$e(l,/:(plac\w+)/,":"+ze+"input-$1")]}),ol(e,{props:[$e(l,/:(plac\w+)/,":"+Gc+"$1")]}),ol(e,{props:[$e(l,/:(plac\w+)/,Gt+"input-$1")]})],o)}return""})}},pb=[fb],mb=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(O){var F=O.getAttribute("data-emotion");F.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var o=e.stylisPlugins||pb,l={},h,d=[];h=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(O){for(var F=O.getAttribute("data-emotion").split(" "),W=1;W<F.length;W++)l[F[W]]=!0;d.push(O)});var m,y=[hb,db];{var E,S=[sb,ab(function(O){E.insert(O)})],k=ob(y.concat(o,S)),V=function(F){return jo(rb(F),k)};m=function(F,W,te,X){E=te,V(F?F+"{"+W.styles+"}":W.styles),X&&(M.inserted[W.name]=!0)}}var M={key:t,sheet:new $P({key:t,container:h,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:m};return M.sheet.hydrate(d),M},gb=!0;function yb(n,e,t){var i="";return t.split(" ").forEach(function(o){n[o]!==void 0?e.push(n[o]+";"):o&&(i+=o+" ")}),i}var Lw=function(e,t,i){var o=e.key+"-"+t.name;(i===!1||gb===!1)&&e.registered[o]===void 0&&(e.registered[o]=t.styles)},vb=function(e,t,i){Lw(e,t,i);var o=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+o:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function _b(n){for(var e=0,t,i=0,o=n.length;o>=4;++i,o-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wb={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Eb=!1,Tb=/[A-Z]|^ms/g,Sb=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Fw=function(e){return e.charCodeAt(1)===45},J0=function(e){return e!=null&&typeof e!="boolean"},Ef=Vw(function(n){return Fw(n)?n:n.replace(Tb,"-$&").toLowerCase()}),Z0=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Sb,function(i,o,l){return fr={name:o,styles:l,next:fr},o})}return wb[e]!==1&&!Fw(e)&&typeof t=="number"&&t!==0?t+"px":t},Ib="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Cl(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var o=t;if(o.anim===1)return fr={name:o.name,styles:o.styles,next:fr},o.name;var l=t;if(l.styles!==void 0){var h=l.next;if(h!==void 0)for(;h!==void 0;)fr={name:h.name,styles:h.styles,next:fr},h=h.next;var d=l.styles+";";return d}return kb(n,e,t)}case"function":{if(n!==void 0){var m=fr,y=t(n);return fr=m,Cl(n,e,y)}break}}var E=t;if(e==null)return E;var S=e[E];return S!==void 0?S:E}function kb(n,e,t){var i="";if(Array.isArray(t))for(var o=0;o<t.length;o++)i+=Cl(n,e,t[o])+";";else for(var l in t){var h=t[l];if(typeof h!="object"){var d=h;e!=null&&e[d]!==void 0?i+=l+"{"+e[d]+"}":J0(d)&&(i+=Ef(l)+":"+Z0(l,d)+";")}else{if(l==="NO_COMPONENT_SELECTOR"&&Eb)throw new Error(Ib);if(Array.isArray(h)&&typeof h[0]=="string"&&(e==null||e[h[0]]===void 0))for(var m=0;m<h.length;m++)J0(h[m])&&(i+=Ef(l)+":"+Z0(l,h[m])+";");else{var y=Cl(n,e,h);switch(l){case"animation":case"animationName":{i+=Ef(l)+":"+y+";";break}default:i+=l+"{"+y+"}"}}}}return i}var ev=/label:\s*([^\s;{]+)\s*(;|$)/g,fr;function Uw(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,o="";fr=void 0;var l=n[0];if(l==null||l.raw===void 0)i=!1,o+=Cl(t,e,l);else{var h=l;o+=h[0]}for(var d=1;d<n.length;d++)if(o+=Cl(t,e,n[d]),i){var m=l;o+=m[d]}ev.lastIndex=0;for(var y="",E;(E=ev.exec(o))!==null;)y+="-"+E[1];var S=_b(o)+y;return{name:S,styles:o,next:fr}}var Ab=function(e){return e()},Cb=py.useInsertionEffect?py.useInsertionEffect:!1,Rb=Cb||Ab,Bw=Fe.createContext(typeof HTMLElement<"u"?mb({key:"css"}):null);Bw.Provider;var Pb=function(e){return Fe.forwardRef(function(t,i){var o=Fe.useContext(Bw);return e(t,o,i)})},bb=Fe.createContext({}),xb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nb=Vw(function(n){return xb.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Db=!1,Ob=Nb,Vb=function(e){return e!=="theme"},tv=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Ob:Vb},nv=function(e,t,i){var o;if(t){var l=t.shouldForwardProp;o=e.__emotion_forwardProp&&l?function(h){return e.__emotion_forwardProp(h)&&l(h)}:l}return typeof o!="function"&&i&&(o=e.__emotion_forwardProp),o},Mb=function(e){var t=e.cache,i=e.serialized,o=e.isStringTag;return Lw(t,i,o),Rb(function(){return vb(t,i,o)}),null},Lb=function n(e,t){var i=e.__emotion_real===e,o=i&&e.__emotion_base||e,l,h;t!==void 0&&(l=t.label,h=t.target);var d=nv(e,t,i),m=d||tv(o),y=!m("as");return function(){var E=arguments,S=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&S.push("label:"+l+";"),E[0]==null||E[0].raw===void 0)S.push.apply(S,E);else{var k=E[0];S.push(k[0]);for(var V=E.length,M=1;M<V;M++)S.push(E[M],k[M])}var O=Pb(function(F,W,te){var X=y&&F.as||o,K="",se=[],re=F;if(F.theme==null){re={};for(var P in F)re[P]=F[P];re.theme=Fe.useContext(bb)}typeof F.className=="string"?K=yb(W.registered,se,F.className):F.className!=null&&(K=F.className+" ");var I=Uw(S.concat(se),W.registered,re);K+=W.key+"-"+I.name,h!==void 0&&(K+=" "+h);var b=y&&d===void 0?tv(X):m,_={};for(var R in F)y&&R==="as"||b(R)&&(_[R]=F[R]);return _.className=K,te&&(_.ref=te),Fe.createElement(Fe.Fragment,null,Fe.createElement(Mb,{cache:W,serialized:I,isStringTag:typeof X=="string"}),Fe.createElement(X,_))});return O.displayName=l!==void 0?l:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",O.defaultProps=e.defaultProps,O.__emotion_real=O,O.__emotion_base=o,O.__emotion_styles=S,O.__emotion_forwardProp=d,Object.defineProperty(O,"toString",{value:function(){return h===void 0&&Db?"NO_COMPONENT_SELECTOR":"."+h}}),O.withComponent=function(F,W){var te=n(F,Jf({},t,W,{shouldForwardProp:nv(O,W,!0)}));return te.apply(void 0,S)},O}},Fb=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],tp=Lb.bind(null);Fb.forEach(function(n){tp[n]=tp(n)});/**
 * @mui/styled-engine v6.2.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ub(n,e){return tp(n,e)}function Bb(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const rv=[];function iv(n){return rv[0]=n,Uw(rv)}function $r(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function jw(n){if(Fe.isValidElement(n)||!$r(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=jw(n[t])}),e}function Tn(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return $r(n)&&$r(e)&&Object.keys(e).forEach(o=>{Fe.isValidElement(e[o])?i[o]=e[o]:$r(e[o])&&Object.prototype.hasOwnProperty.call(n,o)&&$r(n[o])?i[o]=Tn(n[o],e[o],t):t.clone?i[o]=$r(e[o])?jw(e[o]):e[o]:i[o]=e[o]}),i}const jb=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function zb(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...o}=n,l=jb(e),h=Object.keys(l);function d(k){return`@media (min-width:${typeof e[k]=="number"?e[k]:k}${t})`}function m(k){return`@media (max-width:${(typeof e[k]=="number"?e[k]:k)-i/100}${t})`}function y(k,V){const M=h.indexOf(V);return`@media (min-width:${typeof e[k]=="number"?e[k]:k}${t}) and (max-width:${(M!==-1&&typeof e[h[M]]=="number"?e[h[M]]:V)-i/100}${t})`}function E(k){return h.indexOf(k)+1<h.length?y(k,h[h.indexOf(k)+1]):d(k)}function S(k){const V=h.indexOf(k);return V===0?d(h[1]):V===h.length-1?m(h[V]):y(k,h[h.indexOf(k)+1]).replace("@media","@media not all and")}return{keys:h,values:l,up:d,down:m,between:y,only:E,not:S,unit:t,...o}}function $b(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,o)=>{var h,d;const l=/min-width:\s*([0-9.]+)/;return+(((h=i.match(l))==null?void 0:h[1])||0)-+(((d=o.match(l))==null?void 0:d[1])||0)});return t.length?t.reduce((i,o)=>{const l=e[o];return delete i[o],i[o]=l,i},{...e}):e}function Wb(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function qb(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,o]=t,l=Number.isNaN(+i)?i||0:+i;return n.containerQueries(o).up(l)}function Hb(n){const e=(l,h)=>l.replace("@media",h?`@container ${h}`:"@container");function t(l,h){l.up=(...d)=>e(n.breakpoints.up(...d),h),l.down=(...d)=>e(n.breakpoints.down(...d),h),l.between=(...d)=>e(n.breakpoints.between(...d),h),l.only=(...d)=>e(n.breakpoints.only(...d),h),l.not=(...d)=>{const m=e(n.breakpoints.not(...d),h);return m.includes("not all and")?m.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):m}}const i={},o=l=>(t(i,l),i);return t(o),{...n,containerQueries:o}}const Gb={borderRadius:4};function yl(n,e){return e?Tn(n,e,{clone:!1}):n}const _h={xs:0,sm:600,md:900,lg:1200,xl:1536},sv={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${_h[n]}px)`},Kb={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:_h[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Jr(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const l=i.breakpoints||sv;return e.reduce((h,d,m)=>(h[l.up(l.keys[m])]=t(e[m]),h),{})}if(typeof e=="object"){const l=i.breakpoints||sv;return Object.keys(e).reduce((h,d)=>{if(Wb(l.keys,d)){const m=qb(i.containerQueries?i:Kb,d);m&&(h[m]=t(e[d],d))}else if(Object.keys(l.values||_h).includes(d)){const m=l.up(d);h[m]=t(e[d],d)}else{const m=d;h[m]=e[m]}return h},{})}return t(e)}function Qb(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,o)=>{const l=n.up(o);return i[l]={},i},{}))||{}}function Yb(n,e){return n.reduce((t,i)=>{const o=t[i];return(!o||Object.keys(o).length===0)&&delete t[i],t},e)}function Zo(n){if(typeof n!="string")throw new Error(Rs(7));return n.charAt(0).toUpperCase()+n.slice(1)}function wh(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((o,l)=>o&&o[l]?o[l]:null,n);if(i!=null)return i}return e.split(".").reduce((i,o)=>i&&i[o]!=null?i[o]:null,n)}function Kc(n,e,t,i=t){let o;return typeof n=="function"?o=n(t):Array.isArray(n)?o=n[t]||i:o=wh(n,t)||i,e&&(o=e(o,i,n)),o}function yt(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:o}=n,l=h=>{if(h[e]==null)return null;const d=h[e],m=h.theme,y=wh(m,i)||{};return Jr(h,d,S=>{let k=Kc(y,o,S);return S===k&&typeof S=="string"&&(k=Kc(y,o,`${e}${S==="default"?"":Zo(S)}`,S)),t===!1?k:{[t]:k}})};return l.propTypes={},l.filterProps=[e],l}function Xb(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Jb={m:"margin",p:"padding"},Zb={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ov={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ex=Xb(n=>{if(n.length>2)if(ov[n])n=ov[n];else return[n];const[e,t]=n.split(""),i=Jb[e],o=Zb[t]||"";return Array.isArray(o)?o.map(l=>i+l):[i+o]}),Qp=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Yp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Qp,...Yp];function Fl(n,e,t,i){const o=wh(n,e,!0)??t;return typeof o=="number"||typeof o=="string"?l=>typeof l=="string"?l:typeof o=="string"?`calc(${l} * ${o})`:o*l:Array.isArray(o)?l=>{if(typeof l=="string")return l;const h=Math.abs(l),d=o[h];return l>=0?d:typeof d=="number"?-d:`-${d}`}:typeof o=="function"?o:()=>{}}function Xp(n){return Fl(n,"spacing",8)}function Ul(n,e){return typeof e=="string"||e==null?e:n(e)}function tx(n,e){return t=>n.reduce((i,o)=>(i[o]=Ul(e,t),i),{})}function nx(n,e,t,i){if(!e.includes(t))return null;const o=ex(t),l=tx(o,i),h=n[t];return Jr(n,h,l)}function zw(n,e){const t=Xp(n.theme);return Object.keys(n).map(i=>nx(n,e,i,t)).reduce(yl,{})}function ct(n){return zw(n,Qp)}ct.propTypes={};ct.filterProps=Qp;function ht(n){return zw(n,Yp)}ht.propTypes={};ht.filterProps=Yp;function $w(n=8,e=Xp({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(l=>{const h=e(l);return typeof h=="number"?`${h}px`:h}).join(" ");return t.mui=!0,t}function Eh(...n){const e=n.reduce((i,o)=>(o.filterProps.forEach(l=>{i[l]=o}),i),{}),t=i=>Object.keys(i).reduce((o,l)=>e[l]?yl(o,e[l](i)):o,{});return t.propTypes={},t.filterProps=n.reduce((i,o)=>i.concat(o.filterProps),[]),t}function Dn(n){return typeof n!="number"?n:`${n}px solid`}function Vn(n,e){return yt({prop:n,themeKey:"borders",transform:e})}const rx=Vn("border",Dn),ix=Vn("borderTop",Dn),sx=Vn("borderRight",Dn),ox=Vn("borderBottom",Dn),ax=Vn("borderLeft",Dn),lx=Vn("borderColor"),ux=Vn("borderTopColor"),cx=Vn("borderRightColor"),hx=Vn("borderBottomColor"),dx=Vn("borderLeftColor"),fx=Vn("outline",Dn),px=Vn("outlineColor"),Th=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Fl(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:Ul(e,i)});return Jr(n,n.borderRadius,t)}return null};Th.propTypes={};Th.filterProps=["borderRadius"];Eh(rx,ix,sx,ox,ax,lx,ux,cx,hx,dx,Th,fx,px);const Sh=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Fl(n.theme,"spacing",8),t=i=>({gap:Ul(e,i)});return Jr(n,n.gap,t)}return null};Sh.propTypes={};Sh.filterProps=["gap"];const Ih=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Fl(n.theme,"spacing",8),t=i=>({columnGap:Ul(e,i)});return Jr(n,n.columnGap,t)}return null};Ih.propTypes={};Ih.filterProps=["columnGap"];const kh=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Fl(n.theme,"spacing",8),t=i=>({rowGap:Ul(e,i)});return Jr(n,n.rowGap,t)}return null};kh.propTypes={};kh.filterProps=["rowGap"];const mx=yt({prop:"gridColumn"}),gx=yt({prop:"gridRow"}),yx=yt({prop:"gridAutoFlow"}),vx=yt({prop:"gridAutoColumns"}),_x=yt({prop:"gridAutoRows"}),wx=yt({prop:"gridTemplateColumns"}),Ex=yt({prop:"gridTemplateRows"}),Tx=yt({prop:"gridTemplateAreas"}),Sx=yt({prop:"gridArea"});Eh(Sh,Ih,kh,mx,gx,yx,vx,_x,wx,Ex,Tx,Sx);function zo(n,e){return e==="grey"?e:n}const Ix=yt({prop:"color",themeKey:"palette",transform:zo}),kx=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:zo}),Ax=yt({prop:"backgroundColor",themeKey:"palette",transform:zo});Eh(Ix,kx,Ax);function wn(n){return n<=1&&n!==0?`${n*100}%`:n}const Cx=yt({prop:"width",transform:wn}),Jp=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var o,l,h,d,m;const i=((h=(l=(o=n.theme)==null?void 0:o.breakpoints)==null?void 0:l.values)==null?void 0:h[t])||_h[t];return i?((m=(d=n.theme)==null?void 0:d.breakpoints)==null?void 0:m.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:wn(t)}};return Jr(n,n.maxWidth,e)}return null};Jp.filterProps=["maxWidth"];const Rx=yt({prop:"minWidth",transform:wn}),Px=yt({prop:"height",transform:wn}),bx=yt({prop:"maxHeight",transform:wn}),xx=yt({prop:"minHeight",transform:wn});yt({prop:"size",cssProperty:"width",transform:wn});yt({prop:"size",cssProperty:"height",transform:wn});const Nx=yt({prop:"boxSizing"});Eh(Cx,Jp,Rx,Px,bx,xx,Nx);const Ah={border:{themeKey:"borders",transform:Dn},borderTop:{themeKey:"borders",transform:Dn},borderRight:{themeKey:"borders",transform:Dn},borderBottom:{themeKey:"borders",transform:Dn},borderLeft:{themeKey:"borders",transform:Dn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Th},color:{themeKey:"palette",transform:zo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:zo},backgroundColor:{themeKey:"palette",transform:zo},p:{style:ht},pt:{style:ht},pr:{style:ht},pb:{style:ht},pl:{style:ht},px:{style:ht},py:{style:ht},padding:{style:ht},paddingTop:{style:ht},paddingRight:{style:ht},paddingBottom:{style:ht},paddingLeft:{style:ht},paddingX:{style:ht},paddingY:{style:ht},paddingInline:{style:ht},paddingInlineStart:{style:ht},paddingInlineEnd:{style:ht},paddingBlock:{style:ht},paddingBlockStart:{style:ht},paddingBlockEnd:{style:ht},m:{style:ct},mt:{style:ct},mr:{style:ct},mb:{style:ct},ml:{style:ct},mx:{style:ct},my:{style:ct},margin:{style:ct},marginTop:{style:ct},marginRight:{style:ct},marginBottom:{style:ct},marginLeft:{style:ct},marginX:{style:ct},marginY:{style:ct},marginInline:{style:ct},marginInlineStart:{style:ct},marginInlineEnd:{style:ct},marginBlock:{style:ct},marginBlockStart:{style:ct},marginBlockEnd:{style:ct},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sh},rowGap:{style:kh},columnGap:{style:Ih},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:wn},maxWidth:{style:Jp},minWidth:{transform:wn},height:{transform:wn},maxHeight:{transform:wn},minHeight:{transform:wn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Dx(...n){const e=n.reduce((i,o)=>i.concat(Object.keys(o)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Ox(n,e){return typeof n=="function"?n(e):n}function Vx(){function n(t,i,o,l){const h={[t]:i,theme:o},d=l[t];if(!d)return{[t]:i};const{cssProperty:m=t,themeKey:y,transform:E,style:S}=d;if(i==null)return null;if(y==="typography"&&i==="inherit")return{[t]:i};const k=wh(o,y)||{};return S?S(h):Jr(h,i,M=>{let O=Kc(k,E,M);return M===O&&typeof M=="string"&&(O=Kc(k,E,`${t}${M==="default"?"":Zo(M)}`,M)),m===!1?O:{[m]:O}})}function e(t){const{sx:i,theme:o={}}=t||{};if(!i)return null;const l=o.unstable_sxConfig??Ah;function h(d){let m=d;if(typeof d=="function")m=d(o);else if(typeof d!="object")return d;if(!m)return null;const y=Qb(o.breakpoints),E=Object.keys(y);let S=y;return Object.keys(m).forEach(k=>{const V=Ox(m[k],o);if(V!=null)if(typeof V=="object")if(l[k])S=yl(S,n(k,V,o,l));else{const M=Jr({theme:o},V,O=>({[k]:O}));Dx(M,V)?S[k]=e({sx:V,theme:o}):S=yl(S,M)}else S=yl(S,n(k,V,o,l))}),$b(o,Yb(E,S))}return Array.isArray(i)?i.map(h):h(i)}return e}const ea=Vx();ea.filterProps=["sx"];function Mx(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let o=t.getColorSchemeSelector(n);return o==="&"?e:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:e})}return t.palette.mode===n?e:{}}function Ww(n={},...e){const{breakpoints:t={},palette:i={},spacing:o,shape:l={},...h}=n,d=zb(t),m=$w(o);let y=Tn({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:m,shape:{...Gb,...l}},h);return y=Hb(y),y.applyStyles=Mx,y=e.reduce((E,S)=>Tn(E,S),y),y.unstable_sxConfig={...Ah,...h==null?void 0:h.unstable_sxConfig},y.unstable_sx=function(S){return ea({sx:S,theme:this})},y}const av=n=>n,Lx=()=>{let n=av;return{configure(e){n=e},generate(e){return n(e)},reset(){n=av}}},Fx=Lx();function qw(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=qw(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Qc(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=qw(n))&&(i&&(i+=" "),i+=e);return i}const Ux={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zp(n,e,t="Mui"){const i=Ux[e];return i?`${t}-${i}`:`${Fx.generate(n)}-${e}`}function Hw(n,e,t="Mui"){const i={};return e.forEach(o=>{i[o]=Zp(n,o,t)}),i}function Gw(n){const{variants:e,...t}=n,i={variants:e,style:iv(t),isProcessed:!0};return i.style===t||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=iv(o.style))}),i}const Bx=Ww();function Tf(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function jx(n){return n?(e,t)=>t[n]:null}function zx(n,e,t){n.theme=qx(n.theme)?t:n.theme[e]||n.theme}function Rc(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>Rc(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:o,...l}=t;i=l}return Kw(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function Kw(n,e,t=[]){var o;let i;e:for(let l=0;l<e.length;l+=1){const h=e[l];if(typeof h.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!h.props(i))continue}else for(const d in h.props)if(n[d]!==h.props[d]&&((o=n.ownerState)==null?void 0:o[d])!==h.props[d])continue e;typeof h.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(h.style(i))):t.push(h.style)}return t}function $x(n={}){const{themeId:e,defaultTheme:t=Bx,rootShouldForwardProp:i=Tf,slotShouldForwardProp:o=Tf}=n;function l(d){zx(d,e,t)}return(d,m={})=>{Bb(d,se=>se.filter(re=>re!==ea));const{name:y,slot:E,skipVariantsResolver:S,skipSx:k,overridesResolver:V=jx(Gx(E)),...M}=m,O=S!==void 0?S:E&&E!=="Root"&&E!=="root"||!1,F=k||!1;let W=Tf;E==="Root"||E==="root"?W=i:E?W=o:Hx(d)&&(W=void 0);const te=Ub(d,{shouldForwardProp:W,label:Wx(),...M}),X=se=>{if(typeof se=="function"&&se.__emotion_real!==se)return function(P){return Rc(P,se)};if($r(se)){const re=Gw(se);return re.variants?function(I){return Rc(I,re)}:re.style}return se},K=(...se)=>{const re=[],P=se.map(X),I=[];if(re.push(l),y&&V&&I.push(function(N){var lt,Ue;const Ce=(Ue=(lt=N.theme.components)==null?void 0:lt[y])==null?void 0:Ue.styleOverrides;if(!Ce)return null;const He={};for(const ie in Ce)He[ie]=Rc(N,Ce[ie]);return V(N,He)}),y&&!O&&I.push(function(N){var He,lt;const A=N.theme,Ce=(lt=(He=A==null?void 0:A.components)==null?void 0:He[y])==null?void 0:lt.variants;return Ce?Kw(N,Ce):null}),F||I.push(ea),Array.isArray(P[0])){const R=P.shift(),N=new Array(re.length).fill(""),A=new Array(I.length).fill("");let Ce;Ce=[...N,...R,...A],Ce.raw=[...N,...R.raw,...A],re.unshift(Ce)}const b=[...re,...P,...I],_=te(...b);return d.muiName&&(_.muiName=d.muiName),_};return te.withConfig&&(K.withConfig=te.withConfig),K}}function Wx(n,e){return void 0}function qx(n){for(const e in n)return!1;return!0}function Hx(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Gx(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function np(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=i;if(o==="components"||o==="slots")t[o]={...n[o],...t[o]};else if(o==="componentsProps"||o==="slotProps"){const l=n[o],h=e[o];if(!h)t[o]=l||{};else if(!l)t[o]=h;else{t[o]={...h};for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const m=d;t[o][m]=np(l[m],h[m])}}}else t[o]===void 0&&(t[o]=n[o])}return t}function Kx(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function em(n,e=0,t=1){return Kx(n,e,t)}function Qx(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,o)=>o<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function $i(n){if(n.type)return n;if(n.charAt(0)==="#")return $i(Qx(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Rs(9,n));let i=n.substring(e+1,n.length-1),o;if(t==="color"){if(i=i.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Rs(10,o))}else i=i.split(",");return i=i.map(l=>parseFloat(l)),{type:t,values:i,colorSpace:o}}const Yx=n=>{const e=$i(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},cl=(n,e)=>{try{return Yx(n)}catch{return n}};function Ch(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((o,l)=>l<3?parseInt(o,10):o):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function Qw(n){n=$i(n);const{values:e}=n,t=e[0],i=e[1]/100,o=e[2]/100,l=i*Math.min(o,1-o),h=(y,E=(y+t/30)%12)=>o-l*Math.max(Math.min(E-3,9-E,1),-1);let d="rgb";const m=[Math.round(h(0)*255),Math.round(h(8)*255),Math.round(h(4)*255)];return n.type==="hsla"&&(d+="a",m.push(e[3])),Ch({type:d,values:m})}function rp(n){n=$i(n);let e=n.type==="hsl"||n.type==="hsla"?$i(Qw(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Xx(n,e){const t=rp(n),i=rp(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Jx(n,e){return n=$i(n),e=em(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Ch(n)}function dc(n,e,t){try{return Jx(n,e)}catch{return n}}function tm(n,e){if(n=$i(n),e=em(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Ch(n)}function Ke(n,e,t){try{return tm(n,e)}catch{return n}}function nm(n,e){if(n=$i(n),e=em(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Ch(n)}function Qe(n,e,t){try{return nm(n,e)}catch{return n}}function Zx(n,e=.15){return rp(n)>.5?tm(n,e):nm(n,e)}function fc(n,e,t){try{return Zx(n,e)}catch{return n}}function e2(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function t2(...n){return Fe.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{e2(t,e)})},n)}function Yw(n,e,t=void 0){const i={};for(const o in n){const l=n[o];let h="",d=!0;for(let m=0;m<l.length;m+=1){const y=l[m];y&&(h+=(d===!0?"":" ")+e(y),d=!1,t&&t[y]&&(h+=" "+t[y]))}i[o]=h}return i}function n2(n){return typeof n=="string"}function r2(n,e,t){return n===void 0||n2(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function i2(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function lv(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function s2(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:o,className:l}=n;if(!e){const V=Qc(t==null?void 0:t.className,l,o==null?void 0:o.className,i==null?void 0:i.className),M={...t==null?void 0:t.style,...o==null?void 0:o.style,...i==null?void 0:i.style},O={...t,...o,...i};return V.length>0&&(O.className=V),Object.keys(M).length>0&&(O.style=M),{props:O,internalRef:void 0}}const h=i2({...o,...i}),d=lv(i),m=lv(o),y=e(h),E=Qc(y==null?void 0:y.className,t==null?void 0:t.className,l,o==null?void 0:o.className,i==null?void 0:i.className),S={...y==null?void 0:y.style,...t==null?void 0:t.style,...o==null?void 0:o.style,...i==null?void 0:i.style},k={...y,...t,...m,...d};return E.length>0&&(k.className=E),Object.keys(S).length>0&&(k.style=S),{props:k,internalRef:y.ref}}function o2(n,e,t){return typeof n=="function"?n(e,t):n}const a2=Fe.createContext(void 0);function l2(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const o=e.components[t];return o.defaultProps?np(o.defaultProps,i):!o.styleOverrides&&!o.variants?np(o,i):i}function u2({props:n,name:e}){const t=Fe.useContext(a2);return l2({props:n,name:e,theme:{components:t}})}const uv={theme:void 0};function c2(n){let e,t;return function(o){let l=e;return(l===void 0||o.theme!==t)&&(uv.theme=o.theme,l=Gw(n(uv)),e=l,t=o.theme),l}}function h2(n=""){function e(...i){if(!i.length)return"";const o=i[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${o}${e(...i.slice(1))})`:`, ${o}`}return(i,...o)=>`var(--${n?`${n}-`:""}${i}${e(...o)})`}const cv=(n,e,t,i=[])=>{let o=n;e.forEach((l,h)=>{h===e.length-1?Array.isArray(o)?o[Number(l)]=t:o&&typeof o=="object"&&(o[l]=t):o&&typeof o=="object"&&(o[l]||(o[l]=i.includes(l)?[]:{}),o=o[l])})},d2=(n,e,t)=>{function i(o,l=[],h=[]){Object.entries(o).forEach(([d,m])=>{(!t||t&&!t([...l,d]))&&m!=null&&(typeof m=="object"&&Object.keys(m).length>0?i(m,[...l,d],Array.isArray(m)?[...h,d]:h):e([...l,d],m,h))})}i(n)},f2=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Sf(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},o={},l={},h={};return d2(n,(d,m,y)=>{if((typeof m=="string"||typeof m=="number")&&(!i||!i(d,m))){const E=`--${t?`${t}-`:""}${d.join("-")}`,S=f2(d,m);Object.assign(o,{[E]:S}),cv(l,d,`var(${E})`,y),cv(h,d,`var(${E}, ${S})`,y)}},d=>d[0]==="vars"),{css:o,vars:l,varsWithDefaults:h}}function p2(n,e={}){const{getSelector:t=F,disableCssColorScheme:i,colorSchemeSelector:o}=e,{colorSchemes:l={},components:h,defaultColorScheme:d="light",...m}=n,{vars:y,css:E,varsWithDefaults:S}=Sf(m,e);let k=S;const V={},{[d]:M,...O}=l;if(Object.entries(O||{}).forEach(([X,K])=>{const{vars:se,css:re,varsWithDefaults:P}=Sf(K,e);k=Tn(k,P),V[X]={css:re,vars:se}}),M){const{css:X,vars:K,varsWithDefaults:se}=Sf(M,e);k=Tn(k,se),V[d]={css:X,vars:K}}function F(X,K){var re,P;let se=o;if(o==="class"&&(se=".%s"),o==="data"&&(se="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(se=`[${o}="%s"]`),X){if(se==="media")return n.defaultColorScheme===X?":root":{[`@media (prefers-color-scheme: ${((P=(re=l[X])==null?void 0:re.palette)==null?void 0:P.mode)||X})`]:{":root":K}};if(se)return n.defaultColorScheme===X?`:root, ${se.replace("%s",String(X))}`:se.replace("%s",String(X))}return":root"}return{vars:k,generateThemeVars:()=>{let X={...y};return Object.entries(V).forEach(([,{vars:K}])=>{X=Tn(X,K)}),X},generateStyleSheets:()=>{var I,b;const X=[],K=n.defaultColorScheme||"light";function se(_,R){Object.keys(R).length&&X.push(typeof _=="string"?{[_]:{...R}}:_)}se(t(void 0,{...E}),E);const{[K]:re,...P}=V;if(re){const{css:_}=re,R=(b=(I=l[K])==null?void 0:I.palette)==null?void 0:b.mode,N=!i&&R?{colorScheme:R,..._}:{..._};se(t(K,{...N}),N)}return Object.entries(P).forEach(([_,{css:R}])=>{var Ce,He;const N=(He=(Ce=l[_])==null?void 0:Ce.palette)==null?void 0:He.mode,A=!i&&N?{colorScheme:N,...R}:{...R};se(t(_,{...A}),A)}),X}}}function m2(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Xw(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Il.white,default:Il.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const g2=Xw();function Jw(){return{text:{primary:Il.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Il.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const hv=Jw();function dv(n,e,t,i){const o=i.light||i,l=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=nm(n.main,o):e==="dark"&&(n.dark=tm(n.main,l)))}function y2(n="light"){return n==="dark"?{main:Co[200],light:Co[50],dark:Co[400]}:{main:Co[700],light:Co[400],dark:Co[800]}}function v2(n="light"){return n==="dark"?{main:Ao[200],light:Ao[50],dark:Ao[400]}:{main:Ao[500],light:Ao[300],dark:Ao[700]}}function _2(n="light"){return n==="dark"?{main:ko[500],light:ko[300],dark:ko[700]}:{main:ko[700],light:ko[400],dark:ko[800]}}function w2(n="light"){return n==="dark"?{main:Ro[400],light:Ro[300],dark:Ro[700]}:{main:Ro[700],light:Ro[500],dark:Ro[900]}}function E2(n="light"){return n==="dark"?{main:Po[400],light:Po[300],dark:Po[700]}:{main:Po[800],light:Po[500],dark:Po[900]}}function T2(n="light"){return n==="dark"?{main:sl[400],light:sl[300],dark:sl[700]}:{main:"#ed6c02",light:sl[500],dark:sl[900]}}function rm(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...o}=n,l=n.primary||y2(e),h=n.secondary||v2(e),d=n.error||_2(e),m=n.info||w2(e),y=n.success||E2(e),E=n.warning||T2(e);function S(O){return Xx(O,hv.text.primary)>=t?hv.text.primary:g2.text.primary}const k=({color:O,name:F,mainShade:W=500,lightShade:te=300,darkShade:X=700})=>{if(O={...O},!O.main&&O[W]&&(O.main=O[W]),!O.hasOwnProperty("main"))throw new Error(Rs(11,F?` (${F})`:"",W));if(typeof O.main!="string")throw new Error(Rs(12,F?` (${F})`:"",JSON.stringify(O.main)));return dv(O,"light",te,i),dv(O,"dark",X,i),O.contrastText||(O.contrastText=S(O.main)),O};let V;return e==="light"?V=Xw():e==="dark"&&(V=Jw()),Tn({common:{...Il},mode:e,primary:k({color:l,name:"primary"}),secondary:k({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:d,name:"error"}),warning:k({color:E,name:"warning"}),info:k({color:m,name:"info"}),success:k({color:y,name:"success"}),grey:FP,contrastThreshold:t,getContrastText:S,augmentColor:k,tonalOffset:i,...V},o)}function S2(n){const e={};return Object.entries(n).forEach(i=>{const[o,l]=i;typeof l=="object"&&(e[o]=`${l.fontStyle?`${l.fontStyle} `:""}${l.fontVariant?`${l.fontVariant} `:""}${l.fontWeight?`${l.fontWeight} `:""}${l.fontStretch?`${l.fontStretch} `:""}${l.fontSize||""}${l.lineHeight?`/${l.lineHeight} `:""}${l.fontFamily||""}`)}),e}function I2(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function k2(n){return Math.round(n*1e5)/1e5}const fv={textTransform:"uppercase"},pv='"Roboto", "Helvetica", "Arial", sans-serif';function A2(n,e){const{fontFamily:t=pv,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:h=500,fontWeightBold:d=700,htmlFontSize:m=16,allVariants:y,pxToRem:E,...S}=typeof e=="function"?e(n):e,k=i/14,V=E||(F=>`${F/m*k}rem`),M=(F,W,te,X,K)=>({fontFamily:t,fontWeight:F,fontSize:V(W),lineHeight:te,...t===pv?{letterSpacing:`${k2(X/W)}em`}:{},...K,...y}),O={h1:M(o,96,1.167,-1.5),h2:M(o,60,1.2,-.5),h3:M(l,48,1.167,0),h4:M(l,34,1.235,.25),h5:M(l,24,1.334,0),h6:M(h,20,1.6,.15),subtitle1:M(l,16,1.75,.15),subtitle2:M(h,14,1.57,.1),body1:M(l,16,1.5,.15),body2:M(l,14,1.43,.15),button:M(h,14,1.75,.4,fv),caption:M(l,12,1.66,.4),overline:M(l,12,2.66,1,fv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Tn({htmlFontSize:m,pxToRem:V,fontFamily:t,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:d,...O},S,{clone:!1})}const C2=.2,R2=.14,P2=.12;function rt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${C2})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${R2})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${P2})`].join(",")}const b2=["none",rt(0,2,1,-1,0,1,1,0,0,1,3,0),rt(0,3,1,-2,0,2,2,0,0,1,5,0),rt(0,3,3,-2,0,3,4,0,0,1,8,0),rt(0,2,4,-1,0,4,5,0,0,1,10,0),rt(0,3,5,-1,0,5,8,0,0,1,14,0),rt(0,3,5,-1,0,6,10,0,0,1,18,0),rt(0,4,5,-2,0,7,10,1,0,2,16,1),rt(0,5,5,-3,0,8,10,1,0,3,14,2),rt(0,5,6,-3,0,9,12,1,0,3,16,2),rt(0,6,6,-3,0,10,14,1,0,4,18,3),rt(0,6,7,-4,0,11,15,1,0,4,20,3),rt(0,7,8,-4,0,12,17,2,0,5,22,4),rt(0,7,8,-4,0,13,19,2,0,5,24,4),rt(0,7,9,-4,0,14,21,2,0,5,26,4),rt(0,8,9,-5,0,15,22,2,0,6,28,5),rt(0,8,10,-5,0,16,24,2,0,6,30,5),rt(0,8,11,-5,0,17,26,2,0,6,32,5),rt(0,9,11,-5,0,18,28,2,0,7,34,6),rt(0,9,12,-6,0,19,29,2,0,7,36,6),rt(0,10,13,-6,0,20,31,3,0,8,38,7),rt(0,10,13,-6,0,21,33,3,0,8,40,7),rt(0,10,14,-6,0,22,35,3,0,8,42,7),rt(0,11,14,-7,0,23,36,3,0,9,44,8),rt(0,11,15,-7,0,24,38,3,0,9,46,8)],x2={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},N2={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mv(n){return`${Math.round(n)}ms`}function D2(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function O2(n){const e={...x2,...n.easing},t={...N2,...n.duration};return{getAutoHeightDuration:D2,create:(o=["all"],l={})=>{const{duration:h=t.standard,easing:d=e.easeInOut,delay:m=0,...y}=l;return(Array.isArray(o)?o:[o]).map(E=>`${E} ${typeof h=="string"?h:mv(h)} ${d} ${typeof m=="string"?m:mv(m)}`).join(",")},...n,easing:e,duration:t}}const V2={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function M2(n){return $r(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Zw(n={}){const e={...n};function t(i){const o=Object.entries(i);for(let l=0;l<o.length;l++){const[h,d]=o[l];!M2(d)||h.startsWith("unstable_")?delete i[h]:$r(d)&&(i[h]={...d},t(i[h]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function ip(n={},...e){const{breakpoints:t,mixins:i={},spacing:o,palette:l={},transitions:h={},typography:d={},shape:m,...y}=n;if(n.vars)throw new Error(Rs(20));const E=rm(l),S=Ww(n);let k=Tn(S,{mixins:I2(S.breakpoints,i),palette:E,shadows:b2.slice(),typography:A2(E,d),transitions:O2(h),zIndex:{...V2}});return k=Tn(k,y),k=e.reduce((V,M)=>Tn(V,M),k),k.unstable_sxConfig={...Ah,...y==null?void 0:y.unstable_sxConfig},k.unstable_sx=function(M){return ea({sx:M,theme:this})},k.toRuntimeSource=Zw,k}function L2(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const F2=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=L2(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function e1(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function t1(n){return n==="dark"?F2:[]}function U2(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...o}=n,l=rm(e);return{palette:l,opacity:{...e1(l.mode),...t},overlays:i||t1(l.mode),...o}}function B2(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const j2=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],z2=n=>(e,t)=>{const i=n.rootSelector||":root",o=n.colorSchemeSelector;let l=o;if(o==="class"&&(l=".%s"),o==="data"&&(l="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(l=`[${o}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const h={};return j2(n.cssVarPrefix).forEach(d=>{h[d]=t[d],delete t[d]}),l==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:h}}:l?{[l.replace("%s",e)]:h,[`${i}, ${l.replace("%s",e)}`]:t}:{[i]:{...t,...h}}}if(l&&l!=="media")return`${i}, ${l.replace("%s",String(e))}`}else if(e){if(l==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(l)return l.replace("%s",String(e))}return i};function $2(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function q(n,e,t){!n[e]&&t&&(n[e]=t)}function hl(n){return typeof n!="string"||!n.startsWith("hsl")?n:Qw(n)}function zr(n,e){`${e}Channel`in n||(n[`${e}Channel`]=cl(hl(n[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function W2(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const hr=n=>{try{return n()}catch{}},q2=(n="mui")=>h2(n);function If(n,e,t,i){if(!e)return;e=e===!0?{}:e;const o=i==="dark"?"dark":"light";if(!t){n[i]=U2({...e,palette:{mode:o,...e==null?void 0:e.palette}});return}const{palette:l,...h}=ip({...t,palette:{mode:o,...e==null?void 0:e.palette}});return n[i]={...e,palette:l,opacity:{...e1(o),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||t1(o)},h}function H2(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:o=!1,cssVarPrefix:l="mui",shouldSkipGeneratingVar:h=B2,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:m=":root",...y}=n,E=Object.keys(t)[0],S=i||(t.light&&E!=="light"?"light":E),k=q2(l),{[S]:V,light:M,dark:O,...F}=t,W={...F};let te=V;if((S==="dark"&&!("dark"in t)||S==="light"&&!("light"in t))&&(te=!0),!te)throw new Error(Rs(21,S));const X=If(W,te,y,S);M&&!W.light&&If(W,M,void 0,"light"),O&&!W.dark&&If(W,O,void 0,"dark");let K={defaultColorScheme:S,...X,cssVarPrefix:l,colorSchemeSelector:d,rootSelector:m,getCssVar:k,colorSchemes:W,font:{...S2(X.typography),...X.font},spacing:W2(y.spacing)};Object.keys(K.colorSchemes).forEach(b=>{const _=K.colorSchemes[b].palette,R=N=>{const A=N.split("-"),Ce=A[1],He=A[2];return k(N,_[Ce][He])};if(_.mode==="light"&&(q(_.common,"background","#fff"),q(_.common,"onBackground","#000")),_.mode==="dark"&&(q(_.common,"background","#000"),q(_.common,"onBackground","#fff")),$2(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){q(_.Alert,"errorColor",Ke(_.error.light,.6)),q(_.Alert,"infoColor",Ke(_.info.light,.6)),q(_.Alert,"successColor",Ke(_.success.light,.6)),q(_.Alert,"warningColor",Ke(_.warning.light,.6)),q(_.Alert,"errorFilledBg",R("palette-error-main")),q(_.Alert,"infoFilledBg",R("palette-info-main")),q(_.Alert,"successFilledBg",R("palette-success-main")),q(_.Alert,"warningFilledBg",R("palette-warning-main")),q(_.Alert,"errorFilledColor",hr(()=>_.getContrastText(_.error.main))),q(_.Alert,"infoFilledColor",hr(()=>_.getContrastText(_.info.main))),q(_.Alert,"successFilledColor",hr(()=>_.getContrastText(_.success.main))),q(_.Alert,"warningFilledColor",hr(()=>_.getContrastText(_.warning.main))),q(_.Alert,"errorStandardBg",Qe(_.error.light,.9)),q(_.Alert,"infoStandardBg",Qe(_.info.light,.9)),q(_.Alert,"successStandardBg",Qe(_.success.light,.9)),q(_.Alert,"warningStandardBg",Qe(_.warning.light,.9)),q(_.Alert,"errorIconColor",R("palette-error-main")),q(_.Alert,"infoIconColor",R("palette-info-main")),q(_.Alert,"successIconColor",R("palette-success-main")),q(_.Alert,"warningIconColor",R("palette-warning-main")),q(_.AppBar,"defaultBg",R("palette-grey-100")),q(_.Avatar,"defaultBg",R("palette-grey-400")),q(_.Button,"inheritContainedBg",R("palette-grey-300")),q(_.Button,"inheritContainedHoverBg",R("palette-grey-A100")),q(_.Chip,"defaultBorder",R("palette-grey-400")),q(_.Chip,"defaultAvatarColor",R("palette-grey-700")),q(_.Chip,"defaultIconColor",R("palette-grey-700")),q(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),q(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),q(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),q(_.LinearProgress,"primaryBg",Qe(_.primary.main,.62)),q(_.LinearProgress,"secondaryBg",Qe(_.secondary.main,.62)),q(_.LinearProgress,"errorBg",Qe(_.error.main,.62)),q(_.LinearProgress,"infoBg",Qe(_.info.main,.62)),q(_.LinearProgress,"successBg",Qe(_.success.main,.62)),q(_.LinearProgress,"warningBg",Qe(_.warning.main,.62)),q(_.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.11)`),q(_.Slider,"primaryTrack",Qe(_.primary.main,.62)),q(_.Slider,"secondaryTrack",Qe(_.secondary.main,.62)),q(_.Slider,"errorTrack",Qe(_.error.main,.62)),q(_.Slider,"infoTrack",Qe(_.info.main,.62)),q(_.Slider,"successTrack",Qe(_.success.main,.62)),q(_.Slider,"warningTrack",Qe(_.warning.main,.62));const N=fc(_.background.default,.8);q(_.SnackbarContent,"bg",N),q(_.SnackbarContent,"color",hr(()=>_.getContrastText(N))),q(_.SpeedDialAction,"fabHoverBg",fc(_.background.paper,.15)),q(_.StepConnector,"border",R("palette-grey-400")),q(_.StepContent,"border",R("palette-grey-400")),q(_.Switch,"defaultColor",R("palette-common-white")),q(_.Switch,"defaultDisabledColor",R("palette-grey-100")),q(_.Switch,"primaryDisabledColor",Qe(_.primary.main,.62)),q(_.Switch,"secondaryDisabledColor",Qe(_.secondary.main,.62)),q(_.Switch,"errorDisabledColor",Qe(_.error.main,.62)),q(_.Switch,"infoDisabledColor",Qe(_.info.main,.62)),q(_.Switch,"successDisabledColor",Qe(_.success.main,.62)),q(_.Switch,"warningDisabledColor",Qe(_.warning.main,.62)),q(_.TableCell,"border",Qe(dc(_.divider,1),.88)),q(_.Tooltip,"bg",dc(_.grey[700],.92))}if(_.mode==="dark"){q(_.Alert,"errorColor",Qe(_.error.light,.6)),q(_.Alert,"infoColor",Qe(_.info.light,.6)),q(_.Alert,"successColor",Qe(_.success.light,.6)),q(_.Alert,"warningColor",Qe(_.warning.light,.6)),q(_.Alert,"errorFilledBg",R("palette-error-dark")),q(_.Alert,"infoFilledBg",R("palette-info-dark")),q(_.Alert,"successFilledBg",R("palette-success-dark")),q(_.Alert,"warningFilledBg",R("palette-warning-dark")),q(_.Alert,"errorFilledColor",hr(()=>_.getContrastText(_.error.dark))),q(_.Alert,"infoFilledColor",hr(()=>_.getContrastText(_.info.dark))),q(_.Alert,"successFilledColor",hr(()=>_.getContrastText(_.success.dark))),q(_.Alert,"warningFilledColor",hr(()=>_.getContrastText(_.warning.dark))),q(_.Alert,"errorStandardBg",Ke(_.error.light,.9)),q(_.Alert,"infoStandardBg",Ke(_.info.light,.9)),q(_.Alert,"successStandardBg",Ke(_.success.light,.9)),q(_.Alert,"warningStandardBg",Ke(_.warning.light,.9)),q(_.Alert,"errorIconColor",R("palette-error-main")),q(_.Alert,"infoIconColor",R("palette-info-main")),q(_.Alert,"successIconColor",R("palette-success-main")),q(_.Alert,"warningIconColor",R("palette-warning-main")),q(_.AppBar,"defaultBg",R("palette-grey-900")),q(_.AppBar,"darkBg",R("palette-background-paper")),q(_.AppBar,"darkColor",R("palette-text-primary")),q(_.Avatar,"defaultBg",R("palette-grey-600")),q(_.Button,"inheritContainedBg",R("palette-grey-800")),q(_.Button,"inheritContainedHoverBg",R("palette-grey-700")),q(_.Chip,"defaultBorder",R("palette-grey-700")),q(_.Chip,"defaultAvatarColor",R("palette-grey-300")),q(_.Chip,"defaultIconColor",R("palette-grey-300")),q(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),q(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),q(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),q(_.LinearProgress,"primaryBg",Ke(_.primary.main,.5)),q(_.LinearProgress,"secondaryBg",Ke(_.secondary.main,.5)),q(_.LinearProgress,"errorBg",Ke(_.error.main,.5)),q(_.LinearProgress,"infoBg",Ke(_.info.main,.5)),q(_.LinearProgress,"successBg",Ke(_.success.main,.5)),q(_.LinearProgress,"warningBg",Ke(_.warning.main,.5)),q(_.Skeleton,"bg",`rgba(${R("palette-text-primaryChannel")} / 0.13)`),q(_.Slider,"primaryTrack",Ke(_.primary.main,.5)),q(_.Slider,"secondaryTrack",Ke(_.secondary.main,.5)),q(_.Slider,"errorTrack",Ke(_.error.main,.5)),q(_.Slider,"infoTrack",Ke(_.info.main,.5)),q(_.Slider,"successTrack",Ke(_.success.main,.5)),q(_.Slider,"warningTrack",Ke(_.warning.main,.5));const N=fc(_.background.default,.98);q(_.SnackbarContent,"bg",N),q(_.SnackbarContent,"color",hr(()=>_.getContrastText(N))),q(_.SpeedDialAction,"fabHoverBg",fc(_.background.paper,.15)),q(_.StepConnector,"border",R("palette-grey-600")),q(_.StepContent,"border",R("palette-grey-600")),q(_.Switch,"defaultColor",R("palette-grey-300")),q(_.Switch,"defaultDisabledColor",R("palette-grey-600")),q(_.Switch,"primaryDisabledColor",Ke(_.primary.main,.55)),q(_.Switch,"secondaryDisabledColor",Ke(_.secondary.main,.55)),q(_.Switch,"errorDisabledColor",Ke(_.error.main,.55)),q(_.Switch,"infoDisabledColor",Ke(_.info.main,.55)),q(_.Switch,"successDisabledColor",Ke(_.success.main,.55)),q(_.Switch,"warningDisabledColor",Ke(_.warning.main,.55)),q(_.TableCell,"border",Ke(dc(_.divider,1),.68)),q(_.Tooltip,"bg",dc(_.grey[700],.92))}zr(_.background,"default"),zr(_.background,"paper"),zr(_.common,"background"),zr(_.common,"onBackground"),zr(_,"divider"),Object.keys(_).forEach(N=>{const A=_[N];N!=="tonalOffset"&&A&&typeof A=="object"&&(A.main&&q(_[N],"mainChannel",cl(hl(A.main))),A.light&&q(_[N],"lightChannel",cl(hl(A.light))),A.dark&&q(_[N],"darkChannel",cl(hl(A.dark))),A.contrastText&&q(_[N],"contrastTextChannel",cl(hl(A.contrastText))),N==="text"&&(zr(_[N],"primary"),zr(_[N],"secondary")),N==="action"&&(A.active&&zr(_[N],"active"),A.selected&&zr(_[N],"selected")))})}),K=e.reduce((b,_)=>Tn(b,_),K);const se={prefix:l,disableCssColorScheme:o,shouldSkipGeneratingVar:h,getSelector:z2(K)},{vars:re,generateThemeVars:P,generateStyleSheets:I}=p2(K,se);return K.vars=re,Object.entries(K.colorSchemes[K.defaultColorScheme]).forEach(([b,_])=>{K[b]=_}),K.generateThemeVars=P,K.generateStyleSheets=I,K.generateSpacing=function(){return $w(y.spacing,Xp(this))},K.getColorSchemeSelector=m2(d),K.spacing=K.generateSpacing(),K.shouldSkipGeneratingVar=h,K.unstable_sxConfig={...Ah,...y==null?void 0:y.unstable_sxConfig},K.unstable_sx=function(_){return ea({sx:_,theme:this})},K.toRuntimeSource=Zw,K}function gv(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:rm({...t===!0?{}:t.palette,mode:e})})}function G2(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:o=t?void 0:{light:!0},defaultColorScheme:l=t==null?void 0:t.mode,...h}=n,d=l||"light",m=o==null?void 0:o[d],y={...o,...t?{[d]:{...typeof m!="boolean"&&m,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return ip(n,...e);let E=t;"palette"in n||y[d]&&(y[d]!==!0?E=y[d].palette:d==="dark"&&(E={mode:"dark"}));const S=ip({...n,palette:E},...e);return S.defaultColorScheme=d,S.colorSchemes=y,S.palette.mode==="light"&&(S.colorSchemes.light={...y.light!==!0&&y.light,palette:S.palette},gv(S,"dark",y.dark)),S.palette.mode==="dark"&&(S.colorSchemes.dark={...y.dark!==!0&&y.dark,palette:S.palette},gv(S,"light",y.light)),S}return!t&&!("light"in y)&&d==="light"&&(y.light=!0),H2({...h,colorSchemes:y,defaultColorScheme:d,...typeof i!="boolean"&&i},...e)}const K2=G2();function Q2(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Y2=n=>Q2(n)&&n!=="classes",Rh=$x({themeId:UP,defaultTheme:K2,rootShouldForwardProp:Y2}),n1=c2;function r1(n){return u2(n)}function X2(n){return Zp("MuiSvgIcon",n)}Hw("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const J2=n=>{const{color:e,fontSize:t,classes:i}=n,o={root:["root",e!=="inherit"&&`color${Zo(e)}`,`fontSize${Zo(t)}`]};return Yw(o,X2,i)},Z2=Rh("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Zo(t.color)}`],e[`fontSize${Zo(t.fontSize)}`]]}})(n1(({theme:n})=>{var e,t,i,o,l,h,d,m,y,E,S,k,V,M;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(e=n.transitions)==null?void 0:e.create)==null?void 0:o.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:O=>!O.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((h=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:h.call(l,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((m=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:m.call(d,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((E=(y=n.typography)==null?void 0:y.pxToRem)==null?void 0:E.call(y,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,O])=>O&&O.main).map(([O])=>{var F,W;return{props:{color:O},style:{color:(W=(F=(n.vars??n).palette)==null?void 0:F[O])==null?void 0:W.main}}}),{props:{color:"action"},style:{color:(k=(S=(n.vars??n).palette)==null?void 0:S.action)==null?void 0:k.active}},{props:{color:"disabled"},style:{color:(M=(V=(n.vars??n).palette)==null?void 0:V.action)==null?void 0:M.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Yc=Fe.forwardRef(function(e,t){const i=r1({props:e,name:"MuiSvgIcon"}),{children:o,className:l,color:h="inherit",component:d="svg",fontSize:m="medium",htmlColor:y,inheritViewBox:E=!1,titleAccess:S,viewBox:k="0 0 24 24",...V}=i,M=Fe.isValidElement(o)&&o.type==="svg",O={...i,color:h,component:d,fontSize:m,instanceFontSize:e.fontSize,inheritViewBox:E,viewBox:k,hasSvgAsChild:M},F={};E||(F.viewBox=k);const W=J2(O);return ae.jsxs(Z2,{as:d,className:Qc(W.root,l),focusable:"false",color:y,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:t,...F,...V,...M&&o.props,ownerState:O,children:[M?o.props.children:o,S?ae.jsx("title",{children:S}):null]})});Yc&&(Yc.muiName="SvgIcon");function eN(n,e){function t(i,o){return ae.jsx(Yc,{"data-testid":`${e}Icon`,ref:o,...i,children:n})}return t.muiName=Yc.muiName,Fe.memo(Fe.forwardRef(t))}function tN(n,e){const{className:t,elementType:i,ownerState:o,externalForwardedProps:l,internalForwardedProps:h,...d}=e,{component:m,slots:y={[n]:void 0},slotProps:E={[n]:void 0},...S}=l,k=y[n]||i,V=o2(E[n],o),{props:{component:M,...O},internalRef:F}=s2({className:t,...d,externalForwardedProps:void 0,externalSlotProps:V}),W=t2(F,V==null?void 0:V.ref,e.ref),te=M,X=r2(k,{...n==="root",...!y[n]&&h,...O,...te&&{as:te},ref:W},o);return[k,X]}const nN=eN(ae.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rN(n){return Zp("MuiAvatar",n)}Hw("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const iN=n=>{const{classes:e,variant:t,colorDefault:i}=n;return Yw({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},rN,e)},sN=Rh("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(n1(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),oN=Rh("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),aN=Rh(nN,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,e)=>e.fallback})({width:"75%",height:"75%"});function lN({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[o,l]=Fe.useState(!1);return Fe.useEffect(()=>{if(!t&&!i)return;l(!1);let h=!0;const d=new Image;return d.onload=()=>{h&&l("loaded")},d.onerror=()=>{h&&l("error")},d.crossOrigin=n,d.referrerPolicy=e,d.src=t,i&&(d.srcset=i),()=>{h=!1}},[n,e,t,i]),o}const uN=Fe.forwardRef(function(e,t){const i=r1({props:e,name:"MuiAvatar"}),{alt:o,children:l,className:h,component:d="div",slots:m={},slotProps:y={},imgProps:E,sizes:S,src:k,srcSet:V,variant:M="circular",...O}=i;let F=null;const W={...i,component:d,variant:M},te=lN({...E,...typeof y.img=="function"?y.img(W):y.img,src:k,srcSet:V}),X=k||V,K=X&&te!=="error";W.colorDefault=!K,delete W.ownerState;const se=iN(W),[re,P]=tN("img",{className:se.img,elementType:oN,externalForwardedProps:{slots:m,slotProps:{img:{...E,...y.img}}},additionalProps:{alt:o,src:k,srcSet:V,sizes:S},ownerState:W});return K?F=ae.jsx(re,{...P}):l||l===0?F=l:X&&o?F=o[0]:F=ae.jsx(aN,{ownerState:W,className:se.fallback}),ae.jsx(sN,{as:d,className:Qc(se.root,h),ref:t,...O,ownerState:W,children:F})});function cN(){const[n,e]=Fe.useState("This Week");new Date().getFullYear();const[t,i]=Fe.useState([]),[o,l]=Fe.useState(0),[h,d]=Fe.useState(0),[m,y]=Fe.useState(0),[E,S]=Fe.useState({}),[k,V]=Fe.useState("");function M(W){var te,X;return(te=E[W])!=null&&te.bookings.length?(X=E[W])==null?void 0:X.bookings.length:0}Fe.useEffect(()=>{async function W(){d(await Ci.getRevenue(n)),l(await Ci.getTotalBookings(n)),y(await Ci.AvgBookingValue(n)),i(await Ci.fetchLoginCredentials(n)),S(await Ci.groupByPickupBookedBy(n)),V(await Ci.TopPerformer(n))}W()},[n]);function O(W){return(W==null?void 0:W.charAt(0).toUpperCase())+(W==null?void 0:W.slice(1))}function F(W){return Ci.IncentiveCalculator(M(W))}return ae.jsxs("div",{className:"flex flex-col gap-8 p-8 bg-gray-50 min-h-screen",children:[ae.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[ae.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Filter Options"}),ae.jsxs("form",{className:"space-y-6",children:[ae.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:ae.jsxs("div",{children:[ae.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),ae.jsxs("select",{id:"date-range",name:"dateRange",className:"w-full border border-gray-300 rounded-md p-2 focus:ring-purple-500 focus:border-purple-500",value:n,onChange:W=>e(W.target.value),children:[ae.jsx("option",{value:"Select range",children:"Select range"}),ae.jsx("option",{value:"This Week",children:"This Week"}),ae.jsx("option",{value:"Last Week",children:"Last Week"})]})]})}),ae.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50",children:"Apply Filters"})]})]}),ae.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[ae.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Sales Overview"}),ae.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[ae.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg shadow-sm",children:[ae.jsx("h2",{className:"text-lg font-medium text-purple-800",children:"Total Bookings"}),ae.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o})]}),ae.jsxs("div",{className:"bg-green-50 p-6 rounded-lg shadow-sm",children:[ae.jsx("h2",{className:"text-lg font-medium text-green-800",children:"Total Revenue"}),ae.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",h]})]}),ae.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg shadow-sm",children:[ae.jsx("h2",{className:"text-lg font-medium text-blue-800",children:"Avg. Booking Value"}),ae.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",m]})]}),ae.jsxs("div",{className:"bg-red-50 p-6 rounded-lg shadow-sm",children:[ae.jsx("h2",{className:"text-lg font-medium text-red-800",children:"Top Performer"}),ae.jsx("p",{className:"text-2xl font-bold text-red-600",children:O(k)})]})]})]}),ae.jsxs("div",{children:[ae.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Sales Team Performance"}),ae.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(W=>ae.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col gap-4",children:[ae.jsxs("div",{className:"flex items-center gap-4",children:[ae.jsx(uN,{alt:O(W.name),src:""}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-lg font-semibold text-gray-800",children:O(W.name)}),ae.jsx("p",{className:"text-sm text-gray-500",children:W.role})]})]}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-gray-500",children:"Weekly Bookings"}),ae.jsx("p",{className:"text-lg font-semibold text-gray-800",children:M(W.name)})]}),ae.jsxs("button",{className:"bg-gray-100 p-3 rounded-md flex items-center gap-2 hover:bg-gray-200",onClick:()=>Ci.downloadCSV(W.name,n),children:[ae.jsx("img",{className:"w-5",src:"download-minimalistic.svg",alt:"Download icon"}),ae.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Download Report"})]})]},W.name))})]}),ae.jsxs("div",{className:"bg-gray-50",children:[ae.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-10 text-center",children:"Weekly Incentive (Saturday to Friday)"}),ae.jsx("div",{className:"overflow-x-auto",children:ae.jsxs("table",{className:"min-w-full table-auto bg-white border-collapse border border-gray-300 rounded-lg shadow",children:[ae.jsx("thead",{children:ae.jsxs("tr",{className:"bg-gray-200",children:[ae.jsx("th",{className:"px-6 py-4 text-center text-lg font-semibold text-gray-700 border-b border-gray-300",children:"Name"}),ae.jsx("th",{className:"px-6 py-4 text-center text-lg font-semibold text-gray-700 border-b border-gray-300",children:"Bookings"}),ae.jsx("th",{className:"px-6 py-4 text-center text-lg font-semibold text-gray-700 border-b border-gray-300",children:"Incentive"}),ae.jsx("th",{className:"px-6 py-4 text-center text-lg font-semibold text-gray-700 border-b border-gray-300",children:"Actions"})]})}),ae.jsx("tbody",{children:t.map((W,te)=>ae.jsxs("tr",{className:`${te%2===0?"bg-gray-50":"bg-white"} hover:bg-gray-100 transition-colors duration-200`,children:[ae.jsx("td",{className:"px-6 py-4 text-center text-base text-gray-800 font-medium border-b border-gray-300",children:W.name}),ae.jsx("td",{className:"px-6 py-4 text-center text-base text-gray-800 font-medium border-b border-gray-300",children:String(M(W.name)).padStart(2,"0")}),ae.jsxs("td",{className:"px-6 py-4 text-center text-base text-gray-800 font-medium border-b border-gray-300",children:["",F(W.name)]}),ae.jsx("td",{className:"px-6 py-4 text-center border-b border-gray-300",children:ae.jsx("button",{className:"text-nowrap bg-purple-600 text-white px-6 py-2 rounded-lg text-base font-semibold hover:bg-purple-700 hover:shadow-md focus:ring-2 focus:ring-purple-400 focus:outline-none transition-all duration-200",children:"View Details"})})]},te))})]})})]})]})}function hN(){return ae.jsx("div",{className:"container mx-auto",children:ae.jsx(cN,{})})}vE.createRoot(document.getElementById("root")).render(ae.jsx(Fe.StrictMode,{children:ae.jsx(hN,{})}));
